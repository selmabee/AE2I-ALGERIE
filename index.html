<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous. Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure.">
    <meta name="keywords" content="ingénierie, énergie, industrie, algérie, AE2I, projet industriel, électrotechnique, maintenance">
    <meta name="author" content="AE2I Algérie">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ae2i-algerie.com/">
    <meta property="og:title" content="AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous">
    <meta property="og:description" content="Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure.">
    <meta property="og:image" content="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=1200&h=630&fit=crop">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ae2i-algerie.com/">
    <meta property="twitter:title" content="AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous">
    <meta property="twitter:description" content="Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure.">
    <meta property="twitter:image" content="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=1200&h=600&fit=crop">
    
    <!-- Favicon -->
    <link rel="icon" href="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=32&h=32&fit=crop" type="image/x-icon">
    <link rel="apple-touch-icon" href="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=180&h=180&fit=crop">
    
    <!-- Preload critical assets -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Cairo:wght@300;400;500;600;700;800&display=swap" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="preload" href="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=150&h=50&fit=crop" as="image">
    
    <!-- Fonts with display swap for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- LinkedIn SDK -->
    <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: fr_FR</script>
    
    <!-- TinyMCE -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.8.3/tinymce.min.js"></script>

    <!-- /* ADD: auto-generate-pdf - jsPDF library for automatic PDF generation */ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <title>AE2I Algérie - Site Ultra-Professionnel</title>

    <!-- ===== CONFIGURATION MODE API/LOCAL ===== -->
    <script>
        /* SECTION: API/LOCAL MODE CONFIG */
        const MODE = 'LOCAL'; // 'API' | 'LOCAL'
        const API_BASE_URL = 'https://api.ae2i-algerie.com/v1';
        const API_KEY = 'ae2i-api-key-2025';
    </script>

    <!-- ===== GLOBAL STYLES AMÉLIORÉS ===== -->
    <style id="global-styles">
        /* SECTION: CSS VARIABLES ULTRA-SOPHISTIQUÉES */
        :root {
            --primary: #0e7a9e;
            --primary-light: #138397;
            --primary-dark: #2988a5;
            --secondary: #e63946;
            --secondary-light: #ff5c6d;
            --secondary-dark: #c1121f;
            --accent: #00a896;
            --accent-light: #00c9b1;
            --accent-dark: #259595;
            --success: #40b0c4;
            --warning: #e9c46a;
            --danger: #e76f51;
            --info: #9fb7d8;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #6980a1;
            --gray-dark: #475569;
            --border: #e2e8f0;
            --border-dark: #334155;
            --bg-alt: #f1f5f9;
            --bg-dark: #143435;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --text-lighter: #94a3b8;
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.06);
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 8px 16px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 16px 32px rgba(0, 0, 0, 0.18);
            --shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.22);
            --shadow-2xl: 0 32px 64px rgba(0, 0, 0, 0.25);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.15s ease;
            --border-radius: 16px;
            --border-radius-sm: 12px;
            --border-radius-md: 20px;
            --border-radius-lg: 24px;
            --border-radius-xl: 32px;
            --border-radius-full: 9999px;
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            --font-size-xs: clamp(0.7rem, 1.5vw, 0.75rem);
            --font-size-sm: clamp(0.8rem, 1.8vw, 0.875rem);
            --font-size-base: clamp(0.9rem, 2vw, 1rem);
            --font-size-lg: clamp(1rem, 2.2vw, 1.125rem);
            --font-size-xl: clamp(1.1rem, 2.4vw, 1.25rem);
            --font-size-2xl: clamp(1.25rem, 2.8vw, 1.5rem);
            --font-size-3xl: clamp(1.5rem, 3.5vw, 1.875rem);
            --font-size-4xl: clamp(1.875rem, 4vw, 2.25rem);
            --font-size-5xl: clamp(2.25rem, 5vw, 3rem);
            --font-size-6xl: clamp(3rem, 6vw, 3.75rem);
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            --font-weight-extrabold: 800;
            --line-height-tight: 1.2;
            --line-height-snug: 1.375;
            --line-height-normal: 1.5;
            --line-height-loose: 1.7;
            --letter-spacing-tight: -0.025em;
            --letter-spacing-normal: 0;
            --letter-spacing-wide: 0.025em;
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gradient-secondary: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            --gradient-info: linear-gradient(135deg, var(--info) 0%, #b5f0ff 100%);
            --gradient-success: linear-gradient(135deg, var(--success) 0%, #97d4ec 100%);
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(255, 255, 255, 0.2);
            --backdrop-blur: blur(20px);
            /* FIX: remove-loading-screen */
            --z-admin: 3000;
            --z-modal: 10000;
            --z-dropdown: 1001;
            --z-header: 1000;
            --z-scroll-top: 1050;
            --z-consent: 10001;
            --z-notification: 10002;
            --card-height-sm: 220px;
            --card-height-md: 280px;
            --card-height-lg: 340px;
            --spacing-xs: clamp(0.25rem, 1vw, 0.5rem);
            --spacing-sm: clamp(0.5rem, 1.5vw, 1rem);
            --spacing-md: clamp(1rem, 2vw, 1.5rem);
            --spacing-lg: clamp(1.5rem, 3vw, 2rem);
            --spacing-xl: clamp(2rem, 4vw, 3rem);
        }

        /* SECTION: GLOBAL RESET & BASE STYLES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        *::before,
        *::after {
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family);
            line-height: var(--line-height-normal);
            color: var(--text-dark);
            background: var(--bg-alt);
            overflow-x: hidden;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            transition: var(--transition);
            width: 100%;
            max-width: 100vw;
        }

        /* SECTION: RESPONSIVE IMAGES AND MEDIA */
        img, video, iframe {
            max-width: 100%;
            height: auto;
            object-fit: contain;
        }

        /* Prevent horizontal overflow */
        * {
            max-width: 100%;
        }

        .container, .section, .page-section {
            max-width: 100%;
            overflow-x: hidden;
        }

        body.dark-mode {
            --bg-alt: var(--bg-dark);
            --text-dark: var(--light);
            --text-light: var(--text-lighter);
            --border: var(--border-dark);
            --light: var(--dark);
            --glass-bg: rgba(15, 23, 42, 0.95);
            --glass-border: rgba(255, 255, 255, 0.1);
            background: var(--bg-dark);
            color: var(--light);
        }

        body.maintenance-mode .page-section:not(#maintenance-page) {
            display: none !important;
        }

        
        .social-controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }

        .social-control-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md);
            background: var(--bg-alt);
            border-radius: var(--border-radius);
            border: 2px solid var(--border);
            transition: var(--transition);
        }

        .social-control-item:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow);
        }

        .social-control-info {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }

        .social-control-info i {
            font-size: 1.5em;
            color: var(--primary);
        }

        @media (max-width: 768px) {
            .social-controls-grid {
                grid-template-columns: 1fr;
            }
        }

        /* SECTION: RTL SUPPORT FOR ARABIC */
        [dir="rtl"] {
            direction: rtl;
            text-align: right;
        }

        [dir="rtl"] body {
            font-family: 'Cairo', 'Noto Sans Arabic', var(--font-family);
        }

        [dir="rtl"] .reverse,
        [dir="rtl"] .header-container,
        [dir="rtl"] .header-actions {
            flex-direction: row-reverse;
        }

        [dir="rtl"] .icon-flip {
            transform: scaleX(-1);
        }

        [dir="rtl"] .language-selector {
            flex-direction: row-reverse;
        }

        [dir="rtl"] .mobile-menu-toggle {
            margin-left: 0;
            margin-right: auto;
        }

        [dir="rtl"] .nav-menu {
            text-align: right;
        }

        [dir="rtl"] .nav-menu li {
            text-align: right;
        }

        /* RTL: Images responsive */
        [dir="rtl"] img {
            max-width: 100%;
            height: auto;
            object-fit: contain;
        }

        /* RTL: Grid alignments */
        [dir="rtl"] .grid,
        [dir="rtl"] .services-grid,
        [dir="rtl"] .partners-grid {
            direction: rtl;
        }

        /* RTL: Buttons and forms */
        [dir="rtl"] button,
        [dir="rtl"] input,
        [dir="rtl"] textarea {
            text-align: right;
        }

        /* RTL: Footer sections */
        [dir="rtl"] .footer-content {
            direction: rtl;
        }

        /* RTL: Mobile menu from right */
        @media (max-width: 768px) {
            [dir="rtl"] .nav-menu {
                right: auto;
                left: 0;
            }
        }

        /* SECTION: SYSTÈME DE NAVIGATION MULTIPAGE */
        .page-section {
            display: none;
            min-height: 100vh;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .page-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .page-section.fade-in {
            animation: pageTransition 0.6s ease-out forwards;
        }

        @keyframes pageTransition {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* SECTION: NAVIGATION INDICATORS */
        nav a.current-page {
            color: var(--primary) !important;
            font-weight: 700;
        }

        nav a.current-page::after {
            width: 100% !important;
            background: var(--gradient-primary);
        }

        /* SECTION: CONSENT BANNER (LOI 18-07) */
        .consent-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--dark) 0%, var(--gray-dark) 100%);
            color: white;
            padding: var(--spacing-lg);
            z-index: var(--z-consent);
            transform: translateY(100%);
            transition: transform 0.4s ease;
            border-top: 4px solid var(--primary);
            box-shadow: var(--shadow-2xl);
        }

        .consent-banner.show {
            transform: translateY(0);
        }

        .consent-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .consent-text {
            flex: 1;
            min-width: 300px;
        }

        .consent-text h4 {
            font-size: var(--font-size-lg);
            margin-bottom: 8px;
            color: var(--primary-light);
        }

        .consent-text p {
            font-size: var(--font-size-sm);
            line-height: var(--line-height-loose);
            opacity: 0.9;
        }

        .consent-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .consent-btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .consent-accept {
            background: var(--success);
            color: white;
        }

        .consent-accept:hover {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }

        .consent-decline {
            background: transparent;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .consent-decline:hover {
            background: var(--danger);
            border-color: var(--danger);
            transform: translateY(-2px);
        }

        .consent-settings {
            background: transparent;
            color: var(--primary-light);
            border: 2px solid var(--primary);
            font-size: var(--font-size-xs);
            padding: 8px 16px;
        }

        .consent-settings:hover {
            background: var(--primary);
            color: white;
        }

        /* SECTION: NOTIFICATIONS ULTRA-AMÉLIORÉES AVEC DÉDUPLICATION CORRIGÉE */
        .notification-container {
            position: fixed;
            bottom: 100px;
            right: 30px;
            z-index: var(--z-notification);
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 420px;
        }

        .notification {
            background: var(--success);
            color: white;
            padding: 24px 32px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-2xl);
            font-weight: 500;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            border-left: 6px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            gap: 16px;
            min-width: 320px;
            font-size: var(--font-size-base);
            position: relative;
            cursor: pointer;
            backdrop-filter: var(--backdrop-blur);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--danger);
        }

        .notification.info {
            background: var(--info);
        }

        .notification.warning {
            background: var(--warning);
            color: var(--text-dark);
        }

        .notification.candidate-alert {
            background: var(--gradient-accent);
            border-left-color: var(--accent-light);
            animation: notificationPulse 2s ease-in-out infinite;
        }

        @keyframes notificationPulse {
            0%, 100% { transform: translateX(0) scale(1); }
            50% { transform: translateX(0) scale(1.02); }
        }

        .notification-close {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: var(--transition);
        }

        .notification-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* SECTION: GLOBAL COMPONENTS */
        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: var(--font-size-2xl);
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            z-index: var(--z-scroll-top);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scroll-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .scroll-to-top:hover {
            background: var(--gradient-secondary);
            transform: translateY(-5px) scale(1.1);
            box-shadow: var(--shadow-xl);
        }

        /* FIX: remove-loading-screen */

        /* SECTION: HEADER CORRIGÉ AVEC STRUCTURE CSS GRID STABLE - LOGO LEFT, MENU CENTER, ACTIONS RIGHT */
        header {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            -webkit-backdrop-filter: var(--backdrop-blur);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: var(--z-header);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-bottom: 1px solid var(--border);
        }

        body.dark-mode header {
            background: var(--glass-bg);
            border-bottom-color: var(--border);
        }

        /* STRUCTURE CSS GRID AVEC 3 ZONES DISTINCTES CORRIGÉE */
        .header-container {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            padding: var(--spacing-md) 0;
            max-width: 1400px;
            margin: 0 auto;
            width: 90%;
            min-height: 80px;
            gap: var(--spacing-lg);
        }

        /* ZONE GAUCHE - LOGO PARFAITEMENT ALIGNÉ */
        .header-left {
            justify-self: start;
            display: flex;
            align-items: center;
        }

        .logo {
            font-weight: 700;
            font-size: var(--font-size-2xl);
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            transition: var(--transition);
            height: 50px;
            justify-content: center;
        }

        .logo:hover {
            transform: translateY(-2px);
        }

        .logo img {
            height: 50px;
            width: auto;
            max-width: 150px;
            object-fit: contain;
            transition: var(--transition);
            border-radius: var(--border-radius-sm);
        }

        .logo img:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-md);
        }

        /* ZONE CENTRALE - MENU PRINCIPAL PARFAITEMENT CENTRÉ */
        .header-center {
            justify-self: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-center nav {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-center nav ul {
            display: flex;
            list-style: none;
            gap: 24px;
            align-items: center;
            margin: 0;
            padding: 0;
        }

        .header-center nav a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 12px 0;
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-base);
            white-space: nowrap;
        }

        body.dark-mode .header-center nav a {
            color: var(--text-light);
        }

        .header-center nav a:hover {
            color: var(--primary);
            transform: translateY(-2px);
        }

        .header-center nav a::after {
            content: '';
            position: absolute;
            bottom: 4px;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--gradient-primary);
            transition: var(--transition);
            border-radius: var(--border-radius-full);
            transform: translateX(-50%);
        }

        .header-center nav a:hover::after {
            width: 100%;
        }

        /* ZONE DROITE - ACTIONS PARFAITEMENT ALIGNÉES */
        .header-right {
            justify-self: end;
            display: flex;
            align-items: center;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: nowrap;
        }

        .language-selector {
            display: flex;
            gap: 2px;
            border: 2px solid var(--border);
            border-radius: var(--border-radius-full);
            overflow: hidden;
            font-size: var(--font-size-sm);
            box-shadow: var(--shadow-sm);
        }

        .language-btn {
            padding: 8px 16px;
            background: transparent;
            border: none;
            cursor: pointer;
            color: var(--text-light);
            transition: var(--transition);
            font-weight: 500;
            font-size: var(--font-size-sm);
        }

        .language-btn.active {
            background: var(--primary);
            color: white;
            transform: scale(1.05);
        }

        .language-btn:hover:not(.active) {
            background: var(--bg-alt);
            color: var(--primary);
        }

        .theme-toggle,
        .login-btn {
            background: none;
            border: 2px solid var(--primary);
            font-size: var(--font-size-xl);
            cursor: pointer;
            color: var(--primary);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .theme-toggle:hover,
        .login-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1) rotate(5deg);
            box-shadow: var(--shadow-md);
        }

        .login-btn.logged-in {
            background: var(--primary);
            color: white;
            border-color: var(--success);
        }

        .login-btn.logged-in::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 16px;
            height: 16px;
            background: var(--success);
            border-radius: 50%;
            border: 2px solid white;
            animation: pulse 2s infinite;
        }

        /* FIX: logout-system - Styles pour le bouton de déconnexion dans le header */
        .header-logout-btn {
            background: var(--danger);
            border: 2px solid var(--danger);
            color: white;
            padding: 10px 20px;
            border-radius: var(--border-radius-full);
            cursor: pointer;
            font-weight: 600;
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            white-space: nowrap;
        }

        .header-logout-btn:hover {
            background: var(--secondary-dark);
            border-color: var(--secondary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .header-logout-btn i {
            font-size: 16px;
        }

        /* SECTION: MENU MOBILE BURGER CORRIGÉ */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: 2px solid var(--primary);
            font-size: var(--font-size-2xl);
            color: var(--primary);
            cursor: pointer;
            padding: 8px;
            border-radius: var(--border-radius-sm);
            transition: var(--transition);
            width: 48px;
            height: 48px;
            justify-content: center;
            align-items: center;
        }

        .mobile-menu-toggle:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        /* MENU MOBILE LATÉRAL SOPHISTICATED CORRIGÉ */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: var(--backdrop-blur);
            z-index: var(--z-dropdown);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-menu-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu-panel {
            position: fixed;
            top: 80px;
            right: 0;
            width: 320px;
            height: calc(100vh - 80px);
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            border-left: 1px solid var(--border);
            box-shadow: var(--shadow-xl);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: var(--z-dropdown);
            overflow-y: auto;
        }

        body.dark-mode .mobile-menu-panel {
            background: var(--glass-bg);
            border-left-color: var(--border);
        }

        .mobile-menu-panel.show {
            transform: translateX(0);
        }

        .mobile-menu-header {
            padding: var(--spacing-lg);
            border-bottom: 2px solid var(--border);
            background: var(--gradient-primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .mobile-menu-close {
            background: none;
            border: none;
            color: white;
            font-size: var(--font-size-2xl);
            cursor: pointer;
            padding: 8px;
            border-radius: var(--border-radius-sm);
            transition: var(--transition);
        }

        .mobile-menu-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .mobile-menu-nav {
            padding: var(--spacing-lg);
        }

        .mobile-menu-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-menu-nav li {
            margin-bottom: 4px;
        }

        .mobile-menu-nav a {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 20px;
            color: var(--text-dark);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: var(--transition);
            font-weight: 500;
            font-size: var(--font-size-base);
        }

        body.dark-mode .mobile-menu-nav a {
            color: var(--text-light);
        }

        .mobile-menu-nav a:hover,
        .mobile-menu-nav a.current-page {
            background: var(--primary);
            color: white;
            transform: translateX(8px);
        }

        .mobile-menu-nav i {
            width: 20px;
            text-align: center;
            font-size: var(--font-size-lg);
        }

        /* SECTION: USER DROPDOWN */
        .user-menu {
            position: relative;
        }

        .user-dropdown {
            position: absolute;
            top: calc(100% + 15px);
            right: 0;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border);
            min-width: 220px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: var(--z-dropdown);
            overflow: hidden;
        }

        body.dark-mode .user-dropdown {
            background: var(--bg-dark);
            border-color: var(--border-dark);
        }

        .user-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
        }

        .user-dropdown::before {
            content: '';
            position: absolute;
            top: -8px;
            right: 20px;
            width: 16px;
            height: 16px;
            background: white;
            transform: rotate(45deg);
            border-left: 1px solid var(--border);
            border-top: 1px solid var(--border);
        }

        body.dark-mode .user-dropdown::before {
            background: var(--bg-dark);
            border-color: var(--border-dark);
        }

        .user-dropdown-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            color: var(--text-dark);
            text-decoration: none;
            transition: var(--transition);
            border-bottom: 1px solid var(--border);
            position: relative;
            font-size: var(--font-size-sm);
        }

        body.dark-mode .user-dropdown-item {
            color: var(--text-light);
            border-bottom-color: var(--border-dark);
        }

        .user-dropdown-item:last-child {
            border-bottom: none;
        }

        .user-dropdown-item:hover {
            background: var(--bg-alt);
            color: var(--primary);
            transform: translateX(5px);
        }

        body.dark-mode .user-dropdown-item:hover {
            background: var(--dark);
        }

        /* SECTION: RESPONSIVE HEADER COMPLET */
        @media (max-width: 1024px) {
            .header-container {
                grid-template-columns: auto auto;
                grid-template-areas: "left right";
                justify-content: space-between;
            }

            .header-left {
                grid-area: left;
            }

            .header-center {
                display: none;
            }

            .header-right {
                grid-area: right;
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .mobile-menu-toggle {
                display: flex;
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                padding: var(--spacing-sm) 0;
                gap: var(--spacing-sm);
                width: 95%;
            }

            .header-actions {
                gap: 8px;
            }

            .language-selector {
                font-size: var(--font-size-xs);
            }

            .language-btn {
                padding: 6px 12px;
                font-size: var(--font-size-xs);
            }

            .theme-toggle,
            .login-btn {
                width: 40px;
                height: 40px;
                font-size: var(--font-size-lg);
            }

            /* FIX: logout-system - Responsive pour bouton déconnexion header */
            .header-logout-btn {
                padding: 8px 12px;
                font-size: var(--font-size-xs);
                gap: 6px;
            }

            .header-logout-btn span {
                display: none;
            }

            .header-logout-btn i {
                font-size: 18px;
            }

            .mobile-menu-toggle {
                width: 40px;
                height: 40px;
                font-size: var(--font-size-lg);
            }

            .mobile-menu-panel {
                width: 280px;
            }

            .notification-container {
                right: 15px;
                left: 15px;
                bottom: 80px;
                max-width: none;
            }

            .notification {
                min-width: auto;
            }
        }

        /* SECTION: MODALS STYLES ULTRA-PROFESSIONNELS */
        .modal, .login-modal, .admin-modal, .cv-preview-modal, .page-modal, .consent-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: var(--backdrop-blur);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: var(--z-modal);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .modal.show, .login-modal.show, .admin-modal.show, .cv-preview-modal.show, .page-modal.show, .consent-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content, .login-content, .admin-modal-content, .cv-preview-content, .page-modal-content, .consent-modal-content {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            max-width: 750px;
            width: 95%;
            box-shadow: var(--shadow-2xl);
            transform: scale(0.9) translateY(20px);
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border);
            backdrop-filter: var(--backdrop-blur);
        }

        body.dark-mode .modal-content,
        body.dark-mode .login-content,
        body.dark-mode .admin-modal-content,
        body.dark-mode .cv-preview-content,
        body.dark-mode .page-modal-content,
        body.dark-mode .consent-modal-content {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
            color: var(--text-light);
            border-color: var(--border-dark);
        }

        .modal.show .modal-content,
        .login-modal.show .login-content,
        .admin-modal.show .admin-modal-content,
        .cv-preview-modal.show .cv-preview-content,
        .page-modal.show .page-modal-content,
        .consent-modal.show .consent-modal-content {
            transform: scale(1) translateY(0);
        }

        .close, .login-close {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--bg-alt);
            border: none;
            font-size: var(--font-size-2xl);
            cursor: pointer;
            color: var(--text-light);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 10;
        }

        .close:hover, .login-close:hover {
            background: var(--danger);
            color: white;
            transform: rotate(90deg) scale(1.1);
        }

        /* SECTION: FORMS STYLES ULTRA-SOPHISTIQUÉS */
        .form-group {
            margin-bottom: var(--spacing-md);
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: var(--font-size-sm);
        }

        body.dark-mode .form-group label {
            color: var(--text-light);
        }

        .form-control {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--border);
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            transition: var(--transition);
            background: white;
            color: var(--text-dark);
            font-family: var(--font-family);
        }

        body.dark-mode .form-control {
            background: var(--dark);
            border-color: var(--border-dark);
            color: var(--text-light);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 86, 179, 0.1);
            transform: translateY(-2px);
        }

        .form-control:hover {
            border-color: var(--primary-light);
        }

        /* SECTION: STYLES POUR SELECTS MULTIPLES (WILAYAS) DANS DASHBOARDS */
        select.form-control[multiple] {
            min-height: 150px;
            max-height: 400px;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 8px;
            padding-bottom: 16px;
        }

        select.form-control[multiple]::-webkit-scrollbar {
            width: 10px;
        }

        select.form-control[multiple]::-webkit-scrollbar-track {
            background: var(--bg-alt);
            border-radius: 4px;
        }

        select.form-control[multiple]::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        select.form-control[multiple]::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        select.form-control[multiple] option {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        select.form-control[multiple] option:hover {
            background: var(--primary-light);
            color: white;
        }

        select.form-control[multiple] option:checked {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        body.dark-mode select.form-control[multiple] option {
            background: var(--dark);
            color: var(--text-light);
        }

        body.dark-mode select.form-control[multiple] option:hover {
            background: var(--primary-light);
            color: white;
        }

        body.dark-mode select.form-control[multiple] option:checked {
            background: var(--primary);
            color: white;
        }

        /* SECTION: BUTTONS STYLES ULTRA-SOPHISTIQUÉS */
        .btn {
            padding: 16px 32px;
            border-radius: var(--border-radius);
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            font-size: var(--font-size-base);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
            position: relative;
            overflow: hidden;
            font-family: var(--font-family);
            min-height: 48px;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .btn:hover:before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: var(--font-size-sm);
            border-radius: var(--border-radius-sm);
            min-height: 36px;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-1px) scale(1.02);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #d97706;
            transform: translateY(-1px) scale(1.02);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-1px) scale(1.02);
        }

        .functional-btn {
            transition: var(--transition);
            cursor: pointer;
        }

        .functional-btn:hover {
            transform: translateY(-2px);
        }

        /* SECTION: BOUTON POSTULER ULTRA-VISIBLE ET OPÉRATIONNEL - CLASSE UNIFIÉE */
        .btn-apply {
            min-width: 140px !important;
            padding: 12px 20px !important;
            font-size: var(--font-size-sm) !important;
            font-weight: 800 !important;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 50%, var(--accent) 100%) !important;
            color: white !important;
            border: none !important;
            border-radius: var(--border-radius) !important;
            cursor: pointer !important;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 8px !important;
            position: relative !important;
            overflow: visible !important;
            text-transform: uppercase !important;
            letter-spacing: 0.8px !important;
            box-shadow: var(--shadow-md) !important;
            z-index: 10 !important;
            text-decoration: none !important;
            white-space: nowrap !important;
            flex-shrink: 0 !important;
            width: auto !important;
            height: auto !important;
        }

        .btn-apply::before {
            content: '' !important;
            position: absolute !important;
            top: 0 !important;
            left: -100% !important;
            width: 100% !important;
            height: 100% !important;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent) !important;
            transition: left 0.6s !important;
        }

        .btn-apply:hover::before {
            left: 100% !important;
        }

        .btn-apply:hover {
            transform: translateY(-3px) scale(1.05) !important;
            box-shadow: var(--shadow-xl) !important;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 50%, var(--primary) 100%) !important;
        }

        .btn-apply:active {
            transform: translateY(-1px) scale(1.02) !important;
        }

        /* FIX: New Apply button hover effect */
        .carriere-btn-apply {
            position: relative;
            overflow: hidden;
        }

        .carriere-btn-apply::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .carriere-btn-apply:hover::before {
            left: 100%;
        }

        .carriere-btn-apply:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 86, 179, 0.4) !important;
        }

        .carriere-btn-apply:active {
            transform: translateY(-1px) scale(1.02);
        }

        /* FIX: Application modal adjustments */
        #applicationModal .modal-content {
            max-width: 1100px !important;
            width: 95vw !important;
            max-height: 92vh !important;
            overflow-y: auto !important;
        }

        #applicationModal h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: var(--spacing-lg);
        }

        #applicationModal .form-group label {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        /* FIX: Conditional fields styling */
        .conditional-field {
            transition: all 0.3s ease;
            margin-top: var(--spacing-md);
            padding: var(--spacing-md);
            background: rgba(0, 86, 179, 0.05);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
        }

        /* ADD: preavis-negociable-visual - Style for negotiable notice field */
        .notice-days-input.negotiable {
            opacity: 0.6;
            border-color: var(--border) !important;
            background-color: rgba(0, 86, 179, 0.05) !important;
            position: relative;
        }

        .notice-days-input.negotiable::placeholder {
            content: attr(data-negotiable-text);
            opacity: 0.8;
        }

        /* FIX: Improve application modal sizing and text alignment */
        .modal-content {
            max-width: 1000px !important;
            max-height: 90vh !important;
            overflow-y: auto !important;
            padding: var(--spacing-xl) !important;
            width: 95vw !important;
        }

        .modal-content h2 {
            text-align: left !important;
            margin-bottom: var(--spacing-lg) !important;
        }

        .form-group {
            margin-bottom: var(--spacing-md) !important;
        }

        .form-group label {
            display: block !important;
            margin-bottom: 8px !important;
            font-weight: 600 !important;
            color: var(--text-dark) !important;
            text-align: left !important;
        }

        .form-control {
            width: 100% !important;
            padding: 12px !important;
            border: 2px solid var(--border) !important;
            border-radius: var(--border-radius) !important;
            font-size: var(--font-size-base) !important;
        }

        .form-radio-group,
        .form-checkbox-group {
            display: flex !important;
            gap: var(--spacing-md) !important;
            flex-wrap: nowrap !important;
            overflow-x: auto !important;
        }

        .form-radio-item,
        .form-checkbox-item {
            display: flex !important;
            align-items: center !important;
            gap: 8px !important;
        }

        /* SECTION: SEARCH BAR ULTRA-SOPHISTIQUÉE */
        .search-container {
            position: relative;
            max-width: 1000px;
            margin: 0 auto var(--spacing-lg);
        }

        .search-main-bar {
            position: relative;
            margin-bottom: var(--spacing-md);
        }

        .search-input {
            width: 100%;
            padding: 28px 120px 28px 40px;
            border: 4px solid var(--primary);
            border-radius: var(--border-radius-full);
            font-size: var(--font-size-xl);
            font-weight: 600;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
            color: var(--text-dark);
            box-shadow: var(--shadow-2xl);
            transition: var(--transition);
            font-family: var(--font-family);
            backdrop-filter: blur(10px);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-dark);
            box-shadow: 0 0 0 8px rgba(0, 86, 179, 0.15), var(--shadow-2xl);
            transform: translateY(-6px) scale(1.02);
        }

        .search-input::placeholder {
            color: var(--text-light);
            font-weight: 500;
        }

        .search-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 70px;
            height: 70px;
            background: var(--gradient-primary);
            border: none;
            border-radius: 50%;
            color: rgba(241, 227, 227, 0.874);
            font-size: var(--font-size-xl);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
        }

        .search-btn:hover {
            transform: translateY(-50%) scale(1.15) rotate(10deg);
            box-shadow: var(--shadow-2xl);
            background: var(--gradient-accent);
        }

        /* SECTION: FILTRES AVANCÉS ULTRA-SOPHISTIQUÉS */
                .search-filters-container {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            max-height: 80vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .search-filters-container::-webkit-scrollbar {
            width: 8px;
        }

        .search-filters-container::-webkit-scrollbar-track {
            background: var(--bg-alt);
            border-radius: 4px;
        }

        .search-filters-container::-webkit-scrollbar-thumb {
            background: rgba(0, 86, 179, 0.3);
            border-radius: 4px;
            transition: var(--transition);
        }

        .search-filters-container::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 86, 179, 0.5);
        }

        .search-filters-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--gradient-primary);
            z-index: 1;
        }

        .search-filter-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
            z-index: 2;
        }

        .search-filter-label {
            font-weight: 800;
            color: var(--primary);
            font-size: var(--font-size-sm);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .search-filter-select {
            padding: 16px 20px;
            border: 3px solid var(--border);
            border-radius: var(--border-radius);
            background: white;
            color: var(--text-dark);
            font-size: var(--font-size-base);
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            box-shadow: var(--shadow-sm);
        }

        .search-filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 86, 179, 0.1);
            transform: translateY(-2px);
        }

        .search-filter-select:hover {
            border-color: var(--primary-light);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        /* ADD: CSS for multi-select filters */
        .filter-multiselect-container {
            position: relative;
            width: 100%;
            z-index: 1;
        }

        .filter-multiselect-container.active {
            z-index: 99998;
        }

        .filter-multiselect-button {
            width: 100%;
            padding: 16px 20px;
            border: 3px solid var(--border);
            border-radius: var(--border-radius);
            background: rgba(177, 203, 255, 0.99);
            color: var(--text-dark);
            font-size: var(--font-size-base);
            font-weight: 750;
            transition: var(--transition);
            cursor: pointer;
            box-shadow: var(--shadow-sm);
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-align: center;
        }

        .filter-multiselect-button:hover {
            border-color: var(--primary-light);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .filter-multiselect-button i {
            transition: transform 0.3s ease;
        }

        .filter-multiselect-button.active i {
            transform: rotate(180deg);
        }

        .filter-multiselect-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 3px solid var(--primary);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
            z-index: 99999;
            margin-top: -3px;
            max-height: 300px;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 8px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--bg-alt);
        }

        .filter-multiselect-dropdown::-webkit-scrollbar {
            width: 12px;
            background: transparent;
        }

        .filter-multiselect-dropdown::-webkit-scrollbar-track {
            background: rgba(240, 242, 245, 0.8);
            border-radius: 10px;
            margin: 8px 0;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .filter-multiselect-dropdown::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .filter-multiselect-dropdown::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--primary-dark), #1a4d7a);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 8px rgba(0, 114, 188, 0.3);
        }

        .filter-multiselect-dropdown::-webkit-scrollbar-thumb:active {
            background: var(--primary-dark);
        }

        .filter-checkbox-item {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            position: relative;
        }

        .filter-checkbox-item:first-child {
            margin-top: 4px;
        }

        .filter-checkbox-item:last-child {
            border-bottom: none;
            margin-bottom: 24px;
            padding-bottom: 18px;
        }

        .filter-checkbox-item:hover {
            background: linear-gradient(90deg, rgba(0, 114, 188, 0.08), rgba(0, 114, 188, 0.03));
            transform: translateX(2px);
        }

        .filter-checkbox-item input[type="checkbox"] {
            margin-right: 14px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--primary);
            border-radius: 4px;
        }

        .filter-checkbox-item span {
            flex: 1;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-dark);
            letter-spacing: 0.3px;
        }

        body.dark-mode .filter-multiselect-button,
        body.dark-mode .filter-multiselect-dropdown {
            background: var(--bg-dark);
            color: var(--text-light);
        }

        body.dark-mode .filter-multiselect-dropdown::-webkit-scrollbar-track {
            background: rgba(60, 70, 85, 0.6);
            border-color: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .filter-multiselect-dropdown::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #4a90e2, #2563eb);
            border-color: rgba(255, 255, 255, 0.2);
        }

        body.dark-mode .filter-multiselect-dropdown::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5ba3ff, #3b82f6);
            box-shadow: 0 0 10px rgba(75, 144, 226, 0.4);
        }

        body.dark-mode .filter-checkbox-item {
            border-bottom-color: rgba(255, 255, 255, 0.08);
        }

        body.dark-mode .filter-checkbox-item:hover {
            background: linear-gradient(90deg, rgba(74, 144, 226, 0.15), rgba(74, 144, 226, 0.05));
        }

        body.dark-mode .filter-checkbox-item span {
            color: rgba(255, 255, 255, 0.9);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 3px solid var(--border);
            border-top: none;
            border-radius: 0 0 var(--border-radius-xl) var(--border-radius-xl);
            box-shadow: var(--shadow-2xl);
            max-height: 450px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            backdrop-filter: blur(10px);
        }

        body.dark-mode .search-results {
            background: var(--bg-dark);
            border-color: var(--border-dark);
        }

        .search-results.show {
            display: block;
            animation: searchResultsSlideDown 0.4s ease-out;
        }

        @keyframes searchResultsSlideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-result-item {
            padding: 24px 28px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
        }

        body.dark-mode .search-result-item {
            border-bottom-color: var(--border-dark);
        }

        .search-result-item:hover {
            background: var(--bg-alt);
            color: var(--primary);
            transform: translateX(8px);
            box-shadow: inset 0 0 0 3px rgba(0, 86, 179, 0.1);
        }

        body.dark-mode .search-result-item:hover {
            background: var(--dark);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        /* SECTION: LINKEDIN INTEGRATION STYLES */
        .linkedin-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 16px 28px;
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-bottom: var(--spacing-md);
            box-shadow: var(--shadow-md);
        }

        .linkedin-btn:hover {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--accent) 100%);
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        /* SECTION: FOOTER GLOBAL AMÉLIORÉ SANS DUPLICATION EMAIL */
        footer {
            position: relative;
            overflow: hidden;
            padding: 100px 0 50px;
            color: white;
        }

        .footer-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #0f1419 100%);
        }

        .footer-background.has-image {
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .footer-background.has-video video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .footer-background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            position: relative;
            z-index: 2;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1.5fr;
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
        }

        .footer-col h4 {
            font-size: var(--font-size-xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: white;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .footer-col ul {
            list-style: none;
        }

        .footer-col li {
            margin-bottom: 12px;
        }

        .footer-col a {
            display: flex;
            align-items: center;
            gap: 12px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            padding: 8px 0;
            transition: var(--transition);
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-base);
        }

        .footer-col a:hover {
            color: var(--primary-light);
            gap: 16px;
            transform: translateX(8px);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: var(--spacing-md);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-md);
        }

        @media (min-width: 769px) {
            .footer-bottom {
                flex-direction: row;
                justify-content: space-between;
            }

            .bottom-login-container {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                bottom: -60px;
            }
        }

        .footer-copyright {
            color: rgba(255, 255, 255, 0.6);
            font-size: var(--font-size-base);
        }

        .footer-social {
            display: flex;
            gap: 16px;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            font-size: var(--font-size-xl);
            text-decoration: none;
        }

        .social-btn:hover {
            background: var(--primary);
            transform: translateY(-4px) scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        /* SECTION: CONTACT FOOTER STYLE SANS CARTES AVEC ALIGNEMENT PARFAIT - DUPLICATION EMAIL SUPPRIMÉE */
        .footer-contact-details {
            line-height: var(--line-height-normal);
        }

        .footer-contact-section {
            margin-bottom: 24px;
        }

        .footer-contact-section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            color: var(--primary-light);
            font-size: var(--font-size-lg);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer-contact-section-title i {
            width: 24px;
            height: 24px;
            background: var(--primary-light);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-sm);
            box-shadow: var(--shadow-sm);
            flex-shrink: 0;
        }

        .footer-contact-item {
            margin-bottom: 8px;
            padding-left: 36px;
            position: relative;
            color: rgba(255, 255, 255, 0.9);
            font-size: var(--font-size-sm);
            font-weight: 500;
            line-height: var(--line-height-normal);
        }

        .footer-contact-item-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 20px;
            height: 20px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-xs);
            flex-shrink: 0;
        }

        .footer-contact-item-label {
            font-weight: 700;
            color: var(--primary-light);
            display: block;
            margin-bottom: 2px;
            font-size: var(--font-size-sm);
        }

        .footer-contact-item-text {
            color: rgba(255, 255, 255, 0.95);
            font-weight: 500;
            white-space: nowrap;
            overflow: visible;
            width: auto;
        }

        .footer-contact-item a {
            color: rgba(255, 255, 255, 0.95);
            text-decoration: none;
            transition: var(--transition);
            padding: 0;
            display: inline;
        }

        .footer-contact-item a:hover {
            color: var(--primary-light);
            text-decoration: underline;
            background: transparent;
        }

        /* SECTION: RESPONSIVE GLOBAL */
        /* SECTION: Responsive Tablet (769px - 1024px) */
        @media (max-width: 1024px) and (min-width: 769px) {
            .search-filters-container {
                grid-template-columns: repeat(4, 1fr);
                gap: var(--spacing-md);
                padding: var(--spacing-lg) var(--spacing-lg) 80px var(--spacing-lg);
                min-height: 550px;
                padding-top: 40px;
                overflow: visible;
            }

            .filter-multiselect-dropdown {
                max-height: 300px;
                z-index: 99999;
            }

            .search-filter-group {
                min-width: 0;
                flex: 1;
            }

            .search-filter-group.filter-active {
                z-index: 99998;
            }
        }

        @media (max-width: 768px) {
            .footer-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
                gap: var(--spacing-md);
                padding-bottom: 80px;
            }

            .footer-social {
                justify-content: center;
                width: 100%;
            }

            .footer-copyright {
                text-align: center;
                width: 100%;
            }

            .bottom-login-container {
                width: 100%;
                margin-top: 16px;
                padding-top: 16px;
            }

            .contact-item {
                flex-direction: column;
                text-align: center;
                padding: 16px;
            }

            .contact-item:hover {
                transform: translateY(-4px);
            }

            .contact-icon {
                width: 60px;
                height: 60px;
                font-size: var(--font-size-xl);
            }

            .notification-container {
                bottom: 60px;
            }

            .consent-content {
                flex-direction: column;
                text-align: center;
                gap: var(--spacing-md);
            }

            .consent-actions {
                flex-wrap: wrap;
                justify-content: center;
            }

            .search-input {
                padding: 24px 100px 24px 32px;
                font-size: var(--font-size-lg);
            }

            .search-btn {
                width: 60px;
                height: 60px;
            }

            .search-filters-container {
                grid-template-columns: 1fr !important;
                gap: var(--spacing-lg);
                padding: var(--spacing-lg) var(--spacing-md) 60px var(--spacing-md);
                overflow: visible;
                min-height: auto;
                padding-top: 40px;
            }

            .filter-multiselect-dropdown {
                max-height: 250px;
                z-index: 99999;
            }

            .search-filter-group {
                min-width: 0;
                width: 100%;
            }

            .search-filter-group.filter-active {
                z-index: 99998;
            }

            .filter-multiselect-dropdown {
                max-height: 250px;
                padding: 8px;
            }

            .filter-multiselect-dropdown::-webkit-scrollbar {
                width: 12px;
            }

            .filter-checkbox-item {
                padding: 14px 16px;
            }

            .filter-checkbox-item:last-child {
                margin-bottom: 20px;
                padding-bottom: 16px;
            }

            .btn.btn-primary[onclick="applyMultiFilters()"],
            .btn.btn-outline[onclick="resetMultiFilters()"] {
                padding: 10px 20px !important;
                font-size: var(--font-size-sm) !important;
                width: auto;
                min-width: 120px;
            }
        }

        @media (max-width: 480px) {
            .contact-item {
                padding: 12px;
            }

            .contact-icon {
                width: 50px;
                height: 50px;
                font-size: var(--font-size-lg);
            }

            .footer-bottom {
                padding-bottom: 70px;
            }

            .search-filters-container {
                grid-template-columns: 1fr !important;
                gap: var(--spacing-lg);
                padding: var(--spacing-md) var(--spacing-md) 50px var(--spacing-md);
                overflow: visible;
                min-height: auto;
                padding-top: 40px;
            }

            .filter-multiselect-dropdown {
                max-height: 250px;
                z-index: 99999;
            }

            .search-filter-group {
                min-width: 0;
                width: 100%;
            }

            .search-filter-group.filter-active {
                z-index: 99998;
            }

            .filter-multiselect-container {
                width: 100%;
            }

            .filter-multiselect-dropdown {
                max-height: 250px;
                padding: 8px;
            }

            .filter-multiselect-dropdown::-webkit-scrollbar {
                width: 10px;
            }

            .filter-checkbox-item {
                padding: 12px 14px;
            }

            .filter-checkbox-item:last-child {
                margin-bottom: 18px;
                padding-bottom: 14px;
            }

            .filter-checkbox-item span {
                font-size: 0.95rem;
            }

            .btn.btn-primary[onclick="applyMultiFilters()"],
            .btn.btn-outline[onclick="resetMultiFilters()"] {
                padding: 8px 16px !important;
                font-size: var(--font-size-sm) !important;
                width: 48%;
                margin-left: 0 !important;
            }

            .btn.btn-outline[onclick="resetMultiFilters()"] {
                margin-left: 4% !important;
            }
        }
    </style>

    <!-- SECTION: STYLES SPÉCIFIQUES PAR PAGE -->
    
    <!-- INDEX/ACCUEIL STYLES AVEC EFFET PRISM -->
    <style id="index-styles">
        .page-section#home-page {
            position: relative;
            overflow: hidden;
        }

       .home-hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding: var(--spacing-xl) var(--spacing-md);
            padding-top: calc(80px + var(--spacing-xl));
        }

        .home-hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        /* FIX: hero-image-centering - Perfect centering with full viewport coverage */
        .home-hero-background.has-image {
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            width: 100%;
            height: 100vh;
        }

        /* FIX: hero-video-centering - Perfect centering with full viewport coverage */
        .home-hero-background.has-video video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            object-fit: cover;
            z-index: 0;
        }

        body.dark-mode .home-hero-background {
            background: linear-gradient(135deg, var(--bg-dark) 0%, #526b85 100%);
        }

        .home-hero-background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(58, 118, 182, 0.336), rgba(0, 168, 150, 0.4));
            z-index: 1;
        }

        .home-hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
            padding: 0 var(--spacing-md);
            animation: heroFadeInSlideUp 1.5s ease-out 0.5s forwards;
        }

        /* FIX: hero-title-clear - Enhanced gradient effect like 'buid' with better readability */
        .home-hero-title {
            font-size: var(--font-size-6xl);
            font-weight: 800;
            line-height: var(--line-height-tight);
            margin-bottom: var(--spacing-md);
            letter-spacing: var(--letter-spacing-tight);
            background: linear-gradient(135deg, #ffffff 0%, #60a5fa 25%, #3b82f6 50%, #2563eb 75%, #1d4ed8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite;
            background-size: 200% 200%;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .home-hero-subtitle {
            font-size: var(--font-size-xl);
            color: rgba(255, 255, 255, 0.973);
            margin-bottom: var(--spacing-xl);
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            line-height: var(--line-height-loose);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .home-hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: var(--spacing-xl);
            position: relative;
            z-index: 1;
        }

        .home-hero-buttons .btn {
            padding: 18px 36px;
            font-size: var(--font-size-lg);
            border-radius: var(--border-radius);
            min-width: 180px;
        }

        .home-presentation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            margin: var(--spacing-xl) 0;
            padding: var(--spacing-xl) 0;
        }

        .home-presentation-card {
            background: white;
            padding: var(--spacing-xl);
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        body.dark-mode .home-presentation-card {
            background: var(--bg-alt);
            border-color: var(--border);
        }

        .home-presentation-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }

        .home-presentation-icon {
            font-size: var(--font-size-4xl);
            color: var(--primary);
            margin-bottom: var(--spacing-md);
            transition: var(--transition);
        }

        .home-presentation-card:hover .home-presentation-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .home-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-md);
            max-width: 900px;
            margin: var(--spacing-xl) auto 0;
            position: relative;
            z-index: 1;
        }

        .home-stat {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: var(--backdrop-blur);
            border: 1px solid rgba(255, 255, 255, 0.25);
            border-radius: var(--border-radius);
            padding: var(--spacing-md) var(--spacing-sm);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            min-height: var(--card-height-sm);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .home-stat:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-xl);
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .home-stat-icon {
            font-size: var(--font-size-2xl);
            color: white;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* FIX: hero-prestation-text-center */
        .home-stat-number {
            font-size: var(--font-size-3xl);
            font-weight: 800;
            color: white;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* FIX: hero-prestation-text-center */
        .home-stat-label {
            color: rgba(255, 255, 255, 0.9);
            font-size: var(--font-size-base);
            font-weight: 500;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Section valeurs avec effet prism */
        .home-values-section {
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            padding: var(--spacing-xl) var(--spacing-md);
            position: relative;
            overflow: hidden;
        }

        body.dark-mode .home-values-section {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.95) 100%);
        }

        /* Logos clients avec défilement automatique */
        .clients-carousel {
            position: relative;
            overflow: hidden;
            padding: 60px 0;
            margin: 40px 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.1) 5%, 
                rgba(255, 255, 255, 0.1) 95%, 
                transparent 100%);
        }

        .clients-track {
            display: flex;
            gap: var(--spacing-xl);
            animation: clientsScroll 45s linear infinite;
            min-width: calc(200% + 160px);
        }

        @keyframes clientsScroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .client-logo-item {
            min-width: 220px;
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .client-logo-item:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: var(--shadow-xl);
            animation-play-state: paused;
        }

        .client-logo-item img {
            max-height: 100px;
            max-width: 180px;
            filter: none;
            transition: var(--transition);
        }

        /* SECTION: TÉMOIGNAGES TAILLE RÉDUITE ET DESIGN AMÉLIORÉ - MAX 320PX LARGEUR */
        .testimonials-carousel {
            position: relative;
            overflow: hidden;
            max-width: 1000px;
            margin: 0 auto;
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.98) 0%, 
                rgba(248, 251, 255, 0.96) 30%,
                rgba(237, 245, 255, 0.94) 70%,
                rgba(226, 239, 254, 0.92) 100%);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-2xl);
            backdrop-filter: blur(15px);
            border: 3px solid rgba(0, 86, 179, 0.1);
        }

        body.dark-mode .testimonials-carousel {
            background: linear-gradient(145deg, 
                rgba(30, 41, 59, 0.95) 0%, 
                rgba(15, 23, 42, 0.98) 100%);
            border-color: rgba(0, 86, 179, 0.3);
        }

        .testimonials-track {
            display: flex;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .testimonial-slide {
            min-width: 100%;
            flex-shrink: 0;
        }

        /* TÉMOIGNAGES TAILLE RÉDUITE - MAX 320PX LARGEUR ET 300PX HAUTEUR */
        .testimonial-card {
            background: linear-gradient(145deg,
                rgba(255, 255, 255, 0.98) 0%,
                rgba(248, 251, 255, 0.96) 30%,
                rgba(237, 245, 255, 0.94) 70%,
                rgba(226, 239, 254, 0.92) 100%);
            border-radius: var(--border-radius-xl);
            padding: 40px 32px;
            box-shadow: 0 20px 60px rgba(0, 86, 179, 0.12);
            text-align: center;
            border: 3px solid rgba(0, 86, 179, 0.1);
            backdrop-filter: blur(20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            max-width: 480px;
            min-height: 420px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            margin: 0 auto;
        }

        body.dark-mode .testimonial-card {
            background: linear-gradient(145deg, 
                rgba(30, 41, 59, 0.95) 0%, 
                rgba(15, 23, 42, 0.98) 100%);
            border-color: rgba(0, 86, 179, 0.2);
        }

        .testimonial-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--gradient-primary);
            z-index: 1;
        }

        .testimonial-card:hover {
            transform: translateY(-12px) scale(1.03);
            box-shadow: 0 30px 80px rgba(0, 86, 179, 0.2);
            border-color: rgba(0, 86, 179, 0.25);
        }

        .testimonial-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 20px;
            border: 4px solid var(--primary);
            box-shadow: 0 8px 24px rgba(0, 86, 179, 0.25);
            position: relative;
            z-index: 2;
            transition: var(--transition);
        }

        .testimonial-card:hover .testimonial-avatar {
            transform: scale(1.1);
            box-shadow: 0 12px 32px rgba(0, 86, 179, 0.35);
        }

        .testimonial-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .testimonial-rating {
            color: var(--warning);
            font-size: 28px;
            margin-bottom: 16px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            letter-spacing: 4px;
        }

        .testimonial-text {
            font-size: 17px;
            font-style: italic;
            color: var(--text-light);
            margin-bottom: 24px;
            line-height: 1.8;
            font-weight: 500;
            position: relative;
            z-index: 2;
            max-width: 420px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 5;
            -webkit-box-orient: vertical;
            flex-grow: 1;
        }

        .testimonial-text::before,
        .testimonial-text::after {
            content: '"';
            font-size: 60px;
            color: var(--primary);
            font-weight: 800;
            position: absolute;
            opacity: 0.15;
            font-family: Georgia, serif;
        }

        .testimonial-text::before {
            top: -20px;
            left: -15px;
        }

        .testimonial-text::after {
            bottom: -30px;
            right: -15px;
        }

        .testimonial-name {
            font-weight: 800;
            color: var(--text-dark);
            font-size: 20px;
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
        }

        body.dark-mode .testimonial-name {
            color: var(--text-light);
        }

        .testimonial-position {
            color: var(--primary);
            font-size: 15px;
            font-weight: 600;
            position: relative;
            z-index: 2;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Contrôles de navigation pour témoignages */
        .testimonials-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-lg);
            margin-top: var(--spacing-xl);
        }

        .testimonial-nav-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-primary);
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-xl);
            box-shadow: var(--shadow-lg);
        }

        .testimonial-nav-btn:hover {
            transform: scale(1.2);
            box-shadow: var(--shadow-2xl);
            background: var(--gradient-accent);
        }

        .testimonials-dots {
            display: flex;
            gap: 12px;
        }

        .testimonial-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        .testimonial-dot.active {
            background: var(--primary);
            transform: scale(1.4);
            box-shadow: var(--shadow-md);
        }

        /* Amélioration de la section valeurs avec 4 cartes alignées horizontalement */
        /* FIX: Changed from 4 to 5 columns for adding "Réactivité" value */
        .home-values-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--spacing-lg);
            max-width: 1400px;
            margin: 0 auto;
            align-items: stretch;
            position: relative;
            z-index: 1;
        }

        .home-values-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.98) 0%, 
                rgba(248, 251, 255, 0.96) 30%,
                rgba(237, 245, 255, 0.94) 70%,
                rgba(226, 239, 254, 0.92) 100%);
            padding: var(--spacing-xl) 30px;
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-lg);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            border: 2px solid rgba(0, 86, 179, 0.08);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            cursor: pointer;
            min-height: 320px;
            display: flex;
            flex-direction: column;
        }

        body.dark-mode .home-values-card {
            background: linear-gradient(145deg, 
                rgba(30, 41, 59, 0.9) 0%, 
                rgba(15, 23, 42, 0.95) 100%);
            border-color: rgba(0, 86, 179, 0.2);
        }

        .home-values-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: var(--shadow-2xl);
        }

        .home-values-icon {
            font-size: var(--font-size-5xl);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--spacing-lg);
            transition: var(--transition);
        }

        .home-values-card:hover .home-values-icon {
            transform: scale(1.15) rotateY(360deg);
        }

        .home-values-title {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: var(--spacing-md);
            line-height: var(--line-height-tight);
        }

        body.dark-mode .home-values-title {
            color: var(--text-light);
        }

        .home-values-description {
            color: var(--text-light);
            font-size: var(--font-size-base);
            line-height: var(--line-height-loose);
            flex-grow: 1;
        }

        @media (max-width: 1200px) {
            .home-values-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-lg);
            }
        }

        @media (max-width: 768px) {
            .home-hero {
                padding: 120px var(--spacing-sm) 60px;
                padding-top: calc(80px + var(--spacing-md));
                min-height: 85vh;
            }

            .home-hero-content {
                padding: 0 var(--spacing-sm);
                max-width: 100%;
            }

            .home-hero-title {
                font-size: var(--font-size-4xl);
                line-height: 1.2;
                margin-bottom: var(--spacing-md);
            }

            .home-hero-subtitle {
                font-size: var(--font-size-base);
                line-height: 1.6;
                margin-bottom: var(--spacing-md);
                padding: 0 var(--spacing-sm);
            }

            .home-hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 16px;
            }

            .home-hero-buttons .btn {
                width: 100%;
                max-width: 280px;
            }

            .home-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-md);
                padding: 0 var(--spacing-sm);
            }

            .home-presentation-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }

            .home-values-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }

            .clients-track {
                animation-duration: 30s;
            }

            .testimonial-card {
                min-height: 380px;
                padding: 32px 24px;
                max-width: 400px;
            }

            .testimonial-avatar {
                width: 80px;
                height: 80px;
            }
        }

        @media (max-width: 480px) {
            .home-stats {
                grid-template-columns: 1fr;
            }
        }

        /* FIX: professional-design-responsive - Company section styles */
        .home-company-section {
            background: white;
            padding: var(--spacing-xl) 0;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body.dark-mode .home-company-section {
            background: var(--bg-dark);
        }

        .home-company-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            width: 100%;
        }

        .home-company-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-2xl);
            align-items: center;
            justify-items: center;
            margin-top: var(--spacing-xl);
        }

        .home-company-image {
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            position: relative;
            transform: perspective(1000px) rotateY(-3deg);
            transition: var(--transition);
            width: 100%;
            max-width: 550px;
        }

        .home-company-image:hover {
            transform: perspective(1000px) rotateY(0deg) scale(1.02);
            box-shadow: var(--shadow-2xl);
        }

        .home-company-image img {
            width: 100%;
            height: auto;
            display: block;
            object-fit: cover;
            aspect-ratio: 3/2;
            transition: transform 0.5s ease;
        }

        .home-company-image:hover img {
            transform: scale(1.05);
        }

        .home-company-content {
            padding: var(--spacing-md) 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 100%;
            max-width: 550px;
        }

        .home-company-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            color: var(--primary);
            margin-bottom: var(--spacing-lg);
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        body.dark-mode .home-company-title {
            color: var(--primary-light);
        }

        .home-company-text {
            color: var(--text-light);
            font-size: clamp(1rem, 2vw, 1.125rem);
            line-height: 1.8;
            margin-bottom: var(--spacing-xl);
            text-align: center;
        }

        body.dark-mode .home-company-text {
            color: var(--text-lighter);
        }

        @media (max-width: 1024px) {
            .home-company-grid {
                gap: var(--spacing-xl);
            }

            .home-company-text {
                font-size: 1rem;
            }
        }

        @media (max-width: 768px) {
            .home-company-section {
                padding: var(--spacing-lg) 0;
            }

            .home-company-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
                justify-items: center;
            }

            .home-company-image {
                transform: perspective(1000px) rotateY(0deg);
                order: 1;
                max-width: 100%;
            }

            .home-company-content {
                order: 2;
                padding: 0;
                align-items: center;
                text-align: center;
            }

            .home-company-title {
                font-size: 2rem;
                margin-bottom: var(--spacing-md);
                text-align: center;
            }

            .home-company-text {
                text-align: center;
                margin-bottom: var(--spacing-lg);
                line-height: 1.7;
            }

            .home-company-content .btn {
                width: 100%;
                max-width: 320px;
                margin: 0 auto;
                display: flex;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .home-company-section {
                padding: var(--spacing-md) 0;
            }

            .home-company-container {
                padding: 0 var(--spacing-sm);
            }

            .home-company-title {
                font-size: 1.75rem;
            }

            .home-company-text {
                font-size: 0.95rem;
                line-height: 1.65;
                text-align: center;
            }

            .home-company-image img {
                aspect-ratio: 4/3;
            }
        }
    </style>

    <!-- ABOUT STYLES AVEC DOMAINES D'EXPERTISE ALIGNÉS HORIZONTALEMENT -->
    <style id="about-styles">
        .page-section#about-page {
            background: white;
            position: relative;
            padding: calc(80px + var(--spacing-xl)) 0 var(--spacing-xl);
        }

        body.dark-mode .page-section#about-page {
            background: var(--bg-dark);
        }

        .about-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .about-image {
            border-radius: var(--border-radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            position: relative;
            transform: perspective(1000px) rotateY(-5deg);
            transition: var(--transition);
        }

        .about-image:hover {
            transform: perspective(1000px) rotateY(0deg) scale(1.02);
            box-shadow: var(--shadow-2xl);
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: var(--transition);
        }

        .about-image:hover img {
            transform: scale(1.05);
        }

        .about-content {
            padding: 20px 0;
        }

        .about-title {
            font-size: var(--font-size-4xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--text-dark);
            line-height: var(--line-height-tight);
        }

        body.dark-mode .about-title {
            color: var(--text-light);
        }

        .about-text {
            color: var(--text-light);
            line-height: var(--line-height-loose);
            margin-bottom: var(--spacing-lg);
            font-size: var(--font-size-lg);
        }

        .about-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-md);
        }

        .about-stat-item {
            text-align: center;
            padding: var(--spacing-md) var(--spacing-sm);
            background: var(--bg-alt);
            border-radius: var(--border-radius);
            border: 1px solid var(--border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            height: var(--card-height-sm);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        body.dark-mode .about-stat-item {
            background: var(--dark);
            border-color: var(--border-dark);
        }

        .about-stat-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .about-stat-number {
            font-size: var(--font-size-3xl);
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .about-stat-label {
            font-size: var(--font-size-sm);
            color: var(--text-light);
            font-weight: 500;
        }

        /* NOUVEAU CONTENU À PROPOS ULTRA-PROFESSIONNEL */
        .about-mission-section {
            background: var(--bg-alt);
            padding: var(--spacing-xl) 0;
            margin-top: var(--spacing-xl);
        }

        body.dark-mode .about-mission-section {
            background: var(--dark);
        }

        .about-mission-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .about-mission-text {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
            padding: var(--spacing-xl);
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-lg);
            border: 3px solid rgba(0, 86, 179, 0.1);
            margin-bottom: var(--spacing-xl);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        body.dark-mode .about-mission-text {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
            border-color: rgba(0, 86, 179, 0.3);
        }

        .about-mission-text::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            z-index: 1;
        }

        .about-mission-text p {
            font-size: var(--font-size-lg);
            line-height: var(--line-height-loose);
            color: var(--text-light);
            margin-bottom: var(--spacing-md);
            text-align: justify;
            font-weight: 500;
            text-indent: 2rem;
            hyphens: auto;
            -webkit-hyphens: auto;
            -moz-hyphens: auto;
        }

        .about-mission-text p:last-child {
            margin-bottom: 0;
        }

        /* DOMAINES D'EXPERTISE - 4 CARTES ALIGNÉES HORIZONTALEMENT */
        .about-expertise-section {
            padding: var(--spacing-xl) 0;
        }

        .about-expertise-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-lg);
            max-width: 1400px;
            margin: 0 auto;
            align-items: stretch;
        }

        .about-expertise-card {
            background: linear-gradient(145deg,
                rgba(255, 255, 255, 0.98) 0%,
                rgba(248, 251, 255, 0.96) 30%,
                rgba(237, 245, 255, 0.94) 70%,
                rgba(226, 239, 254, 0.92) 100%);
            padding: var(--spacing-lg) 20px;
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-lg);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            border: 2px solid rgba(0, 86, 179, 0.08);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            cursor: pointer;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            text-align: center;
            align-items: center;
            justify-content: center;
        }

        body.dark-mode .about-expertise-card {
            background: linear-gradient(145deg, 
                rgba(30, 41, 59, 0.9) 0%, 
                rgba(15, 23, 42, 0.95) 100%);
            border-color: rgba(0, 86, 179, 0.2);
        }

        .about-expertise-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .about-expertise-card:hover::before {
            transform: scaleX(1);
        }

        .about-expertise-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }

        .about-expertise-icon {
            font-size: var(--font-size-4xl);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--spacing-md);
            transition: var(--transition);
        }

        .about-expertise-card:hover .about-expertise-icon {
            transform: scale(1.2) rotateY(360deg);
        }

        .about-expertise-title {
            font-size: var(--font-size-lg);
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: var(--spacing-sm);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        body.dark-mode .about-expertise-title {
            color: var(--text-light);
        }

        .about-expertise-text {
            color: var(--text-light);
            font-size: var(--font-size-sm);
            line-height: var(--line-height-normal);
            font-weight: 500;
            flex-grow: 1;
        }

        /* Responsive pour domaines d'expertise */
        @media (max-width: 1200px) {
            .about-expertise-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-md);
            }
        }

        @media (max-width: 1024px) {
            .about-container {
                grid-template-columns: 1fr;
                text-align: center;
                gap: var(--spacing-lg);
                padding: 0 var(--spacing-lg);
            }

            .about-content {
                text-align: center;
                order: 2;
            }

            .about-image {
                order: 1;
                transform: perspective(1000px) rotateY(0deg);
                margin: 0 auto;
                max-width: 100%;
            }

            .about-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-md);
            }

            .about-mission-text {
                padding: var(--spacing-md);
            }

            .about-mission-text p {
                text-align: left;
                text-indent: 0;
                font-size: var(--font-size-base);
            }
        }

        @media (max-width: 768px) {
            .about-expertise-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
                padding: 0 var(--spacing-sm);
            }

            .about-expertise-card {
                min-height: 240px;
                padding: var(--spacing-md);
            }

            .about-container {
                padding: 0 var(--spacing-md);
                gap: var(--spacing-md);
            }

            .about-image {
                border-radius: var(--border-radius);
                max-width: 100%;
            }

            .about-image img {
                width: 100%;
                height: auto;
                object-fit: cover;
            }

            .about-mission-content {
                padding: 0 var(--spacing-sm);
            }

            .about-mission-text {
                padding: var(--spacing-md);
                border-radius: var(--border-radius);
            }

            .about-mission-text p {
                font-size: var(--font-size-sm);
                line-height: 1.6;
                text-align: left;
                text-indent: 0;
            }

            .about-title {
                font-size: var(--font-size-3xl);
            }

            .about-text {
                font-size: var(--font-size-sm);
            }
        }

        @media (max-width: 480px) {
            .about-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <!-- SERVICES STYLES AVEC EFFET PRISM ET NOUVEAUX SERVICES -->
    <style id="services-styles">
        .page-section#services-page {
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            position: relative;
            padding: calc(80px + var(--spacing-xl)) 0 var(--spacing-xl);
            overflow: hidden;
        }

        body.dark-mode .page-section#services-page {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.95) 100%);
        }

        .services-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            position: relative;
            z-index: 1;
        }

        .services-grid {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--spacing-lg);
            align-items: stretch;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            position: relative;
            z-index: 1;
        }

        .service-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.98) 0%, 
                rgba(248, 251, 255, 0.96) 30%,
                rgba(237, 245, 255, 0.94) 70%,
                rgba(226, 239, 254, 0.92) 100%);
            padding: var(--spacing-xl) var(--spacing-lg);
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-lg);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            border: 2px solid rgba(0, 86, 179, 0.08);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 420px;
            flex: 0 0 350px;
            max-width: 350px;
            backdrop-filter: blur(10px);
        }

        body.dark-mode .service-card {
            background: linear-gradient(145deg, 
                rgba(30, 41, 59, 0.9) 0%, 
                rgba(15, 23, 42, 0.95) 100%);
            border-color: rgba(0, 86, 179, 0.2);
        }

        .service-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-2xl);
        }

        .service-icon {
            font-size: var(--font-size-5xl);
            text-align: center;
            margin-bottom: var(--spacing-md);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: var(--transition);
        }

        .service-card:hover .service-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .service-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing-md);
            transition: var(--transition);
        }

        .service-card:hover .service-image {
            transform: scale(1.05);
        }

        .service-title {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-dark);
            line-height: var(--line-height-tight);
            text-align: center;
        }

        body.dark-mode .service-title {
            color: var(--text-light);
        }

        .service-description {
            color: var(--text-light);
            line-height: var(--line-height-loose);
            margin-bottom: var(--spacing-lg);
            flex-grow: 1;
            font-size: var(--font-size-base);
            text-align: center;
        }

        .service-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            padding: 12px 0;
            margin-top: auto;
            font-size: var(--font-size-base);
            justify-content: center;
        }

        .service-link:hover {
            gap: 16px;
            color: var(--primary-dark);
        }

        /* NOUVEAUX SERVICES DÉTAILLÉS SECTION */
        .services-detailed-section {
            background: white;
            padding: var(--spacing-xl) 0;
            margin-top: var(--spacing-xl);
        }

        body.dark-mode .services-detailed-section {
            background: var(--bg-dark);
        }

        .services-detailed-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .services-detailed-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
        }

        .service-category {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-lg);
            border: 3px solid rgba(0, 86, 179, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        body.dark-mode .service-category {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
            border-color: rgba(0, 86, 179, 0.3);
        }

        .service-category::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            z-index: 1;
        }

        .service-category:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }

        .service-category-title {
            font-size: var(--font-size-3xl);
            font-weight: 800;
            color: var(--primary);
            margin-bottom: var(--spacing-lg);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            z-index: 2;
        }

        .service-category-list {
            list-style: none;
            padding: 0;
            position: relative;
            z-index: 2;
        }

        .service-category-list li {
            margin-bottom: var(--spacing-md);
            position: relative;
            padding-left: 30px;
            line-height: var(--line-height-loose);
            color: var(--text-light);
            font-size: var(--font-size-base);
            font-weight: 500;
        }

        .service-category-list li::before {
            content: '▶';
            position: absolute;
            left: 0;
            top: 0;
            color: var(--primary);
            font-weight: 800;
            font-size: var(--font-size-lg);
        }

        .service-category-list li strong {
            color: var(--text-dark);
            font-weight: 700;
        }

        body.dark-mode .service-category-list li strong {
            color: var(--text-light);
        }

        .service-subcategory {
            margin: var(--spacing-sm) 0;
            padding-left: 20px;
            border-left: 3px solid var(--primary);
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            backdrop-filter: blur(5px);
        }

        .service-subcategory ul {
            list-style: none;
            padding: 0;
            margin: var(--spacing-sm) 0;
        }

        .service-subcategory ul li {
            margin-bottom: 8px;
            padding-left: 20px;
            font-size: var(--font-size-sm);
            color: var(--text-light);
            position: relative;
        }

        .service-subcategory ul li::before {
            content: '◦';
            position: absolute;
            left: 0;
            top: 0;
            color: var(--accent);
            font-weight: 800;
        }

        @media (max-width: 1200px) {
            .services-detailed-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }
        }

        @media (max-width: 768px) {
            .service-category {
                padding: var(--spacing-lg);
            }

            .service-category-title {
                font-size: var(--font-size-2xl);
            }
        }
    </style>

    <!-- QUALITÉ STYLES ULTRA-PROFESSIONNELS AVEC PARAGRAPHES SOPHISTIQUÉS RÉDUITS -->
    <style id="qualite-styles">
        .page-section#qualite-page {
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            position: relative;
            padding: calc(80px + var(--spacing-md)) 0 var(--spacing-md);
            overflow: hidden;
        }

        body.dark-mode .page-section#qualite-page {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.95) 100%);
        }

        .qualite-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            position: relative;
            z-index: 1;
        }

        .qualite-header {
            text-align: center;
            margin-bottom: var(--spacing-md);
        }

        /* FIX: policy-headers-style */
        .qualite-header h1 {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: var(--spacing-md);
            position: relative;
            padding-bottom: var(--spacing-sm);
        }

        .qualite-header h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, #0056b3 0%, #4a90e2 100%);
            border-radius: 2px;
        }

        /* FIX: dark-mode-text-visibility */
        body.dark-mode .qualite-header h1 {
            color: var(--primary-light) !important;
        }

        .qualite-header p {
            font-size: 1.125rem;
            color: var(--text-light);
            font-weight: 400;
            line-height: 1.6;
        }

        body.dark-mode .qualite-header p {
            color: rgba(255, 255, 255, 0.8);
        }

        /* FIX: policy-layout-responsive */
        /* Design ultra-moderne et professionnel */
        .qualite-content-main {
            max-width: 1200px;
            margin: 0 auto var(--spacing-xl);
            background: white;
            border-radius: 16px;
            padding: var(--spacing-xl) var(--spacing-xl);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05),
                        0 10px 20px rgba(0, 86, 179, 0.08);
            border: none;
            position: relative;
            overflow: visible;
        }

        /* FIX: ultra-modern-professional-design */
        body.dark-mode .qualite-content-main {
            background: rgba(30, 41, 59, 0.95);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3),
                        0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* FIX: ultra-modern-professional-design */
        .qualite-content-main::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #0056b3 0%, #4a90e2 100%);
            border-radius: 16px 16px 0 0;
            z-index: 1;
        }

        /* FIX: ultra-modern-professional-design */
        .qualite-section {
            margin-bottom: var(--spacing-xl);
            padding: 0;
            border-bottom: none;
            position: relative;
            transition: all 0.3s ease;
        }

        .qualite-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        /* FIX: policy-headers-style */
        .qualite-section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            padding-left: 20px;
            letter-spacing: -0.02em;
        }

        .qualite-section-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 24px;
            background: linear-gradient(180deg, #0056b3 0%, #4a90e2 100%);
            border-radius: 2px;
        }

        /* FIX: dark-mode-text-visibility */
        body.dark-mode .qualite-section-title {
            color: var(--primary-light) !important;
        }

        body.dark-mode .qualite-section-title::before {
            background: linear-gradient(180deg, #4a90e2 0%, #6bb0ff 100%);
        }

        /* FIX: ultra-modern-professional-design */
        /* Paragraphes modernes */
        .qualite-paragraph {
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-light);
            margin-bottom: var(--spacing-md);
            text-align: left;
            font-weight: 400;
            padding: 0;
            padding-left: 20px;
            letter-spacing: 0.01em;
        }

        /* FIX: dark-mode-text-visibility */
        body.dark-mode .qualite-paragraph {
            color: rgba(255, 255, 255, 0.85) !important;
        }

        /* FIX: ultra-modern-professional-design */
        .qualite-highlight {
            background: #f8fafc;
            padding: var(--spacing-md);
            border-radius: 12px;
            border-left: 4px solid #0056b3;
            margin: var(--spacing-md) 0;
            margin-left: 20px;
            position: relative;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        body.dark-mode .qualite-highlight {
            background: rgba(14, 122, 158, 0.08);
            border-left-color: var(--primary);
        }

        .qualite-highlight .qualite-paragraph {
            margin-bottom: 0;
            padding-left: 0;
            font-weight: 500;
            font-size: 14px;
            color: var(--text-dark);
        }

        body.dark-mode .qualite-highlight .qualite-paragraph {
            color: rgba(255, 255, 255, 0.9) !important;
        }

        /* FIX: ultra-modern-professional-design */
        .qualite-list {
            list-style: none;
            padding: 0;
            margin: var(--spacing-md) 0;
            margin-left: 20px;
        }

        .qualite-list-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
            padding: 16px;
            border-radius: 10px;
            background: #f8fafc;
            transition: all 0.2s ease;
            border: none;
        }

        body.dark-mode .qualite-list-item {
            background: rgba(74, 144, 226, 0.06);
        }

        .qualite-list-item:hover {
            transform: translateX(4px);
            background: #f1f5f9;
            box-shadow: 0 2px 8px rgba(0, 86, 179, 0.08);
        }

        body.dark-mode .qualite-list-item:hover {
            background: rgba(74, 144, 226, 0.1);
        }

        .qualite-list-icon {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            background: linear-gradient(135deg, #0056b3 0%, #4a90e2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
            font-weight: 700;
        }

        .qualite-list-text {
            flex: 1;
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-light);
            font-weight: 400;
        }

        /* FIX: dark-mode-text-visibility */
        body.dark-mode .qualite-list-text {
            color: rgba(255, 255, 255, 0.85) !important;
        }

        /* ADD: quality-icons-update */
        /* CARTES D'ENGAGEMENT ALIGNÉES HORIZONTALEMENT - 4 en ligne */
        .qualite-engagement-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin: var(--spacing-lg) 0;
            max-width: 1200px;
            width: 100%;
        }

        /* ADD: quality-icons-update */
        .qualite-engagement-item {
            text-align: center;
            padding: 2rem 1.5rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 2px solid #e2e8f0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: visible;
            min-height: 240px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }

        body.dark-mode .qualite-engagement-item {
            background: rgba(30, 41, 59, 0.8);
            border-color: rgba(74, 144, 226, 0.2);
        }

        /* FIX: ultra-modern-professional-design */
        .qualite-engagement-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #0056b3 0%, #4a90e2 100%);
            border-radius: 12px 12px 0 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .qualite-engagement-item:hover::before {
            opacity: 1;
        }

        .qualite-engagement-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 32px rgba(14, 122, 158, 0.2),
                        0 0 0 1px rgba(14, 122, 158, 0.1);
            border-color: var(--primary);
        }

        /* ADD: quality-icons-update */
        .qualite-engagement-icon {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.1) 0%, rgba(74, 144, 226, 0.05) 100%);
            border-radius: 50%;
        }

        body.dark-mode .qualite-engagement-icon {
            color: var(--primary-light);
        }

        .qualite-engagement-item:hover .qualite-engagement-icon {
            transform: scale(1.15) rotate(5deg);
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.15) 0%, rgba(74, 144, 226, 0.1) 100%);
            box-shadow: 0 4px 16px rgba(0, 86, 179, 0.2);
        }

        /* ADD: quality-icons-update */
        .qualite-engagement-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.75rem;
            letter-spacing: -0.01em;
            line-height: 1.4;
        }

        body.dark-mode .qualite-engagement-title {
            color: white;
        }

        .qualite-engagement-text {
            color: var(--text-light);
            font-size: 0.9375rem;
            line-height: 1.7;
            font-weight: 400;
        }

        body.dark-mode .qualite-engagement-text {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Quote style pour citations importantes */
        .qualite-quote {
            font-size: var(--font-size-lg);
            font-style: italic;
            text-align: center;
            color: var(--primary);
            margin: var(--spacing-md) 0;
            padding: var(--spacing-md) var(--spacing-sm);
            border: 3px solid var(--primary);
            border-radius: var(--border-radius-lg);
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.06) 0%, rgba(0, 168, 150, 0.04) 100%);
            position: relative;
            backdrop-filter: blur(8px);
            font-weight: 600;
            line-height: var(--line-height-normal);
        }

        .qualite-quote::before,
        .qualite-quote::after {
            content: '"';
            font-size: var(--font-size-3xl);
            color: var(--primary);
            font-weight: 800;
            position: absolute;
            opacity: 0.3;
        }

        .qualite-quote::before {
            top: 8px;
            left: 20px;
        }

        .qualite-quote::after {
            bottom: 8px;
            right: 20px;
        }

        /* FIX: iso-hover-visibility + iso-hover-transition + iso-hover-centering */
        /* Section certificat ISO avec survol am\u00e9lior\u00e9 */
        #aboutIsoQr {
            position: relative;
            overflow: visible !important;
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            padding: var(--spacing-md);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            max-width: 480px;
            margin: 0 auto;
        }

        #aboutIsoQr:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 24px rgba(0, 86, 179, 0.25) !important;
        }

        #aboutIsoQr img {
            width: 100%;
            height: auto;
            object-fit: contain;
            display: block;
            border-radius: 8px;
        }

        /* FIX: iso-full-display + iso-certificate-adjustment */
        #aboutIsoPreview {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: var(--spacing-md);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s ease-in-out;
            pointer-events: none;
            max-height: 0;
            overflow: hidden;
            padding: 0;
        }

        #aboutIsoPreview.show {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
            max-height: 650px;
            overflow: visible;
            padding: var(--spacing-md) 0;
        }

        #aboutIsoPreview img {
            border-radius: 8px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease-in-out;
            max-width: 380px;
            width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            object-fit: contain;
        }

        #aboutIsoPreview img:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 86, 179, 0.3);
        }

        body.dark-mode #aboutIsoQr {
            background: rgba(30, 41, 59, 0.95) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode #aboutIsoQr:hover {
            box-shadow: 0 8px 24px rgba(74, 144, 226, 0.4) !important;
        }

        body.dark-mode #aboutIsoPreview img {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);
        }

        /* FIX: iso-dark-mode-support + iso-full-display */
        .iso-certification-container {
            overflow: visible !important;
        }

        body.dark-mode .iso-certification-container {
            background: rgba(30, 41, 59, 0.5) !important;
        }

        body.dark-mode .iso-feature-item {
            background: rgba(30, 41, 59, 0.7) !important;
        }

        body.dark-mode .iso-feature-item span {
            color: rgba(255, 255, 255, 0.9) !important;
        }

        /* Conteneur de la section qualité - pas de overflow */
        .qualite-content {
            overflow: visible !important;
        }

        .page-section#qualite-page {
            overflow: visible !important;
        }

        /* FIX: responsive-iso-hover + iso-full-display + iso-touch-compatibility */
        @media (max-width: 1024px) {
            #aboutIsoQr {
                max-width: 400px;
                padding: var(--spacing-sm);
            }

            #aboutIsoPreview img {
                max-width: 340px;
            }

            #aboutIsoPreview.show {
                max-height: 600px;
            }

            .iso-certification-container > div {
                grid-template-columns: 1fr !important;
                gap: var(--spacing-lg) !important;
            }

            .iso-features-grid {
                grid-template-columns: 1fr !important;
            }
        }

        @media (max-width: 768px) {
            #aboutIsoQr {
                max-width: 100%;
                padding: var(--spacing-sm);
            }

            #aboutIsoQr img {
                width: 100%;
                max-width: 280px;
                height: auto;
            }

            #aboutIsoPreview img {
                max-width: 300px;
            }

            #aboutIsoPreview.show {
                max-height: 550px;
            }

            .iso-certification-container {
                padding: var(--spacing-md) !important;
                overflow: visible !important;
            }

            .iso-features-grid {
                gap: var(--spacing-xs) !important;
            }

            .iso-feature-item {
                padding: 10px !important;
            }

            .iso-feature-item span {
                font-size: 11px !important;
            }
        }

        @media (max-width: 480px) {
            #aboutIsoQr {
                padding: 12px;
            }

            #aboutIsoPreview img {
                max-width: 260px;
            }

            #aboutIsoPreview.show {
                max-height: 500px;
            }
        }

        /* FIX: policy-responsive-icons */
        /* Responsive pour les cartes d'engagement */
        @media (max-width: 1200px) {
            .qualite-engagement-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.25rem;
            }
        }

        @media (max-width: 900px) {
            .qualite-engagement-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .qualite-engagement-item {
                min-height: 220px;
                padding: 1.5rem 1rem;
            }
        }

        @media (max-width: 768px) {
            .qualite-header h1 {
                font-size: 2rem;
            }

            .qualite-header p {
                font-size: 1rem;
            }

            .qualite-content-main {
                padding: var(--spacing-md);
            }

            .qualite-engagement-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .qualite-paragraph {
                font-size: 14px;
                padding-left: 12px;
            }

            .qualite-section-title {
                font-size: 18px;
                padding-left: 12px;
            }

            .qualite-section-title::before {
                width: 3px;
                height: 20px;
            }

            .qualite-list {
                margin-left: 12px;
            }

            .qualite-highlight {
                margin-left: 12px;
                padding: var(--spacing-sm);
            }

            .qualite-engagement-item {
                min-height: 200px;
                padding: 1.5rem;
            }

            .qualite-engagement-icon {
                font-size: 3rem;
                width: 70px;
                height: 70px;
            }

            .qualite-section-title {
                font-size: 1.25rem;
            }

            .qualite-engagement-title {
                font-size: 1rem;
            }

            .qualite-engagement-text {
                font-size: 0.875rem;
            }
        }

        @media (max-width: 480px) {
            .qualite-header h1 {
                font-size: 1.75rem;
            }

            .qualite-header p {
                font-size: 0.9375rem;
            }

            .qualite-engagement-icon {
                font-size: 2.5rem;
                width: 60px;
                height: 60px;
            }
        }
    </style>

    <!-- CARRIÈRE STYLES ULTRA-PROFESSIONNELS POUR 20+ OFFRES AVEC CARTES HORIZONTALES COMPACTES ULTRA-AMÉLIORÉES -->
    <style id="carriere-styles">
        .page-section#carriere-page {
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            position: relative;
            padding: calc(160px + var(--spacing-xl)) 0 var(--spacing-xl);
            overflow: hidden;
        }

        body.dark-mode .page-section#carriere-page {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.95) 100%);
        }

        .carriere-content {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            position: relative;
            z-index: 1;
        }

        .carriere-header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .carriere-filters {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .carriere-filter-btn {
            padding: 15px 25px;
            border-radius: var(--border-radius-full);
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
            border: 4px solid var(--primary);
            color: var(--primary);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 800;
            font-size: var(--font-size-base);
            min-width: 200px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(10px);
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .carriere-filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.6s;
        }

        .carriere-filter-btn:hover::before {
            left: 100%;
        }

        body.dark-mode .carriere-filter-btn {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
            color: var(--primary-light);
            border-color: var(--primary);
        }

        .carriere-filter-btn.active,
        .carriere-filter-btn:hover {
            background: var(--gradient-primary);
            color: white;
            transform: translateY(-6px) scale(1.08);
            box-shadow: var(--shadow-2xl);
            border-color: var(--primary-dark);
        }

        /* DESIGN ADAPTÉ POUR 20+ OFFRES AVEC CARTES HORIZONTALES COMPACTES ULTRA-AMÉLIORÉES */
        .carriere-jobs-list {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-xl);
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .carriere-job-card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.98) 0%, 
                rgba(248, 251, 255, 0.96) 30%,
                rgba(237, 245, 255, 0.94) 70%,
                rgba(226, 239, 254, 0.92) 100%);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            display: flex;
            align-items: stretch;
            min-height: 160px;
            max-height: 180px;
            backdrop-filter: blur(10px);
            background-clip: padding-box;
            margin-bottom: var(--spacing-sm);
        }

        body.dark-mode .carriere-job-card {
            background: linear-gradient(145deg, 
                rgba(30, 41, 59, 0.9) 0%, 
                rgba(15, 23, 42, 0.95) 100%);
        }

        .carriere-job-card::before {
            content: '';
            position: absolute;
            inset: 0;
            padding: 2px;
            background: linear-gradient(135deg, var(--primary), var(--accent), var(--secondary));
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: subtract;
            -webkit-mask-composite: destination-out;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .carriere-job-card:hover::before {
            opacity: 1;
        }

        .carriere-job-card:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: var(--shadow-xl);
        }

        /* FIX: Removed blue gradient background from job header as requested */
        .carriere-job-header {
            background: transparent;
            color: var(--text-dark);
            padding: var(--spacing-md);
            text-align: center;
            position: relative;
            overflow: hidden;
            min-width: 180px;
            max-width: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-right: 2px solid var(--border);
        }

        body.dark-mode .carriere-job-header {
            color: var(--text-light);
        }

        /* FIX: Changed job type badge to use primary color instead of white */
        .carriere-job-type {
            background: var(--primary);
            color: white;
            padding: 6px 16px;
            border-radius: var(--border-radius-full);
            font-size: var(--font-size-sm);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            margin-bottom: 12px;
            display: inline-block;
            border: 2px solid var(--primary-dark);
            position: relative;
            z-index: 2;
            box-shadow: var(--shadow-sm);
        }

        .carriere-job-content {
            padding: var(--spacing-md);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            background: linear-gradient(180deg, transparent 0%, rgba(0, 86, 179, 0.02) 100%);
            min-height: 160px;
        }

        /* FIX: Enlarged job title font size as requested */
        .carriere-job-title {
            font-size: var(--font-size-xl);
            font-weight: 900;
            margin-bottom: 12px;
            color: var(--text-dark);
            line-height: var(--line-height-tight);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        body.dark-mode .carriere-job-title {
            color: var(--text-light);
        }

        .carriere-job-location {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            margin-bottom: 12px;
            font-size: var(--font-size-sm);
            font-weight: 600;
            padding: 6px 12px;
            background: rgba(0, 86, 179, 0.08);
            border-radius: var(--border-radius-full);
            border: 2px solid rgba(0, 86, 179, 0.12);
            width: fit-content;
        }

        .carriere-job-location i {
            background: var(--gradient-primary);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-xs);
            box-shadow: var(--shadow-sm);
        }

        .carriere-job-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            flex-grow: 1;
            margin-bottom: 12px;
        }

        .carriere-job-detail-section {
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            padding: 10px;
            border-radius: var(--border-radius-sm);
            border-left: 3px solid var(--primary);
            box-shadow: inset var(--shadow-sm);
            backdrop-filter: blur(8px);
        }

        .carriere-job-detail-section.requirements {
            border-left-color: var(--accent);
            background: linear-gradient(135deg, rgba(0, 168, 150, 0.05) 0%, rgba(0, 86, 179, 0.03) 100%);
        }

        .carriere-job-detail-section h4 {
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 6px;
            font-size: var(--font-size-sm);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .carriere-job-detail-section.requirements h4 {
            color: var(--accent);
        }

        .carriere-job-detail-section p {
            color: var(--text-light);
            font-size: var(--font-size-xs);
            line-height: var(--line-height-normal);
            font-weight: 500;
            margin: 0;
            max-height: 40px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .carriere-job-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-top: auto;
            padding-top: 8px;
        }

        /* Indicateurs et badges pour offres */
        .carriere-job-badges {
            display: flex;
            gap: 6px;
            align-items: center;
            flex-wrap: wrap;
        }

        .carriere-job-badge {
            padding: 4px 8px;
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-xs);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .carriere-job-badge.new {
            background: var(--secondary);
            color: white;
            animation: badgePulse 2s ease-in-out infinite;
        }

        .carriere-job-badge.premium {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: var(--text-dark);
        }

        @keyframes badgePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Indicateur de nouveauté ultra sophistiqué */
        .carriere-job-card[data-new="true"]::after {
            content: 'NOUVEAU';
            position: absolute;
            top: 15px;
            right: -25px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: white;
            padding: 4px 35px;
            font-size: var(--font-size-xs);
            font-weight: 900;
            transform: rotate(45deg);
            z-index: 15;
            box-shadow: var(--shadow-lg);
            text-transform: uppercase;
            letter-spacing: 1.2px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        /* Badge Premium pour offres importantes */
        .carriere-job-card.premium {
            border-image: linear-gradient(135deg, var(--primary), var(--accent), var(--secondary)) 1;
            box-shadow: var(--shadow-xl), 0 0 20px rgba(0, 86, 179, 0.15);
        }

        .carriere-job-card.premium .carriere-job-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 50%, var(--secondary) 100%);
            background-size: 200% 200%;
            animation: premiumGradient 3s ease-in-out infinite;
        }

        @keyframes premiumGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Adaptation responsive pour 20+ offres */
        @media (max-width: 1400px) {
            .carriere-jobs-list {
                max-width: 1200px;
            }
        }

        @media (max-width: 13500px) {
            .carriere-jobs-list {
                gap: var(--spacing-md);
            }

            .carriere-job-card {
                flex-direction: column;
                min-height: auto;
                max-height: none;
            }

            .carriere-job-header {
                min-width: unset;
                max-width: unset;
                padding: var(--spacing-sm);
            }

            .carriere-job-title {
                font-size: var(--font-size-base);
            }

            .carriere-job-details {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .btn-apply {
                align-self: stretch;
                margin-top: var(--spacing-sm);
            }
        }

        .search-filters-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--spacing-md);
    padding: var(--spacing-lg) var(--spacing-lg) 60px var(--spacing-lg);
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
    border: 4px solid rgba(0, 86, 179, 0.15);
    border-radius: var(--border-radius-xl);
    box-shadow: var(--shadow-2xl);
    backdrop-filter: blur(10px);
    margin-bottom: var(--spacing-2xl);
    position: relative;
    overflow: visible;
    min-height: 420px;
    align-items: start;
    padding-top: 22px;
}
        .search-filters-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--gradient-primary);
            z-index: 1;
        }

        .search-filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            position: relative;
            z-index: 1;
        }

        .search-filter-group.filter-active {
            z-index: 99998;
        }

        .search-filter-group.filter-active .filter-multiselect-container {
            z-index: 99999;
        }

        .search-filter-label {
            font-weight: 800;
            color: var(--primary);
            font-size: var(--font-size-sm);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .search-filter-select {
            padding: 12px 16px;
            border: 3px solid var(--border);
            border-radius: var(--border-radius);
            background: rgb(230, 223, 223);
            color: var(--text-dark);
            font-size: var(--font-size-sm);
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            box-shadow: var(--shadow-sm);
        }

        .search-filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 86, 179, 0.1);
            transform: translateY(-2px);
        }

        .search-filter-select:hover {
            border-color: var(--primary-light);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        /* Pagination pour gestion 20+ offres */
        .carriere-pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 16px;
            margin-top: var(--spacing-xl);
            flex-wrap: wrap;
        }

        .pagination-btn {
            padding: 12px 20px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            min-width: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pagination-btn:hover,
        .pagination-btn.active {
            background: var(--gradient-primary);
            color: white;
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-md);
        }

        .pagination-info {
            color: var(--text-light);
            font-size: var(--font-size-sm);
            font-weight: 600;
            padding: 12px 20px;
            background: rgba(0, 86, 179, 0.05);
            border-radius: var(--border-radius);
            backdrop-filter: blur(5px);
        }
    </style>

    <!-- CONTACT STYLES AMÉLIORÉS -->
    <style id="contact-styles">
        .page-section#contact-page {
            background: white;
            position: relative;
            padding: calc(80px + var(--spacing-xl)) 0 var(--spacing-xl);
        }

        body.dark-mode .page-section#contact-page {
            background: var(--bg-dark);
        }

        .contact-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
        }

        .contact-info {
            padding: 20px 0;
        }

        .contact-title {
            font-size: var(--font-size-4xl);
            font-weight: 700;
            margin-bottom: var(--spacing-lg);
            color: var(--text-dark);
            line-height: var(--line-height-tight);
        }

        body.dark-mode .contact-title {
            color: var(--text-light);
        }

        .contact-text {
            color: var(--text-light);
            line-height: var(--line-height-loose);
            margin-bottom: var(--spacing-lg);
            font-size: var(--font-size-xl);
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            border-radius: var(--border-radius);
            background: var(--bg-alt);
            transition: var(--transition);
        }

        body.dark-mode .contact-item {
            background: var(--dark);
        }

        .contact-item:hover {
            transform: translateX(8px);
            background: var(--bg-alt);
            box-shadow: var(--shadow-md);
            border-left: 4px solid var(--primary);
        }

        .contact-icon {
            width: 70px;
            height: 70px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
            font-size: var(--font-size-2xl);
            transition: var(--transition);
        }

        .contact-item:hover .contact-icon {
            background: var(--primary-light);
            color: white;
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        /* AMÉLIORATION DESIGN CONTACT AVEC ADRESSES ALGER/ORAN */
        .contact-addresses {
            margin-bottom: var(--spacing-md);
        }

        .contact-address-group {
            margin-bottom: var(--spacing-sm);
            padding: var(--spacing-sm);
            background: linear-gradient(135deg, rgba(232, 240, 250, 0.901) 0%, rgb(235, 240, 239) 100%);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary);
        }

        .contact-address-label {
            font-weight: 700;
            color: var(--primary);
            font-size: var(--font-size-base);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .contact-address-text {
            color: var(--text-light);
            font-size: var(--font-size-sm);
            line-height: var(--line-height-normal);
        }

        .contact-phones {
            margin-top: var(--spacing-md);
        }

        .contact-phone-group {
            margin-bottom: var(--spacing-sm);
            padding: var(--spacing-sm);
            background: linear-gradient(135deg, rgba(232, 240, 250, 0.901) 0%, rgb(235, 240, 239) 100%);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--accent);
        }

        .contact-phone-label {
            font-weight: 700;
            color: var(--accent);
            font-size: var(--font-size-base);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .contact-phone-text {
            color: var(--text-light);
            font-size: var(--font-size-sm);
            font-weight: 600;
        }

        .contact-form {
            background: var(--bg-alt);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border);
        }

        body.dark-mode .contact-form {
            background: var(--dark);
            border-color: var(--border-dark);
        }

        .contact-btn-submit {
            background: var(--gradient-primary);
            color: white;
            padding: 18px 40px;
            font-size: var(--font-size-lg);
            font-weight: 700;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            min-height: 48px;
        }

        .contact-btn-submit:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .google-maps {
            margin-top: var(--spacing-lg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .google-maps iframe {
            width: 100%;
            height: 300px;
            border: none;
        }

        @media (max-width: 1024px) {
            .contact-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .contact-info {
                text-align: left;
            }
        }
    </style>

    <!-- LOGIN STYLES -->
    <style id="login-styles">
        .login-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .login-header h2 {
            color: var(--primary);
            font-size: var(--font-size-3xl);
            margin-bottom: 12px;
            font-weight: 700;
        }

        .login-header p {
            color: var(--text-light);
            font-size: var(--font-size-base);
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .login-submit {
            background: var(--gradient-primary);
            color: white;
            padding: 18px;
            border: none;
            border-radius: var(--border-radius);
            font-size: var(--font-size-lg);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 8px;
        }

        .login-submit:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .login-footer {
            text-align: center;
            margin-top: var(--spacing-md);
            font-size: var(--font-size-sm);
            color: var(--text-light);
        }

        /* Styles pour le bouton login discret dans le footer */
        .bottom-login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        [dir="rtl"] .bottom-login-container {
            align-items: center;
        }

        body.dark-mode .bottom-login-container {
            border-color: rgba(57, 118, 143, 0.719);
        }

        .bottom-login-btn {
            padding: 10;
            width: 44px;
            height: 44px;
            background: rgba(19, 162, 167, 0.692);
            color: rgba(255, 255, 255, 0.63);
            border: 1px solid rgba(11, 245, 233, 0.938);
            border-radius: 50%;
            cursor: pointer;
            font-size: var(--font-size-lg);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .bottom-login-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border-color: rgba(255, 255, 255, 0.25);
        }

        .bottom-login-btn i {
            font-size: 18px;
        }

        .bottom-login-btn.logged-in {
            background: rgba(173, 195, 199, 0.3);
            border-color: var(--success);
            color: var(--success);
        }

        .bottom-login-btn.logged-in:hover {
            background: rgba(173, 195, 199, 0.4);
        }

        .bottom-login-btn span {
            display: none;
        }

        /* Styles pour le dropdown dans le conteneur footer */
        .bottom-login-container .user-dropdown {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(10px) scale(0.95);
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
        }

        .bottom-login-container .user-dropdown.show {
            transform: translateX(-50%) translateY(0) scale(1);
            opacity: 1;
            pointer-events: all;
        }

        .bottom-login-container .user-dropdown::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 16px;
            height: 16px;
            background: white;
            border-right: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        /* Responsive pour le bouton login dans footer */
        @media (max-width: 768px) {
            .bottom-login-container {
                margin-top: 16px;
                padding-top: 16px;
            }

            .bottom-login-btn {
                width: 40px;
                height: 40px;
            }

            .bottom-login-btn i {
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .bottom-login-container {
                margin-top: 12px;
                padding-top: 12px;
            }

            .bottom-login-btn {
                width: 38px;
                height: 38px;
            }

            .bottom-login-btn i {
                font-size: 15px;
            }
        }

        /* Styles pour les boutons de déconnexion dans les dashboards */
        .btn-logout {
            background-color: var(--secondary);
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: absolute;
            top: 24px;
            right: 24px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: var(--font-size-base);
            font-weight: 600;
            box-shadow: var(--shadow-sm);
            z-index: 100;
        }

        .btn-logout:hover {
            background-color: var(--secondary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-logout i {
            font-size: 16px;
        }

        /* Responsive pour les boutons de déconnexion */
        @media (max-width: 1024px) {
            .btn-logout {
                top: 20px;
                right: 20px;
                padding: 8px 16px;
                font-size: var(--font-size-sm);
            }
        }

        @media (max-width: 768px) {
            .btn-logout {
                top: 16px;
                right: 16px;
                padding: 8px 14px;
                font-size: var(--font-size-sm);
            }

            .btn-logout span {
                display: none;
            }

            .btn-logout {
                width: 42px;
                height: 42px;
                padding: 0;
                justify-content: center;
                border-radius: 50%;
            }
        }

        @media (max-width: 480px) {
            .btn-logout {
                top: 12px;
                right: 12px;
                width: 38px;
                height: 38px;
            }

            .btn-logout i {
                font-size: 14px;
            }
        }
    </style>

    <!-- ADMIN DASHBOARD STYLES ULTRA-AMÉLIORÉS AVEC SÉLECTEURS DE COULEURS FONCTIONNELS ET SECTION HERO -->
    <style id="admin-styles">
        .page-section#admin-page {
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
            color: var(--text-dark);
            padding: calc(80px + var(--spacing-md)) 0 0;
            min-height: 100vh;
        }

        body.dark-mode .page-section#admin-page {
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a1a 100%);
            color: var(--text-light);
        }

        .admin-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 50%, var(--accent) 100%);
            color: white;
            padding: var(--spacing-xl);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-2xl);
            position: sticky;
            top: 80px;
            z-index: 100;
            border-bottom: 3px solid rgba(255, 255, 255, 0.2);
        }

        .admin-header h2 {
            font-size: var(--font-size-4xl);
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .admin-user-info {
            display: flex;
            align-items: center;
            gap: 24px;
            color: rgba(255, 255, 255, 0.95);
            font-size: var(--font-size-lg);
            font-weight: 600;
        }

        .admin-container {
            padding: var(--spacing-xl);
            max-width: 1800px;
            margin: 0 auto;
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(241, 245, 249, 0.9) 100%);
            border-radius: var(--border-radius-xl);
            box-shadow: inset var(--shadow-lg);
            margin-top: var(--spacing-lg);
        }

        body.dark-mode .admin-container {
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.8) 0%, rgba(30, 41, 59, 0.9) 100%);
        }

        .admin-tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: var(--spacing-xl);
            padding: var(--spacing-lg);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
            border-radius: var(--border-radius-xl);
            border: 2px solid rgba(0, 86, 179, 0.1);
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(10px);
        }

        body.dark-mode .admin-tabs {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
            border-color: rgba(0, 86, 179, 0.3);
        }

        .admin-tab {
            padding: 18px 28px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: var(--border-radius-lg);
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            color: var(--text-light);
            border: 2px solid transparent;
            min-width: 140px;
            justify-content: center;
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        body.dark-mode .admin-tab {
            background: linear-gradient(145deg, #1e293b 0%, #334155 100%);
            color: var(--text-light);
        }

        .admin-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .admin-tab:hover::before {
            left: 100%;
        }

        .admin-tab.active {
            background: linear-gradient(145deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-color: var(--accent);
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--shadow-xl);
            z-index: 10;
        }

        .admin-tab:hover:not(.active) {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-md);
            background: linear-gradient(145deg, #f1f5f9 0%, #e2e8f0 100%);
            color: var(--primary);
        }

        body.dark-mode .admin-tab:hover:not(.active) {
            background: linear-gradient(145deg, #334155 0%, #475569 100%);
            color: var(--primary-light);
        }

        .admin-content {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-2xl);
            border: 2px solid rgba(0, 86, 179, 0.08);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        body.dark-mode .admin-content {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
            border-color: rgba(0, 86, 179, 0.2);
        }

        .admin-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            z-index: 1;
        }

        .admin-tab-content {
            display: none;
        }

        .admin-tab-content.active {
            display: block;
            animation: tabFadeIn 0.5s ease-out forwards;
        }

        @keyframes tabFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .admin-section {
            margin-bottom: var(--spacing-xl);
            position: relative;
        }

        .admin-section h3 {
            font-size: var(--font-size-3xl);
            font-weight: 800;
            margin-bottom: var(--spacing-lg);
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 16px;
            padding-bottom: var(--spacing-md);
            border-bottom: 3px solid var(--primary);
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        body.dark-mode .admin-section h3 {
            color: var(--text-light);
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-lg);
        }

        .admin-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            border: 2px solid rgba(0, 86, 179, 0.08);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .admin-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
            border-color: rgba(0, 86, 179, 0.2);
        }

        .admin-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .admin-card:hover::before {
            transform: scaleX(1);
        }

        .admin-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-2xl);
            border-color: var(--primary);
        }

        .admin-card h4 {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: 12px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        body.dark-mode .admin-card h4 {
            color: var(--text-light);
        }

        .dashboard-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .dashboard-action-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
            border: 4px solid transparent;
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-xl);
            text-align: center;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-lg);
            min-height: 220px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        body.dark-mode .dashboard-action-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%);
        }

        .dashboard-action-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, var(--primary), var(--accent), var(--secondary), var(--primary));
            border-radius: 50%;
            animation: dashboardRotate 8s linear infinite;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .dashboard-action-card::after {
            content: '';
            position: absolute;
            inset: 4px;
            background: inherit;
            border-radius: inherit;
            z-index: 1;
        }

        .dashboard-action-card:hover::before {
            opacity: 1;
        }

        .dashboard-action-card > * {
            position: relative;
            z-index: 2;
        }

        @keyframes dashboardRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .dashboard-action-card:hover {
            transform: translateY(-12px) scale(1.05);
            box-shadow: var(--shadow-2xl);
        }

        .dashboard-action-icon {
            font-size: var(--font-size-5xl);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--spacing-md);
            transition: var(--transition);
        }

        .dashboard-action-card:hover .dashboard-action-icon {
            transform: scale(1.2) rotate(10deg);
        }

        .dashboard-action-title {
            font-size: var(--font-size-xl);
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: var(--spacing-sm);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        body.dark-mode .dashboard-action-title {
            color: var(--text-light);
        }

        .dashboard-action-desc {
            color: var(--text-light);
            font-size: var(--font-size-base);
            line-height: var(--line-height-loose);
            font-weight: 500;
        }

        /* AMÉLIORATION INTERFACE INFORMATIONS DU SITE AVEC SÉLECTEURS DE COULEURS FONCTIONNELS */
        .gradient-picker {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            padding: 20px;
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            border-radius: var(--border-radius-lg);
            border: 2px solid rgba(0, 86, 179, 0.1);
            backdrop-filter: blur(5px);
        }

        .color-picker-compact {
            width: 70px;
            height: 50px;
            border: 3px solid var(--border);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        .color-picker-compact:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-md);
        }

        .gradient-preview {
            width: 150px;
            height: 60px;
            border-radius: var(--border-radius);
            border: 3px solid var(--border);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            cursor: pointer;
        }

        .gradient-preview:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        .admin-media-manager {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 16px;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.03) 0%, rgba(0, 168, 150, 0.02) 100%);
            border-radius: var(--border-radius-xl);
            border: 2px dashed rgba(0, 86, 179, 0.2);
            backdrop-filter: blur(5px);
        }

        .media-item {
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            cursor: pointer;
            aspect-ratio: 1;
        }

        .media-item:hover {
            transform: scale(1.08);
            box-shadow: var(--shadow-xl);
            z-index: 10;
        }

        .media-item img,
        .media-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .media-item-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0, 86, 179, 0.8), rgba(0, 168, 150, 0.8));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
            backdrop-filter: blur(2px);
        }

        .media-item:hover .media-item-overlay {
            opacity: 1;
        }

        .media-item-overlay button {
            background: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            margin: 0 6px;
            box-shadow: var(--shadow-md);
        }

        .media-item-overlay button:hover {
            transform: scale(1.15);
            box-shadow: var(--shadow-lg);
        }

        .sections-manager {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .section-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
            border: 3px solid var(--border);
            border-radius: var(--border-radius-lg);
            transition: var(--transition);
            box-shadow: var(--shadow-md);
            backdrop-filter: blur(5px);
        }

        body.dark-mode .section-toggle {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
            border-color: var(--border-dark);
        }

        .section-toggle:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .section-toggle.active {
            border-color: var(--success);
            background: linear-gradient(145deg, rgba(42, 157, 143, 0.1) 0%, rgba(42, 157, 143, 0.05) 100%);
            box-shadow: var(--shadow-lg);
        }

        .section-toggle span {
            font-weight: 700;
            color: var(--text-dark);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        body.dark-mode .section-toggle span {
            color: var(--text-light);
        }

        .toggle-switch {
            position: relative;
            width: 70px;
            height: 36px;
            background: #ccc;
            border-radius: 18px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: inset var(--shadow-sm);
        }

        .toggle-switch.active {
            background: var(--success);
            box-shadow: inset var(--shadow-sm), 0 0 15px rgba(42, 157, 143, 0.4);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        .toggle-switch.active::after {
            left: 36px;
            box-shadow: var(--shadow-md);
        }

        /* Améliorations pour les listes et configurations */
        .email-config {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
            border: 3px solid var(--border);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            margin: 20px 0;
            box-shadow: var(--shadow-md);
            backdrop-filter: blur(5px);
        }

        body.dark-mode .email-config {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
            border-color: var(--border-dark);
        }

        .email-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .email-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px;
            background: var(--bg-alt);
            border-radius: var(--border-radius);
            border: 2px solid var(--border);
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        body.dark-mode .email-item {
            background: #1a1a1a;
            border-color: var(--border-dark);
        }

        .email-item:hover {
            transform: translateX(5px);
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }

        .contact-settings {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .social-links-manager {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .social-link-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 18px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.95) 100%);
            border: 2px solid var(--border);
            border-radius: var(--border-radius);
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        body.dark-mode .social-link-item {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.95) 100%);
            border-color: var(--border-dark);
        }

        .social-link-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary);
        }

        .social-link-item i {
            font-size: var(--font-size-xl);
            color: var(--primary);
            width: 30px;
            text-align: center;
        }

        /* File upload styles améliorés */
        .upload-area {
            border: 3px dashed var(--primary);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.05) 0%, rgba(0, 168, 150, 0.03) 100%);
            margin: var(--spacing-md) 0;
            transition: var(--transition);
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: var(--primary-dark);
            background: linear-gradient(135deg, rgba(0, 86, 179, 0.1) 0%, rgba(0, 168, 150, 0.06) 100%);
            transform: translateY(-2px);
        }

        .upload-progress {
            width: 100%;
            height: 8px;
            background: var(--bg-alt);
            border-radius: var(--border-radius-full);
            overflow: hidden;
            margin: 12px 0;
            position: relative;
        }

        .upload-progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--border-radius-full);
            transition: width 0.3s ease;
            width: 0%;
        }

        /* Save status indicators */
        .save-status {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 12px 20px;
            border-radius: var(--border-radius-lg);
            font-weight: 600;
            font-size: var(--font-size-sm);
            z-index: var(--z-notification);
            backdrop-filter: blur(10px);
            border: 2px solid;
            transition: var(--transition);
            display: none;
        }

        .save-status.saving {
            background: linear-gradient(135deg, rgba(233, 196, 106, 0.9) 0%, rgba(233, 196, 106, 0.8) 100%);
            border-color: var(--warning);
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .save-status.saved {
            background: linear-gradient(135deg, rgba(42, 157, 143, 0.9) 0%, rgba(42, 157, 143, 0.8) 100%);
            border-color: var(--success);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .save-status.error {
            background: linear-gradient(135deg, rgba(231, 111, 81, 0.9) 0%, rgba(231, 111, 81, 0.8) 100%);
            border-color: var(--danger);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        @media (max-width: 1400px) {
            .admin-container {
                max-width: 1200px;
            }
        }

        @media (max-width: 1024px) {
            .admin-tabs {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 8px;
            }

            .admin-tab {
                padding: 14px 20px;
                font-size: var(--font-size-xs);
            }
        }

        @media (max-width: 768px) {
            .admin-header {
                flex-direction: column;
                gap: var(--spacing-md);
                text-align: center;
            }

            .dashboard-actions {
                grid-template-columns: 1fr;
            }

            .admin-tabs {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* FIX: responsive-filter-layout */
        @media (max-width: 1024px) {
            [style*="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))"] {
                gap: 12px !important;
                padding: 12px !important;
            }
        }

        @media (max-width: 768px) {
            [style*="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))"] {
                grid-template-columns: 1fr !important;
                gap: 10px !important;
            }

            [style*="display: flex; gap: 8px"] button {
                font-size: 12px !important;
                padding: 6px 12px !important;
            }
        }

        @media (max-width: 480px) {
            [style*="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))"] {
                grid-template-columns: 1fr !important;
            }

            .btn.btn-sm {
                font-size: 11px !important;
                padding: 5px 10px !important;
            }

            [style*="display: flex; gap: 8px"] {
                flex-direction: column !important;
                gap: 6px !important;
            }

            [style*="display: flex; gap: 8px"] button {
                width: 100% !important;
            }
        }
    </style>

    <!-- RECRUTEUR DASHBOARD STYLES -->
    <style id="recruteur-styles">
        .page-section#recruteur-page {
            background: #ffffff;
            color: var(--text-dark);
            padding: calc(80px + var(--spacing-md)) 0 0;
            min-height: 100vh;
        }

        body.dark-mode .page-section#recruteur-page {
            background: var(--dark);
            color: var(--text-light);
        }

        .recruteur-header {
            background: var(--gradient-accent);
            color: white;
            padding: var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-xl);
            position: sticky;
            top: 80px;
            z-index: 100;
        }

        .recruteur-container {
            padding: var(--spacing-xl);
            max-width: 1400px;
            margin: 0 auto;
        }

        .recruteur-badge {
            background: var(--success);
            color: white;
            padding: 6px 16px;
            border-radius: var(--border-radius-full);
            font-size: var(--font-size-xs);
            font-weight: 700;
            margin-left: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .recruteur-note {
            background: linear-gradient(135deg, rgba(42, 157, 143, 0.1) 0%, rgba(42, 157, 143, 0.05) 100%);
            border: 3px solid var(--success);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            margin: 16px 0;
            font-size: var(--font-size-base);
            color: var(--success);
            font-weight: 600;
            backdrop-filter: blur(5px);
        }

        .recruteur-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .recruteur-stat-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 3px solid var(--border);
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-lg);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .recruteur-stat-card {
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a1a 100%);
            border-color: var(--border-dark);
        }

        .recruteur-stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }

        .recruteur-stat-number {
            font-size: var(--font-size-3xl);
            font-weight: 800;
            color: var(--accent);
            margin-bottom: 8px;
        }

        .recruteur-stat-label {
            color: var(--text-light);
            font-size: var(--font-size-base);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
    </style>

    <!-- LECTEUR DASHBOARD STYLES (NOUVEAU RÔLE) -->
    <style id="lecteur-styles">
        .page-section#lecteur-page {
            background: #ffffff;
            color: var(--text-dark);
            padding: calc(80px + var(--spacing-md)) 0 0;
            min-height: 100vh;
        }

        body.dark-mode .page-section#lecteur-page {
            background: var(--dark);
            color: var(--text-light);
        }

        .lecteur-header {
            background: var(--gradient-info);
            color: white;
            padding: var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-xl);
            position: sticky;
            top: 80px;
            z-index: 100;
        }

        .lecteur-container {
            padding: var(--spacing-xl);
            max-width: 1400px;
            margin: 0 auto;
        }

        .lecteur-badge {
            background: var(--warning);
            color: var(--text-dark);
            padding: 8px 20px;
            border-radius: var(--border-radius-full);
            font-size: var(--font-size-xs);
            font-weight: 700;
            margin-left: 8px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            box-shadow: var(--shadow-sm);
        }

        .lecteur-note {
            background: linear-gradient(135deg, rgba(29, 53, 87, 0.15) 0%, rgba(29, 53, 87, 0.08) 100%);
            border: 4px solid var(--info);
            border-radius: var(--border-radius-lg);
            padding: 24px;
            margin: 20px 0;
            font-size: var(--font-size-base);
            color: var(--info);
            font-weight: 600;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-md);
        }

        .lecteur-restrictions {
            background: linear-gradient(135deg, rgba(233, 196, 106, 0.15) 0%, rgba(233, 196, 106, 0.08) 100%);
            border: 3px solid var(--warning);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            margin: 20px 0;
            font-size: var(--font-size-sm);
            color: var(--warning);
            font-weight: 600;
            backdrop-filter: blur(5px);
            box-shadow: var(--shadow-md);
        }

        .lecteur-restrictions h4 {
            font-size: var(--font-size-lg);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .lecteur-restrictions ul {
            margin: 12px 0 0 24px;
            color: var(--text-light);
            line-height: var(--line-height-loose);
        }

        .lecteur-restrictions li {
            margin-bottom: 8px;
            font-weight: 500;
        }
    </style>

    <!-- PRISM EFFECT STYLES GLOBAUX ULTRA-SOPHISTIQUÉS -->
    <style id="prism-styles">
        .prism-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .prism-canvas {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            opacity: 0.4;
        }

        .prism {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 275px;
            height: 175px;
            transform-origin: center;
            animation: prism3DRotate 20s linear infinite;
            transform: translate(-50%, -50%) scale(3.6);
        }

        .prism-face {
            position: absolute;
            background: linear-gradient(45deg, 
                rgba(0, 86, 179, 0.6) 0%,
                rgba(0, 168, 150, 0.6) 25%,
                rgba(230, 57, 70, 0.6) 50%,
                rgba(233, 196, 106, 0.6) 75%,
                rgba(0, 86, 179, 0.6) 100%);
            background-size: 400% 400%;
            animation: prismGradientColor 10s ease-in-out infinite;
            border: 1px solid rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(2px);
            filter: hue-rotate(0deg);
        }

        .prism-face-1 {
            width: 100%;
            height: 60%;
            top: 0;
            left: 0;
            transform: rotateX(30deg) rotateY(-15deg);
            clip-path: polygon(0 0, 100% 0, 90% 100%, 10% 100%);
        }

        .prism-face-2 {
            width: 100%;
            height: 60%;
            top: 40%;
            left: 0;
            transform: rotateX(-30deg) rotateY(15deg);
            clip-path: polygon(10% 0, 90% 0, 100% 100%, 0 100%);
        }

        .prism-face-3 {
            width: 90%;
            height: 40%;
            top: 30%;
            left: 5%;
            transform: rotateY(90deg);
            clip-path: polygon(0 0, 80% 0, 100% 100%, 20% 100%);
        }

        .prism-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(0, 86, 179, 0.7);
            border-radius: 50%;
            animation: prismParticleFloat 24s ease-in-out infinite;
            filter: blur(0.5px);
        }

        .prism-particle:nth-child(2) {
            left: 20%;
            animation-delay: -4.8s;
            background: rgba(0, 168, 150, 0.7);
        }

        .prism-particle:nth-child(3) {
            left: 40%;
            animation-delay: -9.6s;
            background: rgba(230, 57, 70, 0.7);
        }

        .prism-particle:nth-child(4) {
            left: 60%;
            animation-delay: -14.4s;
            background: rgba(233, 196, 106, 0.7);
        }

        .prism-particle:nth-child(5) {
            left: 80%;
            animation-delay: -19.2s;
            background: rgba(0, 86, 179, 0.7);
        }

        .prism-bloom {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 400px;
            height: 280px;
            transform: translate(-50%, -50%);
            background: radial-gradient(ellipse at center, 
                rgba(0, 86, 179, 0.15) 0%,
                rgba(0, 168, 150, 0.12) 30%,
                rgba(230, 57, 70, 0.10) 50%,
                transparent 70%);
            animation: prismBloomEffect 16s ease-in-out infinite;
            filter: blur(8px);
        }

        @keyframes prism3DRotate {
            0% { 
                transform: translate(-50%, -50%) rotateY(0deg) rotateX(15deg) rotateZ(0deg) scale(3.6); 
            }
            25% { 
                transform: translate(-50%, -50%) rotateY(90deg) rotateX(20deg) rotateZ(5deg) scale(3.8); 
            }
            50% { 
                transform: translate(-50%, -50%) rotateY(180deg) rotateX(10deg) rotateZ(10deg) scale(3.4); 
            }
            75% { 
                transform: translate(-50%, -50%) rotateY(270deg) rotateX(25deg) rotateZ(5deg) scale(3.9); 
            }
            100% { 
                transform: translate(-50%, -50%) rotateY(360deg) rotateX(15deg) rotateZ(0deg) scale(3.6); 
            }
        }

        @keyframes prismGradientColor {
            0%, 100% { 
                background-position: 0% 50%; 
                filter: hue-rotate(0deg) brightness(1) saturate(1);
            }
            25% { 
                background-position: 100% 50%; 
                filter: hue-rotate(90deg) brightness(1.2) saturate(1.1);
            }
            50% { 
                background-position: 100% 100%; 
                filter: hue-rotate(180deg) brightness(0.8) saturate(0.9);
            }
            75% { 
                background-position: 0% 100%; 
                filter: hue-rotate(270deg) brightness(1.1) saturate(1.05);
            }
        }

        @keyframes prismParticleFloat {
            0%, 100% { 
                transform: translateY(100vh) scale(0) rotate(0deg); 
                opacity: 0;
            }
            5% { 
                opacity: 1; 
                transform: translateY(95vh) scale(1) rotate(45deg);
            }
            95% { 
                opacity: 0.8; 
                transform: translateY(-5vh) scale(1.2) rotate(315deg);
            }
        }

        @keyframes prismBloomEffect {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1); 
                opacity: 0.15;
                filter: blur(8px);
            }
            33% { 
                transform: translate(-50%, -50%) scale(1.2); 
                opacity: 0.25;
                filter: blur(12px);
            }
            66% { 
                transform: translate(-50%, -50%) scale(0.9); 
                opacity: 0.2;
                filter: blur(6px);
            }
        }

        .prism-background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(0, 86, 179, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 75% 25%, rgba(0, 168, 150, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 25% 75%, rgba(230, 57, 70, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(233, 196, 106, 0.06) 0%, transparent 40%);
            animation: prismNoiseEffect 12s ease-in-out infinite;
            opacity: 0.5;
            mix-blend-mode: overlay;
        }

        @keyframes prismNoiseEffect {
            0%, 100% { 
                opacity: 0.5; 
                transform: scale(1) rotate(0deg);
            }
            25% { 
                opacity: 0.7; 
                transform: scale(1.05) rotate(1deg);
            }
            50% { 
                opacity: 0.6; 
                transform: scale(0.98) rotate(-1deg);
            }
            75% { 
                opacity: 0.8; 
                transform: scale(1.02) rotate(0.5deg);
            }
        }

        .section-with-prism:hover .prism {
            animation-play-state: paused;
            transform: translate(-50%, -50%) rotateY(20deg) rotateX(15deg) scale(4.0);
            transition: transform 1s ease-out;
        }

        .prism-canvas {
            background: transparent;
            mix-blend-mode: normal;
        }

        .prism {
            animation-play-state: running;
        }

        .section-with-prism {
            position: relative;
            overflow: hidden;
        }

        .section-with-prism .prism-background {
            opacity: 0.3;
        }

        .section-with-prism:hover .prism-background {
            opacity: 0.5;
        }
    </style>

    <!-- COMMON UTILITY STYLES ULTRA-SOPHISTIQUÉS -->
    <style id="utility-styles">
        /* Section headers */
        .section-header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
            position: relative;
            z-index: 1;
        }

        /* FIX: policy-headers-style */
        .section-header h1,
        .section-header h2,
        .section-header h3,
        .section-header h4,
        .section-header h5,
        .section-header h6 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--primary);
            position: relative;
            display: inline-block;
            font-weight: 800;
            letter-spacing: -0.02em;
        }

        body.dark-mode .section-header h1,
        body.dark-mode .section-header h2,
        body.dark-mode .section-header h3,
        body.dark-mode .section-header h4,
        body.dark-mode .section-header h5,
        body.dark-mode .section-header h6 {
            color: var(--primary-light);
        }

        .section-header p {
            color: var(--text-light);
            max-width: 800px;
            margin: 24px auto 0;
            font-size: var(--font-size-xl);
            line-height: var(--line-height-loose);
        }

        /* Animation utilities */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        *:focus {
            outline: 3px solid var(--primary);
            outline-offset: 2px;
        }

        *:focus:not(:focus-visible) {
            outline: none;
        }

        *:focus-visible {
            outline: 3px solid var(--primary);
            outline-offset: 2px;
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Maintenance mode */
        .maintenance-notice {
            background: var(--warning);
            color: var(--text-dark);
            text-align: center;
            padding: var(--spacing-md);
            font-weight: 600;
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            z-index: var(--z-header);
            display: none;
        }

        body.maintenance-mode .maintenance-notice {
            display: block;
        }

        /* Analytics Charts */
        .chart-container {
            background: white;
            border-radius: var(--border-radius-xl);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow);
            margin-bottom: var(--spacing-lg);
            border: 1px solid var(--border);
        }

        body.dark-mode .chart-container {
            background: var(--dark);
            border-color: var(--border-dark);
        }

        .chart-title {
            font-size: var(--font-size-xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        body.dark-mode .chart-title {
            color: var(--text-light);
        }

        /* Progress bars */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-alt);
            border-radius: var(--border-radius-full);
            overflow: hidden;
            margin: 8px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--border-radius-full);
            transition: width 0.3s ease;
        }

        /* Status badges ultra-sophistiqués */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 18px;
            border-radius: var(--border-radius-full);
            font-size: var(--font-size-xs);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(5px);
        }

        .status-active {
            background: linear-gradient(135deg, rgba(42, 157, 143, 0.2) 0%, rgba(42, 157, 143, 0.15) 100%);
            color: var(--success);
            border: 2px solid var(--success);
        }

        .status-inactive {
            background: linear-gradient(135deg, rgba(231, 111, 81, 0.2) 0%, rgba(231, 111, 81, 0.15) 100%);
            color: var(--danger);
            border: 2px solid var(--danger);
        }

        .status-pending {
            background: linear-gradient(135deg, rgba(233, 196, 106, 0.2) 0%, rgba(233, 196, 106, 0.15) 100%);
            color: var(--warning);
            border: 2px solid var(--warning);
        }

        .status-processed {
            background: linear-gradient(135deg, rgba(0, 168, 150, 0.2) 0%, rgba(0, 168, 150, 0.15) 100%);
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        /* Form conditional fields */
        .conditional-field {
            display: none;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .conditional-field.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .form-radio-group {
            display: flex;
            gap: 24px;
            margin-top: 12px;
            flex-wrap: nowrap;
            overflow-x: auto;
        }

        .form-radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: var(--border-radius);
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .form-radio-item:hover {
            background: rgba(0, 86, 179, 0.05);
            border-color: var(--primary);
        }

        .form-radio-item input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
        }

        .form-checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-weight: 500;
            padding: 12px 16px;
            border-radius: var(--border-radius);
            transition: var(--transition);
            border: 2px solid var(--border);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.9) 100%);
            margin: 12px 0;
        }

        body.dark-mode .form-checkbox-item {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%);
            border-color: var(--border-dark);
        }

        .form-checkbox-item:hover {
            background: rgba(0, 86, 179, 0.08);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .form-checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
        }

        .notice-days-input {
            margin-top: 12px;
            padding: 12px 16px;
            border: 2px solid var(--primary);
            border-radius: var(--border-radius);
            background: rgba(0, 86, 179, 0.05);
            font-weight: 600;
        }
    </style>

    <!-- MAINTENANCE MODE STYLES -->
    <style id="maintenance-styles">
        .page-section#maintenance-page {
            background: var(--gradient-primary);
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: var(--spacing-xl);
        }

        .maintenance-content {
            max-width: 600px;
        }

        .maintenance-icon {
            font-size: 80px;
            margin-bottom: var(--spacing-lg);
            opacity: 0.9;
        }

        .maintenance-title {
            font-size: var(--font-size-4xl);
            font-weight: 800;
            margin-bottom: var(--spacing-md);
        }

        .maintenance-message {
            font-size: var(--font-size-lg);
            line-height: var(--line-height-loose);
            opacity: 0.9;
            margin-bottom: var(--spacing-lg);
        }

        .maintenance-eta {
            font-size: var(--font-size-base);
            opacity: 0.8;
            font-style: italic;
        }
    </style>
</head>

<body data-user-role="guest">
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link sr-only">Passer au contenu principal</a>

    <!-- Container de notifications ultra-amélioré -->
    <div class="notification-container" id="notificationContainer">
        <!-- Les notifications apparaîtront ici -->
    </div>

    <!-- Save Status Indicator -->
    <div class="save-status" id="saveStatus">
        <i class="fas fa-spinner fa-spin"></i>
        <span>Sauvegarde en cours...</span>
    </div>

    <!-- Maintenance Notice (Hidden by default) -->
    <div class="maintenance-notice" id="maintenanceNotice">
        <i class="fas fa-tools"></i> <span data-fr="Site en maintenance - Fonctionnalités limitées" data-en="Site under maintenance - Limited functionality" data-ar="الموقع قيد الصيانة - وظائف محدودة">Site en maintenance - Fonctionnalités limitées</span>
    </div>

    <!-- Consent Banner (Loi 18-07) -->
    <div class="consent-banner" id="consentBanner">
        <div class="consent-content">
            <div class="consent-text">
                <h4><i class="fas fa-shield-alt"></i> <span data-fr="Protection de vos données personnelles" data-en="Protection of your personal data" data-ar="حماية بياناتكم الشخصية">Protection de vos données personnelles</span></h4>
                <p data-fr="Conformément à la loi n°18-07 relative à la protection des personnes physiques dans le traitement des données à caractère personnel, nous utilisons des cookies et collectons des informations pour améliorer votre expérience et analyser notre trafic. Votre consentement est requis pour les formulaires de contact et candidatures." data-en="In accordance with Law No. 18-07 on the protection of natural persons with regard to the processing of personal data, we use cookies and collect information to improve your experience and analyze our traffic. Your consent is required for contact and application forms." data-ar="Conformément à la loi n°18-07 relative à la protection des personnes physiques dans le traitement des données à caractère personnel, nous utilisons des cookies et collectons des informations pour améliorer votre expérience et analyser notre trafic. Votre consentement est requis pour les formulaires de contact et candidatures.">Conformément à la loi n°18-07 relative à la protection des personnes physiques dans le traitement des données à caractère personnel, nous utilisons des cookies et collectons des informations pour améliorer votre expérience et analyser notre trafic. Votre consentement est requis pour les formulaires de contact et candidatures.</p>
            </div>
            <div class="consent-actions">
                <button class="consent-btn consent-accept functional-btn" id="consentAccept">
                    <i class="fas fa-check"></i> <span data-fr="J'accepte" data-en="I accept" data-ar="أوافق">J'accepte</span>
                </button>
                <button class="consent-btn consent-decline functional-btn" id="consentDecline">
                    <i class="fas fa-times"></i> <span data-fr="Je refuse" data-en="I decline" data-ar="أرفض">Je refuse</span>
                </button>
                <button class="consent-btn consent-settings functional-btn" id="consentSettings">
                    <i class="fas fa-cog"></i> <span data-fr="Paramètres" data-en="Settings" data-ar="الإعدادات">Paramètres</span>
                </button>
            </div>
        </div>
    </div>

    <!-- FIX: remove-loading-screen -->

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top functional-btn" id="scrollToTop" aria-label="Remonter en haut de la page">
        <i class="fas fa-chevron-up" aria-hidden="true"></i>
    </button>

    <!-- Header CORRIGÉ avec structure CSS Grid claire -->
    <header role="banner">
        <div class="header-container">
            <!-- ZONE GAUCHE - LOGO -->
            <div class="header-left">
                <a href="#home" class="logo functional-btn nav-link" id="siteLogo" data-page="home" aria-label="Accueil AE2I Algérie">
                    <img src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=150&h=50&fit=crop" alt="AE2I Logo" id="headerLogo" loading="lazy">
                </a>
            </div>
            
            <!-- ZONE CENTRALE - MENU PRINCIPAL PARFAITEMENT CENTRÉ -->
            <div class="header-center">
                <nav role="navigation" aria-label="Navigation principale">
                    <ul id="mainNavigation">
                        <li><a href="#home" class="nav-link functional-btn" data-page="home" data-fr="Accueil" data-en="Home" data-ar="الرئيسية" data-ar="الرئيسية">Accueil</a></li>
                        <li><a href="#about" class="nav-link functional-btn" data-page="about" data-fr="À propos" data-en="About" data-ar="من نحن" data-ar="من نحن">À propos</a></li>
                        <li><a href="#services" class="nav-link functional-btn" data-page="services" data-fr="Services" data-en="Services" data-ar="خدماتنا" data-ar="خدماتنا">Services</a></li>
                        <li><a href="#qualite" class="nav-link functional-btn" data-page="qualite" data-fr="Politique Qualité" data-en="Quality Policy" data-ar="سياسة الجودة" data-ar="سياسة الجودة">Politique Qualité</a></li>
                        <li><a href="#carriere" class="nav-link functional-btn" data-page="carriere" data-fr="Carrière" data-en="Career" data-ar="الوظائف" data-ar="الوظائف">Carrière</a></li>
                        <li><a href="#contact" class="nav-link functional-btn" data-page="contact" data-fr="Contact" data-en="Contact" data-ar="اتصل بنا" data-ar="اتصل بنا">Contact</a></li>
                        <li id="customPagesNavigation">
                            <!-- Pages personnalisées ajoutées dynamiquement -->
                        </li>
                    </ul>
                </nav>
            </div>
            
            <!-- ZONE DROITE - ACTIONS PARFAITEMENT ALIGNÉES -->
            <div class="header-right">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Menu mobile" aria-expanded="false">
                    <i class="fas fa-bars" aria-hidden="true"></i>
                </button>
                
                <div class="header-actions">
                    <div class="language-selector" role="group" aria-label="Sélection de langue">
                        <button class="language-btn functional-btn active" data-lang="fr" aria-pressed="true">FR</button>
                        <button class="language-btn functional-btn" data-lang="en" aria-pressed="false">EN</button>
                        <button class="language-btn functional-btn" data-lang="ar" aria-pressed="false">AR</button>
                    </div>
                    <button class="theme-toggle functional-btn" id="themeToggle" aria-label="Basculer entre mode sombre et clair">
                        <i class="fas fa-moon" aria-hidden="true"></i>
                    </button>
                    <!-- FIX: logout-system - Bouton déconnexion dans le header -->
                    <button class="header-logout-btn functional-btn" id="headerLogoutBtn" style="display: none;" aria-label="Déconnexion">
                        <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                        <span data-fr="Déconnexion" data-en="Logout" data-ar="تسجيل الخروج">Déconnexion</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- MENU MOBILE LATÉRAL SOPHISTICATED CORRIGÉ -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    <div class="mobile-menu-panel" id="mobileMenuPanel">
        <div class="mobile-menu-header">
            <h3><i class="fas fa-compass"></i> Navigation</h3>
            <button class="mobile-menu-close" id="mobileMenuClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-nav">
            <ul id="mobileNavigationLinks">
                <li><a href="#home" class="nav-link functional-btn" data-page="home">
                    <i class="fas fa-home"></i>
                    <span data-fr="Accueil" data-en="Home" data-ar="الرئيسية">Accueil</span>
                </a></li>
                <li><a href="#about" class="nav-link functional-btn" data-page="about">
                    <i class="fas fa-info-circle"></i>
                    <span data-fr="À propos" data-en="About" data-ar="من نحن">À propos</span>
                </a></li>
                <li><a href="#services" class="nav-link functional-btn" data-page="services">
                    <i class="fas fa-cogs"></i>
                    <span data-fr="Services" data-en="Services" data-ar="خدماتنا">Services</span>
                </a></li>
                <li><a href="#qualite" class="nav-link functional-btn" data-page="qualite">
                    <i class="fas fa-certificate"></i>
                    <span data-fr="Politique Qualité" data-en="Quality Policy" data-ar="سياسة الجودة">Politique Qualité</span>
                </a></li>
                <li><a href="#carriere" class="nav-link functional-btn" data-page="carriere">
                    <i class="fas fa-briefcase"></i>
                    <span data-fr="Carrière" data-en="Career" data-ar="الوظائف">Carrière</span>
                </a></li>
                <li><a href="#contact" class="nav-link functional-btn" data-page="contact">
                    <i class="fas fa-envelope"></i>
                    <span data-fr="Contact" data-en="Contact" data-ar="اتصل بنا">Contact</span>
                </a></li>
                <!-- FIX: logout-system - Boutons dashboard et déconnexion dans le menu mobile -->
                <li id="mobileDashboardLink" style="display: none;">
                    <a href="#" class="nav-link functional-btn" id="mobileDashboardBtn">
                        <i class="fas fa-tachometer-alt"></i>
                        <span data-fr="Mon tableau de bord" data-en="My Dashboard" data-ar="لوحة التحكم">Mon tableau de bord</span>
                    </a>
                </li>
                <li id="mobileLogoutLink" style="display: none;">
                    <a href="#" class="nav-link functional-btn" id="mobileLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span data-fr="Déconnexion" data-en="Logout" data-ar="تسجيل الخروج">Déconnexion</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="loginModal" role="dialog" aria-labelledby="loginTitle" aria-hidden="true">
        <div class="login-content">
            <button class="login-close functional-btn" id="loginClose" aria-label="Fermer la connexion">&times;</button>
            <div class="login-header">
                <h2 id="loginTitle"><i class="fas fa-shield-alt" aria-hidden="true"></i> <span data-fr="Connexion Sécurisée" data-en="Secure Login" data-ar="تسجيل دخول آمن">Connexion Sécurisée</span></h2>
                <p data-fr="Accédez à votre espace d'administration" data-en="Access your administration area" data-ar="ادخل إلى لوحة التحكم">Accédez à votre espace d'administration</p>
            </div>
            <form class="login-form" id="loginForm" novalidate>
                <div class="form-group">
                    <label for="loginUsername" data-fr="Nom d'utilisateur" data-en="Username" data-ar="اسم المستخدم">Nom d'utilisateur</label>
                    <input type="text" id="loginUsername" name="username" class="form-control" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="loginPassword" data-fr="Mot de passe" data-en="Password" data-ar="كلمة المرور">Mot de passe</label>
                    <input type="password" id="loginPassword" name="password" class="form-control" required autocomplete="current-password">
                </div>
                <button type="submit" class="login-submit functional-btn">
                    <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                    <span data-fr="Se connecter" data-en="Sign in" data-ar="تسجيل الدخول">Se connecter</span>
                </button>
            </form>
            <div class="login-footer">
                <p data-fr="Contactez l'administrateur si vous avez oublié vos identifiants" data-en="Contact the administrator if you have forgotten your credentials" data-ar="اتصل بالمسؤول إذا نسيت بيانات الدخول">Contactez l'administrateur si vous avez oublié vos identifiants</p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        <!-- ===== MAINTENANCE PAGE ===== -->
        <section class="page-section" id="maintenance-page" data-page="maintenance" style="display: none;">
            <div class="maintenance-content">
                <div class="maintenance-icon">
                    <i class="fas fa-tools" aria-hidden="true"></i>
                </div>
                <h1 class="maintenance-title" data-fr="Site en Maintenance" data-en="Site Under Maintenance" data-ar="الموقع قيد الصيانة">Site en Maintenance</h1>
                <p class="maintenance-message" data-fr="Nous effectuons actuellement une maintenance pour améliorer votre expérience. Le site sera bientôt de retour avec de nouvelles fonctionnalités !" data-en="We are currently performing maintenance to improve your experience. The site will be back soon with new features!" data-ar="Nous effectuons actuellement une maintenance pour améliorer votre expérience. Le site sera bientôt de retour avec de nouvelles fonctionnalités !">
                    Nous effectuons actuellement une maintenance pour améliorer votre expérience. 
                    Le site sera bientôt de retour avec de nouvelles fonctionnalités !
                </p>
                <div class="maintenance-eta" data-fr="Retour prévu : Dans quelques instants" data-en="Expected return: In a few moments" data-ar="Retour prévu : Dans quelques instants">
                    Retour prévu : Dans quelques instants
                </div>
            </div>
        </section>

        <!-- ===== PAGE ACCUEIL AVEC EFFET PRISM ===== -->
        <section class="page-section active section-with-prism" id="home-page" data-page="home">
            <div class="home-hero">
                <div class="home-hero-background" id="heroBackground" aria-hidden="true">
                    <video autoplay muted loop playsinline id="heroVideo" style="display: none;" aria-hidden="true">
                        <source src="" type="video/mp4" id="heroVideoSource">
                    </video>
                </div>
                <div class="home-hero-content">
                    <h1 class="home-hero-title" id="heroTitle" data-fr="AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous" data-en="Energy & Industrial Engineering" data-ar="AE2I الجزائر – حلول عملية ومُكيّفة ومُتاحة للجميع">AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous</h1>
                    <p class="home-hero-subtitle" id="heroSubtitle" data-fr="AE2I Algérie, filiale de AE2I France, accompagne depuis 2009 la réalisation de projets industriels et énergétiques complexes, de la phase devis à la mise en service." data-en="AE2I Algeria, subsidiary of AE2I France, has been supporting since 2009 the realization of complex industrial and energy projects, from quotation phase to commissioning." data-ar="AE2I الجزائر، شركة تابعة لـ AE2I فرنسا، ترافق منذ 2009 إنجاز مشاريع صناعية وطاقوية معقدة، من مرحلة التسعير إلى التشغيل.">AE2I Algérie, filiale de AE2I France, accompagne depuis 2009 la réalisation de projets industriels et énergétiques complexes, de la phase devis à la mise en service.</p>
                    <div class="home-hero-buttons">
                        <a href="#services" class="btn btn-primary functional-btn nav-link" data-page="services">
                            <i class="fas fa-arrow-right" aria-hidden="true"></i>
                            <span data-fr="Nos Services" data-en="Our Services" data-ar="خدماتنا">Nos Services</span>
                        </a>
                        <a href="#contact" class="btn btn-outline functional-btn nav-link" data-page="contact">
                            <i class="fas fa-comments" aria-hidden="true"></i>
                            <span data-fr="Contactez-nous" data-en="Contact Us" data-ar="اتصل بنا">Contactez-nous</span>
                        </a>
                    </div>
                    <div class="home-stats" role="region" aria-label="Statistiques de l'entreprise">
                        <div class="home-stat">
                            <div class="home-stat-icon">
                                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                            </div>
                            <div class="home-stat-number">2009</div>
                            <div class="home-stat-label" data-fr="Création" data-en="Established" data-ar="التأسيس">Création</div>
                        </div>
                        <div class="home-stat">
                            <div class="home-stat-icon">
                                <i class="fas fa-cogs" aria-hidden="true"></i>
                            </div>
                            <div class="home-stat-number">EXPERTISE</div>
                            <div class="home-stat-label" data-fr="Technique & Administrative" data-en="Technical & Administrative" data-ar="تقنية وإدارية">Technique & Administrative</div>
                        </div>
                        <div class="home-stat">
                            <div class="home-stat-icon">
                                <i class="fas fa-globe-americas" aria-hidden="true"></i>
                            </div>
                            <div class="home-stat-number">PORTAGE</div>
                            <div class="home-stat-label" data-fr="National & International" data-en="National & International" data-ar="وطني ودولي">National & International</div>
                        </div>
                        <div class="home-stat">
                            <div class="home-stat-icon">
                                <i class="fas fa-users" aria-hidden="true"></i>
                            </div>
                            <div class="home-stat-number">PRESTATION</div>
                            <div class="home-stat-label" data-fr="Salariale" data-en="Salary" data-ar="Salariale">Salariale</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FIX: professional-design-responsive - Qui sommes-nous section -->
            <div class="home-company-section">
                <div class="home-company-container">
                    <div class="section-header">
                        <h2 data-fr="Qui sommes-nous ?" data-en="Company Presentation" data-ar="Qui sommes-nous ?">Qui sommes-nous ?</h2>
                        <p data-fr="Une expertise reconnue au service de l'industrie algérienne" data-en="Recognized expertise serving the Algerian industry" data-ar="Une expertise reconnue au service de l'industrie algérienne">Une expertise reconnue au service de l'industrie algérienne</p>
                    </div>
                    <div class="home-company-grid">
                        <div class="home-company-image">
                            <img src="https://images.pexels.com/photos/380768/pexels-photo-380768.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop"
                                 alt="Installation industrielle AE2I"
                                 loading="lazy">
                        </div>
                        <div class="home-company-content">
                            <h2 class="home-company-title">AE2I Algérie</h2>
                            <p class="home-company-text" data-fr="AE2I-Algérie est une entreprise de prestation de service technique et administrative de tout secteur industriel. Implantée en Algérie depuis 2009, AE2I-Algérie accompagne ses clients vers le succès en proposant des solutions complètes." data-en="AE2I-Algeria is a technical and administrative service company for any industrial sector. Established in Algeria since 2009, AE2I-Algeria supports its clients towards success by offering complete solutions." data-ar="AE2I-الجزائر، هي شركة خدمات تقنية وإدارية لجميع القطاعات الصناعية. متواجدة في الجزائر منذ 2009. AE2I-الجزائر ترافق عملاءها نحو النجاح من خلال تقديم حلول شاملة.">
                                AE2I-Algérie est une entreprise de prestation de service technique et administrative de tout secteur industriel. Implantée en Algérie depuis 2009, AE2I-Algérie accompagne ses clients vers le succès en proposant des solutions complètes.
                            </p>
                            <a href="#about" class="btn btn-primary nav-link functional-btn" data-page="about">
                                <i class="fas fa-info-circle" aria-hidden="true"></i>
                                <span data-fr="En savoir plus" data-en="Learn More" data-ar="En savoir plus">En savoir plus</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section Nos Valeurs avec effet prism -->
            <div class="home-values-section section-with-prism">
                <div class="prism-background">
                    <div class="prism-canvas">
                        <div class="prism">
                            <div class="prism-face prism-face-1"></div>
                            <div class="prism-face prism-face-2"></div>
                            <div class="prism-face prism-face-3"></div>
                        </div>
                        <div class="prism-bloom"></div>
                        <div class="prism-particle" style="top: 10%; left: 10%;"></div>
                        <div class="prism-particle" style="top: 20%; left: 20%;"></div>
                        <div class="prism-particle" style="top: 30%; left: 40%;"></div>
                        <div class="prism-particle" style="top: 70%; left: 60%;"></div>
                        <div class="prism-particle" style="top: 80%; left: 80%;"></div>
                    </div>
                </div>
                <div style="max-width: 1400px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <div class="section-header">
                        <h2 data-fr="Nos Valeurs" data-en="Our Values" data-ar="Nos Valeurs">Nos Valeurs</h2>
                        <p data-fr="Les principes qui guident notre action quotidienne" data-en="The principles that guide our daily action" data-ar="Les principes qui guident notre action quotidienne">Les principes qui guident notre action quotidienne</p>
                    </div>
                    <div class="home-values-grid">
                        <div class="home-values-card">
                            <div class="home-values-icon">
                                <i class="fas fa-handshake" aria-hidden="true"></i>
                            </div>
                            <h3 class="home-values-title" data-fr="Partenariat" data-en="Partnership" data-ar="Partenariat">Partenariat</h3>
                            <p class="home-values-description" data-fr="Une approche collaborative basée sur la confiance mutuelle et l'écoute active de vos besoins." data-en="A collaborative approach based on mutual trust and active listening to your needs." data-ar="Une approche collaborative basée sur la confiance mutuelle et l'écoute active de vos besoins.">
                                Une approche collaborative basée sur la confiance mutuelle et l'écoute active de vos besoins.
                            </p>
                        </div>
                        <div class="home-values-card">
                            <div class="home-values-icon">
                                <i class="fas fa-medal" aria-hidden="true"></i>
                            </div>
                            <h3 class="home-values-title" data-fr="Excellence" data-en="Excellence" data-ar="Excellence">Excellence</h3>
                            <p class="home-values-description" data-fr="Des prestations de la plus haute qualité avec une démarche d'amélioration continue permanente." data-en="High quality services with a permanent continuous improvement approach." data-ar="Des prestations de la plus haute qualité avec une démarche d'amélioration continue permanente.">
                                Des prestations de la plus haute qualité avec une démarche d'amélioration continue permanente.
                            </p>
                        </div>
                        <div class="home-values-card">
                            <div class="home-values-icon">
                                <i class="fas fa-lightbulb" aria-hidden="true"></i>
                            </div>
                            <h3 class="home-values-title" data-fr="Innovation" data-en="Innovation" data-ar="Innovation">Innovation</h3>
                            <p class="home-values-description" data-fr="Technologies de pointe et solutions innovantes pour anticiper vos besoins futurs." data-en="Cutting-edge technologies and innovative solutions to anticipate your future needs." data-ar="Technologies de pointe et solutions innovantes pour anticiper vos besoins futurs.">
                                Technologies de pointe et solutions innovantes pour anticiper vos besoins futurs.
                            </p>
                        </div>
                        <div class="home-values-card">
                            <div class="home-values-icon">
                                <i class="fas fa-shield-alt" aria-hidden="true"></i>
                            </div>
                            <h3 class="home-values-title" data-fr="Sécurité" data-en="Safety" data-ar="Sécurité">Sécurité</h3>
                            <p class="home-values-description" data-fr="La sécurité comme priorité absolue dans tous nos projets et interventions." data-en="Safety as an absolute priority in all our projects and interventions." data-ar="La sécurité comme priorité absolue dans tous nos projets et interventions.">
                                La sécurité comme priorité absolue dans tous nos projets et interventions.
                            </p>
                        </div>
                        <!-- ADD: New value "Réactivité" as requested -->
                        <div class="home-values-card">
                            <div class="home-values-icon">
                                <i class="fas fa-bolt" aria-hidden="true"></i>
                            </div>
                            <h3 class="home-values-title" data-fr="Réactivité" data-en="Reactivity" data-ar="Réactivité">Réactivité</h3>
                            <p class="home-values-description" data-fr="Une réponse rapide et efficace à vos besoins avec un engagement sans faille." data-en="Fast and efficient response to your needs with unwavering commitment." data-ar="Une réponse rapide et efficace à vos besoins avec un engagement sans faille.">
                                Une réponse rapide et efficace à vos besoins avec un engagement sans faille.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aperçu Services sur la page d'accueil -->
            <div style="background: white; padding: var(--spacing-xl) 0;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <div class="section-header">
                        <h2 data-fr="Aperçu de nos Services" data-en="Overview of our Services" data-ar="نظرة عامة على خدماتنا">Aperçu de nos Services</h2>
                        <p data-fr="Des solutions complètes pour vos projets industriels" data-en="Complete solutions for your industrial projects" data-ar="حلول شاملة لمشاريعكم الصناعية">Des solutions complètes pour vos projets industriels</p>
                    </div>
                    <div id="homeServicesGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-lg);">
                        <!-- Services preview will be populated by JavaScript -->
                    </div>
                    <div style="text-align: center; margin-top: var(--spacing-xl);">
                        <a href="#services" class="btn btn-primary nav-link functional-btn" data-page="services">
                            <i class="fas fa-eye" aria-hidden="true"></i>
                            <span data-fr="Voir tous nos services" data-en="View all our services" data-ar="Voir tous nos services">Voir tous nos services</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Aperçu Carrière sur la page d'accueil -->
            <div style="background: var(--bg-alt); padding: var(--spacing-xl) 0;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <div class="section-header" style="text-align: center;">
                        <h3 data-fr="Chaque talent mérite sa chance !" data-en="Every talent deserves a chance!" data-ar="كل موهبة تستحق فرصة! !" style="text-align: center;">Chaque talent mérite sa chance !</h3>
                        <p data-fr="Des opportunités de carrière exceptionnelles vous attendent" data-en="Exceptional career opportunities await you" data-ar="Des opportunités de carrière exceptionnelles vous attendent" style="text-align: center;">Des opportunités de carrière exceptionnelles vous attendent</p>
                    </div>
                    <div id="homeJobsGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-lg);">
                        <!-- Jobs preview will be populated by JavaScript -->
                    </div>
                    <div style="text-align: center; margin-top: var(--spacing-xl);">
                        <a href="#carriere" class="btn btn-primary nav-link functional-btn" data-page="carriere">
                            <i class="fas fa-briefcase" aria-hidden="true"></i>
                            <span data-fr="Voir toutes les offres" data-en="View all offers" data-ar="Voir toutes les offres">Voir toutes les offres</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Logos clients défilants automatiques -->
            <div style="background: white; padding: var(--spacing-xl) 0;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <div class="section-header">
                        <h2 data-fr="Nos Clients" data-en="Our Clients" data-ar="Nos Clients">Nos Clients</h2>
                        <p data-fr="Ils nous font confiance" data-en="They trust us" data-ar="Ils nous font confiance">Ils nous font confiance</p>
                    </div>
                    <div class="clients-carousel">
                        <div id="homeClientsTrack" class="clients-track">
                            <!-- Client logos will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- TÉMOIGNAGES ULTRA-SOPHISTIQUÉS avec défilement automatique - TAILLE RÉDUITE -->
            <div id="testimonials-section" style="background: var(--bg-alt); padding: var(--spacing-xl) 0;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <div class="section-header">
                        <h2 data-fr="Témoignages Clients" data-en="Client Testimonials" data-ar="Témoignages Clients">Témoignages Clients</h2>
                        <p data-fr="Ce que nos partenaires disent de nous" data-en="What our partners say about us" data-ar="Ce que nos partenaires disent de nous">Ce que nos partenaires disent de nous</p>
                    </div>
                    <div class="testimonials-carousel">
                        <div id="homeTestimonialsTrack" class="testimonials-track">
                            <!-- Testimonials will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="testimonials-navigation">
                        <button class="testimonial-nav-btn functional-btn" id="homePrevTestimonial">
                            <i class="fas fa-chevron-left" aria-hidden="true"></i>
                        </button>
                        <div class="testimonials-dots" id="testimonialsDots">
                            <!-- Dots will be populated by JavaScript -->
                        </div>
                        <button class="testimonial-nav-btn functional-btn" id="homeNextTestimonial">
                            <i class="fas fa-chevron-right" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Brochure section sur la page d'accueil -->
            <div style="background: var(--gradient-primary); color: white; text-align: center; padding: var(--spacing-xl) 0;">
                <div style="max-width: 900px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <h2 style="font-size: var(--font-size-4xl); font-weight: 800; margin-bottom: var(--spacing-md);" data-fr="Brochure AE2I Algérie 2025" data-en="AE2I Algeria 2025 Brochure" data-ar="Brochure AE2I Algérie 2025">Brochure AE2I Algérie 2025</h2>
                    <p style="font-size: var(--font-size-xl); margin-bottom: var(--spacing-xl); opacity: 0.95;" data-fr="Découvrez toutes nos services, réalisations et expertises" data-en="Discover all our services, achievements and expertise" data-ar="Découvrez toutes nos services, réalisations et expertises">Découvrez toutes nos services, réalisations et expertises</p>
                    <a href="#" class="btn-primary functional-btn" id="homeBrochureDownload" style="display: inline-flex; align-items: center; gap: 12px; background: white; color: var(--primary); padding: 20px 40px; border-radius: var(--border-radius-lg); text-decoration: none; font-weight: 700;">
                        <i class="fas fa-download" aria-hidden="true"></i>
                        <span data-fr="Télécharger la brochure" data-en="Download brochure" data-ar="Télécharger la brochure">Télécharger la brochure</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- ===== PAGE À PROPOS AVEC NOUVEAU CONTENU ET DOMAINES D'EXPERTISE ALIGNÉS HORIZONTALEMENT ===== -->
        <section class="page-section" id="about-page" data-page="about">
            <div class="about-container">
                <div class="about-image">
                    <img src="https://images.pexels.com/photos/380768/pexels-photo-380768.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop" alt="À propos de nous - Installation industrielle moderne" loading="lazy">
                </div>
                <div class="about-content">
                    <h1 class="about-title" data-fr="La société AE2I Algérie" data-en="AE2I Algeria Company" data-ar="La société AE2I Algérie">La société AE2I Algérie</h1>
                    <!-- ADD: Link to AE2I France as requested -->
                    <p class="about-text" id="aboutMainText" data-fr="Créé en 2009, AE2I Algérie, société de droit algérien, est une filiale de AE2I France (Automatisme Électrotechnique Ingénierie Industrielle). Spécialisée dans les métiers de l'énergie et de l'industrie, nous vous apportons les compétences clés pour la réalisation de vos projets nationaux et internationaux." data-en="Founded in 2009, AE2I Algeria, an Algerian company, is a subsidiary of AE2I France (Automation Electrical Engineering Industrial Engineering). Specialized in energy and industrial professions, we provide you with key skills for the realization of your national and international projects." data-ar="Créé en 2009, AE2I Algérie, société de droit algérien, est une filiale de AE2I France (Automatisme Électrotechnique Ingénierie Industrielle). Spécialisée dans les métiers de l'énergie et de l'industrie, nous vous apportons les compétences clés pour la réalisation de vos projets nationaux et internationaux.">
                        Créé en 2009, AE2I Algérie, société de droit algérien, est une filiale de <a href="https://www.ae2i-ingenierie.com/" target="_blank" rel="noopener noreferrer" style="color: var(--primary); font-weight: 700; text-decoration: underline;">AE2I France</a> (Automatisme Électrotechnique Ingénierie Industrielle).
                        Spécialisée dans les métiers de l'énergie et de l'industrie, nous vous apportons les compétences clés pour la réalisation de vos projets nationaux et internationaux.
                    </p>
                    <div class="about-stats">
                        <div class="about-stat-item">
                            <div class="about-stat-number">2009</div>
                            <div class="about-stat-label" data-fr="Création" data-en="Established" data-ar="التأسيس">Création</div>
                        </div>
                        <div class="about-stat-item">
                            <div class="about-stat-number">80+</div>
                            <div class="about-stat-label" data-fr="Projets" data-en="Projects" data-ar="Projets">Projets</div>
                        </div>
                        <div class="about-stat-item">
                            <div class="about-stat-number">98%</div>
                            <div class="about-stat-label" data-fr="De fidélité client" data-en="Customer Loyalty" data-ar="De fidélité client">De fidélité client</div>
                        </div>
                        <div class="about-stat-item">
                            <div class="about-stat-number">6J/7</div>
                            <div class="about-stat-label" data-fr="Support" data-en="Support" data-ar="Support">Support</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NOUVEAU CONTENU MISSION AVEC DESIGN ULTRA-PROFESSIONNEL -->
            <div class="about-mission-section">
                <div class="about-mission-content">
                    <div class="section-header">
                        <h2 data-fr="Notre Mission" data-en="Our Mission" data-ar="Notre Mission">Notre Mission</h2>
                        <p data-fr="Accompagner et soutenir le développement industriel en Algérie avec passion et rigueur" data-en="Excellence and commitment serving the Algerian industry" data-ar="Accompagner et soutenir le développement industriel en Algérie avec passion et rigueur">Accompagner et soutenir le développement industriel en Algérie avec passion et rigueur</p>
                    </div>
                    
                    <div class="about-mission-text">
                        <p data-fr="Ae2i-Algérie, est une entreprise de prestation de service technique et administrative de tout secteur industriel. Implantée en Algérie depuis 2009. Ae2i-Algérie accompagne ses clients vers le succès en proposant des solutions complètes." data-en="Ae2i-Algeria is a technical and administrative service company for any industrial sector. Established in Algeria since 2009. Ae2i-Algeria supports its clients towards success by offering complete solutions." data-ar="Ae2i-الجزائر، هي شركة خدمات تقنية وإدارية لجميع القطاعات الصناعية. متواجدة في الجزائر منذ 2009. Ae2i-الجزائر ترافق عملاءها نحو النجاح من خلال تقديم حلول شاملة.">
                            Ae2i-Algérie, est une entreprise de prestation de service technique et administrative de tout secteur industriel. Implantée en Algérie depuis 2009. Ae2i-Algérie accompagne ses clients vers le succès en proposant des solutions complètes.
                        </p>
                        
                        <p data-fr="Conscient des enjeux imposés aux entreprises par la mondialisation, nous nous sommes engagés dans une démarche d'amélioration continue en référence à notre certification ISO." data-en="Aware of the challenges imposed on companies by globalization, we have committed to a continuous improvement approach with reference to our ISO certification." data-ar="واعين بالتحديات المفروضة على الشركات من خلال العولمة، التزمنا بنهج التحسين المستمر بالإشارة إلى شهادة ISO الخاصة بنا.">
                            Conscient des enjeux imposés aux entreprises par la mondialisation, nous nous sommes engagés dans une démarche d'amélioration continue en référence à notre certification ISO.
                        </p>
                        
                        <p data-fr="Ae2i Algérie, offre à ses clients l'expertise de ses équipes constituées d'experts en gestion de la paie, en droit du travail et en ressources humaines, pour les accompagner dans la gestion de leurs projets en proposant un service personnalisé adapté aux besoins spécifiques de leurs entreprises, en matière d'assistance technique, administrative, logistique et portage salarial." data-en="Ae2i Algeria offers its clients the expertise of its teams made up of experts in payroll management, labor law and human resources, to support them in the management of their projects by offering a personalized service adapted to the specific needs of their companies, in terms of technical, administrative, logistical assistance and payroll portage." data-ar="تقدم Ae2i الجزائر لعملائها خبرة فرقها المُكوّنة من خبراء في إدارة الرواتب، قانون العمل والموارد البشرية، لمرافقتهم في إدارة مشاريعهم من خلال تقديم خدمة مُخصّصة تُناسب احتياجات شركاتهم الخاصة، في مجال المساعدة التقنية والإدارية واللوجستية ونقل الرواتب.">
                            Ae2i Algérie, offre à ses clients l'expertise de ses équipes constituées d'experts en gestion de la paie, en droit du travail et en ressources humaines, pour les accompagner dans la gestion de leurs projets en proposant un service personnalisé adapté aux besoins spécifiques de leurs entreprises, en matière d'assistance technique, administrative, logistique et portage salarial.
                        </p>
                    </div>

                    <!-- DOMAINES D'EXPERTISE - 4 CARTES ALIGNÉES HORIZONTALEMENT -->
                    <div class="about-expertise-section">
                        <div class="section-header">
                            <h2 data-fr="Domaines d'Expertise" data-en="Areas of Expertise" data-ar="Domaines d'Expertise">Domaines d'Expertise</h2>
                            <p data-fr="Notre savoir-faire technique et administratif au service de votre réussite" data-en="Our technical and administrative expertise serving your success" data-ar="Notre savoir-faire technique et administratif au service de votre réussite">Notre savoir-faire technique et administratif au service de votre réussite</p>
                        </div>
                        <div class="about-expertise-grid">
                            <div class="about-expertise-card">
                                <div class="about-expertise-icon">
                                    <i class="fas fa-cogs" aria-hidden="true"></i>
                                </div>
                                <h3 class="about-expertise-title" data-fr="Ingénierie Technique" data-en="Technical Engineering" data-ar="Ingénierie Technique">Ingénierie Technique</h3>
                                <p class="about-expertise-text" data-fr="Conception et réalisation de projets industriels complexes avec expertise électrotechnique avancée" data-en="Design and implementation of complex industrial projects with advanced electrical engineering expertise" data-ar="Conception et réalisation de projets industriels complexes avec expertise électrotechnique avancée">Conception et réalisation de projets industriels complexes avec expertise électrotechnique avancée</p>
                            </div>
                            <div class="about-expertise-card">
                                <div class="about-expertise-icon">
                                    <i class="fas fa-users-cog" aria-hidden="true"></i>
                                </div>
                                <h3 class="about-expertise-title" data-fr="Ressources Humaines" data-en="Human Resources" data-ar="Ressources Humaines">Ressources Humaines</h3>
                                <p class="about-expertise-text" data-fr="Gestion complète des RH, paie, droit du travail et portage salarial pour optimiser vos équipes" data-en="Complete HR management, payroll, labor law and salary portage to optimize your teams" data-ar="Gestion complète des RH, paie, droit du travail et portage salarial pour optimiser vos équipes">Gestion complète des RH, paie, droit du travail et portage salarial pour optimiser vos équipes</p>
                            </div>
                            <div class="about-expertise-card">
                                <div class="about-expertise-icon">
                                    <i class="fas fa-clipboard-list" aria-hidden="true"></i>
                                </div>
                                <h3 class="about-expertise-title" data-fr="Assistance Administrative" data-en="Administrative Assistance" data-ar="Assistance Administrative">Assistance Administrative</h3>
                                <p class="about-expertise-text" data-fr="Support administratif complet incluant gestion ANEM, médecine du travail et formations spécialisées" data-en="Complete administrative support including ANEM management, occupational medicine and specialized training" data-ar="Support administratif complet incluant gestion ANEM, médecine du travail et formations spécialisées">Support administratif complet incluant gestion ANEM, médecine du travail et formations spécialisées</p>
                            </div>
                            <div class="about-expertise-card">
                                <div class="about-expertise-icon">
                                    <i class="fas fa-globe-americas" aria-hidden="true"></i>
                                </div>
                                <h3 class="about-expertise-title" data-fr="Solutions Internationales" data-en="International Solutions" data-ar="Solutions Internationales">Solutions Internationales</h3>
                                <p class="about-expertise-text" data-fr="Gestion des expatriés, obtention de permis de travail et coordination de projets multinationaux" data-en="Expatriate management, work permit acquisition and multinational project coordination" data-ar="Gestion des expatriés, obtention de permis de travail et coordination de projets multinationaux">Gestion des expatriés, obtention de permis de travail et coordination de projets multinationaux</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Missions Nationales et Internationales -->
            <div style="background: white; padding: var(--spacing-xl) 0;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 0 var(--spacing-md);">
                    <div class="section-header">
                        <h2 data-fr="Missions Nationales et Internationales" data-en="National and International Missions" data-ar="Missions Nationales et Internationales">Missions Nationales et Internationales</h2>
                        <p data-fr="Notre expertise au service de vos projets les plus ambitieux" data-en="Our expertise serving your most ambitious projects" data-ar="Notre expertise au service de vos projets les plus ambitieux">Notre expertise au service de vos projets les plus ambitieux</p>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-xl); align-items: center;">
                        <div>
                            <h3 style="font-size: var(--font-size-2xl); color: var(--primary); margin-bottom: var(--spacing-md);">
                                <i class="fas fa-globe" aria-hidden="true"></i>
                                <span data-fr="Nos Domaines d'Intervention" data-en="Our Areas of Intervention" data-ar="Nos Domaines d'Intervention">Nos Domaines d'Intervention</span>
                            </h3>
                            <ul style="list-style: none; padding: 0;">
                                <li style="position: relative; padding-left: 24px; margin-bottom: 12px; color: var(--text-light);">
                                    <i class="fas fa-check" style="position: absolute; left: 0; color: var(--success);" aria-hidden="true"></i>
                                    <span data-fr="Projets industriels complexes" data-en="Complex industrial projects" data-ar="Projets industriels complexes">Projets industriels complexes</span>
                                </li>
                                <li style="position: relative; padding-left: 24px; margin-bottom: 12px; color: var(--text-light);">
                                    <i class="fas fa-check" style="position: absolute; left: 0; color: var(--success);" aria-hidden="true"></i>
                                    <span data-fr="Installations énergétiques" data-en="Energy installations" data-ar="Installations énergétiques">Installations énergétiques</span>
                                </li>
                                <li style="position: relative; padding-left: 24px; margin-bottom: 12px; color: var(--text-light);">
                                    <i class="fas fa-check" style="position: absolute; left: 0; color: var(--success);" aria-hidden="true"></i>
                                    <span data-fr="Automatisation et contrôle" data-en="Automation and control" data-ar="Automatisation et contrôle">Automatisation et contrôle</span>
                                </li>
                                <li style="position: relative; padding-left: 24px; margin-bottom: 12px; color: var(--text-light);">
                                    <i class="fas fa-check" style="position: absolute; left: 0; color: var(--success);" aria-hidden="true"></i>
                                    <span data-fr="Maintenance industrielle" data-en="Industrial maintenance" data-ar="Maintenance industrielle">Maintenance industrielle</span>
                                </li>
                                <li style="position: relative; padding-left: 24px; margin-bottom: 12px; color: var(--text-light);">
                                    <i class="fas fa-check" style="position: absolute; left: 0; color: var(--success);" aria-hidden="true"></i>
                                    <span data-fr="Conseil et expertise technique" data-en="Technical consulting and expertise" data-ar="Conseil et expertise technique">Conseil et expertise technique</span>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <img src="https://images.pexels.com/photos/1108572/pexels-photo-1108572.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop" 
                                 alt="Missions internationales" 
                                 style="width: 100%; border-radius: var(--border-radius-xl); box-shadow: var(--shadow-lg);" 
                                 loading="lazy">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== PAGE SERVICES AVEC EFFET PRISM ET NOUVEAUX SERVICES ===== -->
        <section class="page-section section-with-prism" id="services-page" data-page="services">
            <div class="prism-background">
                <div class="prism-canvas">
                    <div class="prism">
                        <div class="prism-face prism-face-1"></div>
                        <div class="prism-face prism-face-2"></div>
                        <div class="prism-face prism-face-3"></div>
                    </div>
                    <div class="prism-bloom"></div>
                    <div class="prism-particle" style="top: 15%; left: 15%;"></div>
                    <div class="prism-particle" style="top: 25%; left: 25%;"></div>
                    <div class="prism-particle" style="top: 35%; left: 45%;"></div>
                    <div class="prism-particle" style="top: 65%; left: 65%;"></div>
                    <div class="prism-particle" style="top: 75%; left: 85%;"></div>
                </div>
            </div>
            
            <div class="services-container">
                <div class="section-header" style="padding-top: var(--spacing-lg);">
                    <h1 data-fr="Nos Services" data-en="Our Services" data-ar="خدماتنا">Nos Services</h1>
                    <p data-fr="Des expertises complètes pour accompagner vos projets industriels et énergétiques" data-en="Complete expertise to support your industrial and energy projects" data-ar="Des expertises complètes pour accompagner vos projets industriels et énergétiques">Des expertises complètes pour accompagner vos projets industriels et énergétiques</p>
                </div>
                
                <div class="services-grid" id="servicesGrid">
                    <!-- Services will be populated by JavaScript -->
                </div>

                <!-- NOUVEAUX SERVICES DÉTAILLÉS ULTRA-PROFESSIONNELS -->
                <div class="services-detailed-section">
                    <div class="services-detailed-content">
                        <div class="section-header">
                            <h2 data-fr="Services Détaillés" data-en="Detailed Services" data-ar="Services Détaillés">Services Détaillés</h2>
                            <p data-fr="Solutions complètes et spécialisées adaptées à vos besoins" data-en="Complete and specialized solutions adapted to your needs" data-ar="Solutions complètes et spécialisées adaptées à vos besoins">Solutions complètes et spécialisées adaptées à vos besoins</p>
                        </div>
                        
                        <div class="services-detailed-grid">
                            <div class="service-category">
                                <h3 class="service-category-title" data-fr="Assistance Technique" data-en="Technical Assistance" data-ar="Assistance Technique">Assistance Technique</h3>
                                <ul class="service-category-list">
                                    <li data-fr="Recrutement de talents répondant aux besoins dans tous les secteurs d'activité." data-en="Recruitment of talents meeting needs in all sectors of activity." data-ar="Recrutement de talents répondant aux besoins dans tous les secteurs d'activité.">
                                        <strong>Recrutement de talents</strong> répondant aux besoins dans tous les secteurs d'activité.
                                    </li>
                                    <li data-fr="Recrutement de profils locaux et internationaux." data-en="Recruitment of local and international profiles." data-ar="Recrutement de profils locaux et internationaux.">
                                        <strong>Recrutement de profils</strong> locaux et internationaux.
                                    </li>
                                    <li data-fr="Portage Salarial" data-en="Salary Portage" data-ar="Portage Salarial">
                                        <strong>Portage Salarial</strong>
                                    </li>
                                    <li data-fr="Fourniture d'équipements de protection individuelle (EPI)" data-en="Supply of personal protective equipment (PPE)" data-ar="Fourniture d'équipements de protection individuelle (EPI)">
                                        <strong>Fourniture d'équipements</strong> de protection individuelle (EPI)
                                    </li>
                                    <li data-fr="Fourniture d'outillage et d'équipements." data-en="Supply of tools and equipment." data-ar="Fourniture d'outillage et d'équipements.">
                                        <strong>Fourniture d'outillage</strong> et d'équipements.
                                    </li>
                                </ul>
                            </div>

                            <div class="service-category">
                                <h3 class="service-category-title" data-fr="Assistance Administrative" data-en="Administrative Assistance" data-ar="Assistance Administrative">Assistance Administrative</h3>
                                <ul class="service-category-list">
                                    <li data-fr="La gestion de l'administration et ressources humaines :" data-en="Administration and human resources management:" data-ar="La gestion de l'administration et ressources humaines :">
                                        <strong>La gestion de l'administration et ressources humaines :</strong>
                                        <div class="service-subcategory">
                                            <ul>
                                                <li data-fr="Recrutement et intégration de nouveaux employés." data-en="Recruitment and integration of new employees." data-ar="Recrutement et intégration de nouveaux employés.">Recrutement et intégration de nouveaux employés.</li>
                                                <li data-fr="Gestion de la paie" data-en="Payroll management" data-ar="Gestion de la paie">Gestion de la paie</li>
                                                <li data-fr="Gestion des procédures de l'ANEM" data-en="ANEM procedures management" data-ar="Gestion des procédures de l'ANEM">Gestion des procédures de l'ANEM</li>
                                                <li data-fr="Gestion sociale" data-en="Social management" data-ar="Gestion sociale">Gestion sociale</li>
                                                <li data-fr="Gestion de la médecine du travail" data-en="Occupational medicine management" data-ar="Gestion de la médecine du travail">Gestion de la médecine du travail</li>
                                                <li data-fr="Gestion de la formation" data-en="Training management" data-ar="Gestion de la formation">Gestion de la formation</li>
                                                <li data-fr="Suivi administratif" data-en="Administrative follow-up" data-ar="Suivi administratif">Suivi administratif</li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li data-fr="Gestion des expatriés et démarches d'obtention de permis de travail." data-en="Management of expatriates and procedures for obtaining work permits." data-ar="Gestion des expatriés et démarches d'obtention de permis de travail.">
                                        <strong>Gestion des expatriés</strong> et démarches d'obtention de permis de travail.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== PAGE POLITIQUE QUALITÉ ULTRA-PROFESSIONNELLE AVEC NOUVEAU CONTENU ET ENGAGEMENTS ALIGNÉS ===== -->
        <section class="page-section section-with-prism" id="qualite-page" data-page="qualite">
            <div class="prism-background">
                <div class="prism-canvas">
                    <div class="prism">
                        <div class="prism-face prism-face-1"></div>
                        <div class="prism-face prism-face-2"></div>
                        <div class="prism-face prism-face-3"></div>
                    </div>
                    <div class="prism-bloom"></div>
                    <div class="prism-particle" style="top: 10%; left: 10%;"></div>
                    <div class="prism-particle" style="top: 20%; left: 20%;"></div>
                    <div class="prism-particle" style="top: 30%; left: 40%;"></div>
                    <div class="prism-particle" style="top: 70%; left: 60%;"></div>
                    <div class="prism-particle" style="top: 80%; left: 80%;"></div>
                </div>
            </div>
            
            <div class="qualite-content">
                <div class="qualite-header">
                    <h1 data-fr="Politique Qualité" data-en="Quality Policy" data-ar="سياسة الجودة">Politique Qualité</h1>
                    <p data-fr="Excellence, conformité et amélioration continue au service de nos clients" data-en="Excellence, compliance and continuous improvement serving our clients" data-ar="التميّز، الامتثال والتحسين المُستمر في خدمة عملائنا">Excellence, conformité et amélioration continue au service de nos clients</p>
                </div>      
                <div class="qualite-content-main">
                    <!-- Engagement de la direction -->
                    <div class="qualite-section">
                        <h2 class="qualite-section-title">
                            <i class="fas fa-user-tie" aria-hidden="true"></i>
                            <span data-fr=" " data-en=" " data-ar=" "> </span>
                        </h2>
                        <p class="qualite-paragraph" data-fr="A travers notre politique qualité et parce qu'il est nécessaire d'assurer la satisfaction de nos clients et parties prenantes, la direction s'engage à apporter les moyens humains, matériels, financiers et organisationnels aux équipes." data-en="Through our quality policy and because it is necessary to ensure the satisfaction of our clients and stakeholders, management is committed to providing human, material, financial and organizational resources to the teams." data-ar="من خلال سياستنا في الجودة ولضمان رضا عملائنا وأصحاب المصلحة، تلتزم الإدارة بتوفير الموارد البشرية والمادية والمالية والتنظيمية اللازمة لفرق العمل.">
                            A travers notre politique qualité et parce qu'il est nécessaire d'assurer la satisfaction de nos clients et parties prenantes, la direction s'engage à apporter les moyens humains, matériels, financiers et organisationnels aux équipes.
                        </p>
                        <p class="qualite-paragraph" data-fr="Nous nous engageons à satisfaire les exigences applicables, et améliorer continuellement notre Système de Management de la Qualité." data-en="We are committed to meeting applicable requirements and continuously improving our Quality Management System." data-ar="نلتزم بتلبية جميع المتطلبات المعمول بها والعمل على التحسين المستمر لنظام إدارة الجودة لدينا.">
                            Nous nous engageons à satisfaire les exigences applicables, et améliorer continuellement notre Système de Management de la Qualité.
                        </p>
                    </div>

                    <!-- Orientations stratégiques -->
                    <div class="qualite-section">
                        <h2 class="qualite-section-title">
                            <i class="fas fa-compass" aria-hidden="true"></i>
                            <span data-fr=" " data-en=" " data-ar=" "> </span>
                        </h2>
                        <p class="qualite-paragraph" data-fr="Afin de concrétiser nos engagements et structurer notre démarche d'amélioration continue, nous avons défini les orientations stratégiques suivantes :" data-en="In order to materialize our commitments and structure our continuous improvement approach, we have defined the following strategic orientations:" data-ar="لتحقيق التزاماتنا وتنظيم منهجية التحسين المستمر، قمنا بتحديد التوجهات الاستراتيجية التالية:">
                            Afin de concrétiser nos engagements et structurer notre démarche d'amélioration continue, nous avons défini les orientations stratégiques suivantes :
                        </p>
                        <div class="qualite-highlight">
                            <p data-fr="•	Garantir la satisfaction des clients et parties prenantes." data-en="•	Ensure customer and stakeholder satisfaction." data-ar="•	ضمان رضا الزبائن و الأطراف المهتمة بنا.">
                                •	Garantir la satisfaction des clients et parties prenantes.
                            </p>
                        </div>
                        <div class="qualite-highlight">
                            <p data-fr="•	Renforcer notre efficacité économique et opérationnelle." data-en="•	Enhance economic and operational efficiency." data-ar="•	تحسين الكفاءة الاقتصادية والتشغيلية.">
                                •	Renforcer notre efficacité économique et opérationnelle.
                            </p>
                        </div>
                        <div class="qualite-highlight">
                            <p data-fr="•	Renforcer la démarche qualité." data-en="•	Reinforce our commitment to quality." data-ar="•	ترسيخ الالتزام بالجودة.">
                                •	Renforcer la démarche qualité.
                            </p>
                        </div>
                        <p class="qualite-paragraph" data-fr="Ces orientations stratégiques qui adressent autant les enjeux externes et internes en prenant en compte les changements climatiques dans le contexte actuel de l'entreprise ; confirment notre ambition de prendre en compte les besoins et les attentes de toutes nos parties prenantes." data-en="These strategic orientations that address both external and internal issues taking into account climate change in the current context of the company; confirm our ambition to take into account the needs and expectations of all our stakeholders." data-ar="هذه التوجهات الاستراتيجية التي تعالج التحديات الخارجية والداخلية مع الأخذ بعين الاعتبار التغيرات المناخية في السياق الحالي للمؤسسة، تؤكد طموحنا لمراعاة احتياجات وتوقعات جميع أصحاب المصلحة لدينا.">
                            Ces orientations stratégiques qui adressent autant les enjeux externes et internes en prenant en compte les changements climatiques dans le contexte actuel de l'entreprise ; confirment notre ambition de prendre en compte les besoins et les attentes de toutes nos parties prenantes.
                        </p>
                    </div>

                    <!-- Implication du personnel -->
                    <div class="qualite-section">
                        <h2 class="qualite-section-title">
                            <i class="fas fa-users" aria-hidden="true"></i>
                            <span data-fr="  " data-en=" " data-ar=" ">  </span>
                        </h2>
                        <p class="qualite-paragraph" data-fr="Dans le cadre de cette politique chaque collaborateur est invité à s'investir pleinement dans cette démarche et d'adhérer aux principes et objectifs du Système de Management de la Qualité ; la direction veillera à ce que notre politique qualité soit le cadre référence pour l'ensemble des acteurs de l'entreprise." data-en="Within the framework of this policy, each employee is invited to fully invest in this approach and to adhere to the principles and objectives of the Quality Management System; management will ensure that our quality policy is the reference framework for all company stakeholders." data-ar="في إطار هذه السياسة، يُدعى كل موظف إلى المشاركة الكاملة في هذا النهج والالتزام بمبادئ وأهداف نظام إدارة الجودة، وستحرص الإدارة على أن تكون سياسة الجودة الإطار المرجعي لجميع الفاعلين في المؤسسة.">
                            Dans le cadre de cette politique chaque collaborateur est invité à s'investir pleinement dans cette démarche et d'adhérer aux principes et objectifs du Système de Management de la Qualité ; la direction veillera à ce que notre politique qualité soit le cadre référence pour l'ensemble des acteurs de l'entreprise.
                        </p>
                    </div>

                    <!-- Amélioration continue -->
                    <div class="qualite-section">
                        <h2 class="qualite-section-title">
                            <i class="fas fa-sync-alt" aria-hidden="true"></i>
                            <span data-fr=" " data-en=" " data-ar=" "> </span>
                        </h2>
                        <p class="qualite-paragraph" data-fr="Notre volonté de maintenir notre certification ISO 9001, traduit nos souhaits de progresser dans ce domaine, fort de notre engagement à livrer à nos clients et partenaires le niveau de qualité attendu pour nos prestations." data-en="Our desire to maintain our ISO 9001 certification reflects our desire to progress in this area, based on our commitment to deliver to our clients and partners the expected level of quality for our services." data-ar="تعكس إرادتنا في الحفاظ على شهادة ISO 9001 رغبتنا في التقدم في هذا المجال، مستندين إلى التزامنا بتقديم مستوى الجودة المتوقع لعملائنا وشركائنا في خدماتنا.">
                        </p>
                        <p class="qualite-paragraph" data-fr="Cette politique sera revue régulièrement et amendée si nécessaire pour se conformer aux évolutions légales et normatives et tout autre règlement pertinent." data-en="This policy will be reviewed regularly and amended if necessary to comply with legal and regulatory developments and any other relevant regulations." data-ar="سيتم مراجعة هذه السياسة بانتظام وتعديلها عند الضرورة للامتثال للتطورات القانونية والمعيارية وأي تشريعات أخرى ذات صلة.">
                            Cette politique sera revue régulièrement et amendée si nécessaire pour se conformer aux évolutions légales et normatives et tout autre règlement pertinent.
                        </p>
                    </div>
                </div>

                <!-- Nos Engagements - 4 CARTES ALIGNÉES HORIZONTALEMENT -->
                <div style="margin-top: var(--spacing-lg);">
                    <div class="section-header">
                        <h2 data-fr="Nos Engagements Qualité Fondamentaux " data-en="Our fondamental Quality Principles" data-ar="مبادئنا الأساسية للجودة">Nos Engagements Qualité Fondamentaux</h2>
                        <p data-fr="Parce que la qualité n'est pas une promesse, mais une preuve" data-en="Concrete and measurable commitments for your satisfaction" data-ar="التزامات ملموسة وقابلة للقياس لرضاكم">Parce que la qualité n'est pas une promesse, mais une preuve</p>
                    </div>
                    <div class="qualite-engagement-grid">
                        <div class="qualite-engagement-item">
                            <div class="qualite-engagement-icon">
                                <i class="fas fa-handshake" aria-hidden="true"></i>
                            </div>
                            <h3 class="qualite-engagement-title" data-fr="À l’écoute de nos Partenaires " data-en="Customer and Partner Focus" data-ar="التركيز على الزبائن والشركاء">À l’écoute de nos Partenaires </h3>
                            <p class="qualite-engagement-text" data-fr="Relation privilégiée avec suivi personnalisé, support 24/7 et accompagnement post-projet continu" data-en="Cultivating strong relationships through personalized support, comprehensive 24/7 assistance, and dedicated post-project guidance." data-ar="بناء علاقات قوية من خلال دعم شخصي شامل، ومساعدة متواصلة، وتوجيه متخصص.">Relation privilégiée avec suivi personnalisé, support 24/7 et accompagnement post-projet continu</p>
                        </div>
                        <div class="qualite-engagement-item">
                            <div class="qualite-engagement-icon">
                                <i class="fas fa-users-cog" aria-hidden="true"></i>
                            </div>
                            <h3 class="qualite-engagement-title" data-fr="Un Leadership Partagé et des Équipes Engagées " data-en="Engaged Leadership and Teams" data-ar="قيادة وفرق عمل متفاعلة">Un Leadership Partagé et des Équipes Engagées </h3>
                            <p class="qualite-engagement-text" data-fr="Management participatif, équipes réactives et implication continue au service de la performance." data-en="Fostering a cohesive and efficient environment through mobilized management and dedicated teams committed to operational excellence." data-ar="بناء بيئة عمل تعاونية ومنتجة، تعتمد على القيادة التشاركية والتحسين المستمر للأداء المؤسسي.">Management participatif, équipes réactives et implication continue au service de la performance.</p>
                        </div>
                        <div class="qualite-engagement-item">
                            <div class="qualite-engagement-icon">
                                <i class="fas fa-project-diagram" aria-hidden="true"></i>
                            </div>
                            <h3 class="qualite-engagement-title" data-fr="Maîtrise des Processus " data-en="Process Control and Operational Excellence" data-ar="مراقبة العمليات والتميز التشغيلي">Maîtrise des Processus </h3>
                            <p class="qualite-engagement-text" data-fr="Processus structurés, méthodes rigoureuses et décisions fondées sur les faits." data-en="Implementing structured processes, rigorous methodologies, and data-driven decision-making." data-ar="تطبيق عمليات منظمة ومنهجيات دقيقة، واتخاذ قرارات مبنية على البيانات بهدف الارتقاء بجودة الخدمات وتحسين الأداء التشغيلي.">Processus structurés, méthodes rigoureuses et décisions fondées sur les faits.</p>
                        </div>
                        <div class="qualite-engagement-item">
                            <div class="qualite-engagement-icon">
                                <i class="fas fa-sync-alt" aria-hidden="true"></i>
                            </div>
                            <h3 class="qualite-engagement-title" data-fr="Amélioration Continue " data-en="Continuous Improvement" data-ar="التحسين المستمر">Amélioration Continue </h3>
                            <p class="qualite-engagement-text" data-fr="Une culture du progrès constant pour anticiper les besoins de nos clients et partenaires et renforcer notre efficacité au quotidien." data-en="Promoting a culture of constant progress through ongoing monitoring, feedback mechanisms, and proactive corrective actions." data-ar="ترسيخ ثقافة التطوير من خلال المتابعة الدورية والتغذية الرجعية البناءة، بهدف تلبية المتطلبات المتغيرة وتعزيز الأداء.">Une culture du progrès constant pour anticiper les besoins de nos clients et partenaires et renforcer notre efficacité au quotidien.</p>
                        </div>
                    </div>
                </div>

                <!-- FIX: iso-hover-visibility - Certification ISO 9001 -->
                <div class="iso-certification-container" style="margin-top: var(--spacing-lg); background: rgba(0, 86, 179, 0.05); padding: var(--spacing-lg); border-radius: var(--border-radius-xl); backdrop-filter: blur(5px);">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-xl); align-items: center;">
                        <div>
                            <h2 style="font-size: var(--font-size-2xl); color: var(--primary); margin-bottom: var(--spacing-md);">
                                <i class="fas fa-certificate" aria-hidden="true"></i>
                                <span data-fr="Certification ISO 9001:2015" data-en="ISO 9001:2015 Certification" data-ar="شهادة ISO 9001:2015">Certification ISO 9001:2015</span>
                            </h2>
                            <div class="iso-features-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);">
                                <div class="iso-feature-item" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: rgb(255, 255, 255); border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                                    <i class="fas fa-check-circle" style="color: var(--success);" aria-hidden="true"></i>
                                    <span style="color: var(--text-light); font-size: var(--font-size-xs);" data-fr="Conformité & Fiabilité" data-en="Compliance & Reliability" data-ar="الامتثال والموثوقية">Conformité & Fiabilité</span>
                                </div>
                                <div class="iso-feature-item" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                                    <i class="fas fa-check-circle" style="color: var(--success);" aria-hidden="true"></i>
                                    <span style="color: var(--text-light); font-size: var(--font-size-xs);" data-fr="Qualité éprouvée et certifiée" data-en="Proven and Certified Quality" data-ar="الجودة المُثبتة والمعتمدة">Qualité éprouvée et certifiée</span>
                                </div>
                                <div class="iso-feature-item" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                                    <i class="fas fa-check-circle" style="color: var(--success);" aria-hidden="true"></i>
                                    <span style="color: var(--text-light); font-size: var(--font-size-xs);" data-fr="Performance & Efficacité" data-en="Performance & Efficiency" data-ar="الأداء والكفاءة">Performance & Efficacité</span>
                                </div>
                                <div class="iso-feature-item" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                                    <i class="fas fa-check-circle" style="color: var(--success);" aria-hidden="true"></i>
                                    <span style="color: var(--text-light); font-size: var(--font-size-xs);" data-fr="Expertise sectorielle" data-en="Sector Expertise" data-ar="الخبرة في القطاع">Expertise sectorielle, </span>
                                </div>
                                <div class="iso-feature-item" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                                    <i class="fas fa-check-circle" style="color: var(--success);" aria-hidden="true"></i>
                                    <span style="color: var(--text-light); font-size: var(--font-size-xs);" data-fr=" Éthique et Transparence" data-en="Ethics and Transparency" data-ar="الأخلاقيات والشفافية">Éthique et Transparence</span>
                                </div>
                                <div class="iso-feature-item" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
                                    <i class="fas fa-check-circle" style="color: var(--success);" aria-hidden="true"></i>
                                    <span style="color: var(--text-light); font-size: var(--font-size-xs);" data-fr="Culture qualité" data-en="Quality Culture" data-ar="ثقافة الجودة">Culture qualité</span>
                                </div>
                            </div>
                        </div>
                        <div style="text-align: center;">
                            <div id="aboutIsoQr">
                                <img src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=400&h=150&fit=crop" alt="QR Code ISO" loading="lazy">
                            </div>
                            <div id="aboutIsoPreview">
                                <img src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=380&h=500&fit=crop" alt="Certificat ISO 9001:2015" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== PAGE CARRIÈRE ULTRA-PROFESSIONNELLE POUR 20+ OFFRES AVEC CARTES HORIZONTALES COMPACTES ULTRA-AMÉLIORÉES ===== -->
        <section class="page-section section-with-prism" id="carriere-page" data-page="carriere">
            <div class="prism-background">
                <div class="prism-canvas">
                    <div class="prism">
                        <div class="prism-face prism-face-1"></div>
                        <div class="prism-face prism-face-2"></div>
                        <div class="prism-face prism-face-3"></div>
                    </div>
                    <div class="prism-bloom"></div>
                    <div class="prism-particle" style="top: 12%; left: 12%;"></div>
                    <div class="prism-particle" style="top: 22%; left: 22%;"></div>
                    <div class="prism-particle" style="top: 32%; left: 42%;"></div>
                    <div class="prism-particle" style="top: 68%; left: 62%;"></div>
                    <div class="prism-particle" style="top: 78%; left: 82%;"></div>
                </div>
            </div>
            <div class="carriere-content">
                <div class="section-header" style="padding-top: var(--spacing-lg); text-align: center;">
                    <h3 data-fr="Chaque talent mérite sa chance !" data-en="Every talent deserves a chance!" data-ar="كل موهبة تستحق فرصة !" style="text-align: center; width: 100%;">Chaque talent mérite sa chance !</h3>
                    <p data-fr="Participez à des projets industriels d'envergure et développez votre expertise dans un environnement d'excellence" data-en="Participate in large-scale industrial projects and develop your expertise in an environment of excellence" data-ar="Participez à des projets industriels d'envergure et développez votre expertise dans un environnement d'excellence" style="text-align: center;">Participez à des projets industriels d'envergure et développez votre expertise dans un environnement d'excellence</p>
                </div>
                
                <!-- Barre de recherche ultra-sophistiquée avec filtres avancés -->
                <div class="search-container">
                    <div class="search-main-bar">
                        <input type="text" id="jobSearchInput" class="search-input" data-fr="Rechercher par poste, compétences, entreprise..." data-en="Search by position, skills, company..." data-ar="Rechercher par poste, compétences, entreprise..." placeholder="Rechercher par poste, compétences, entreprise..." aria-label="Recherche d'emploi">
                        <button class="search-btn functional-btn" id="jobSearchBtn" aria-label="Lancer la recherche">
                            <i class="fas fa-search"></i>
                        </button>
                        <div class="search-results" id="jobSearchResults">
                            <!-- Search results will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Filtres avancés ultra-sophistiqués -->
                    <div class="search-filters-container">
                        <div class="search-filter-group">
                            <label class="search-filter-label">
                                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                <span data-fr="Wilaya" data-en="Wilaya" data-ar="Wilaya">Wilaya</span>
                            </label>
                            <!-- FIX: Converted to multi-select with all 58 wilayas of Algeria -->
                            <div class="filter-multiselect-container">
                                <button class="filter-multiselect-button functional-btn" onclick="toggleMultiFilter('regionFilter')" type="button">
                                    <span data-fr="Toutes les wilayas" data-en="All wilayas" data-ar="جميع الولايات">Toutes les wilayas</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <!-- FIX: candidate-filter-sync - Enhanced mobile scrolling -->
                                <div class="filter-multiselect-dropdown" id="regionFilterDropdown" style="display: none;">
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="01-adrar" onchange="updateMultiFilterDisplay('regionFilter')"><span>01 - Adrar</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="02-chlef" onchange="updateMultiFilterDisplay('regionFilter')"><span>02 - Chlef</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="03-laghouat" onchange="updateMultiFilterDisplay('regionFilter')"><span>03 - Laghouat</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="04-oum-el-bouaghi" onchange="updateMultiFilterDisplay('regionFilter')"><span>04 - Oum El Bouaghi</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="05-batna" onchange="updateMultiFilterDisplay('regionFilter')"><span>05 - Batna</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="06-bejaia" onchange="updateMultiFilterDisplay('regionFilter')"><span>06 - Béjaïa</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="07-biskra" onchange="updateMultiFilterDisplay('regionFilter')"><span>07 - Biskra</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="08-bechar" onchange="updateMultiFilterDisplay('regionFilter')"><span>08 - Béchar</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="09-blida" onchange="updateMultiFilterDisplay('regionFilter')"><span>09 - Blida</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="10-bouira" onchange="updateMultiFilterDisplay('regionFilter')"><span>10 - Bouira</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="11-tamanrasset" onchange="updateMultiFilterDisplay('regionFilter')"><span>11 - Tamanrasset</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="12-tebessa" onchange="updateMultiFilterDisplay('regionFilter')"><span>12 - Tébessa</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="13-tlemcen" onchange="updateMultiFilterDisplay('regionFilter')"><span>13 - Tlemcen</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="14-tiaret" onchange="updateMultiFilterDisplay('regionFilter')"><span>14 - Tiaret</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="15-tizi-ouzou" onchange="updateMultiFilterDisplay('regionFilter')"><span>15 - Tizi Ouzou</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="16-alger" onchange="updateMultiFilterDisplay('regionFilter')"><span>16 - Alger</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="17-djelfa" onchange="updateMultiFilterDisplay('regionFilter')"><span>17 - Djelfa</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="18-jijel" onchange="updateMultiFilterDisplay('regionFilter')"><span>18 - Jijel</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="19-setif" onchange="updateMultiFilterDisplay('regionFilter')"><span>19 - Sétif</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="20-saida" onchange="updateMultiFilterDisplay('regionFilter')"><span>20 - Saïda</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="21-skikda" onchange="updateMultiFilterDisplay('regionFilter')"><span>21 - Skikda</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="22-sidi-bel-abbes" onchange="updateMultiFilterDisplay('regionFilter')"><span>22 - Sidi Bel Abbès</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="23-annaba" onchange="updateMultiFilterDisplay('regionFilter')"><span>23 - Annaba</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="24-guelma" onchange="updateMultiFilterDisplay('regionFilter')"><span>24 - Guelma</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="25-constantine" onchange="updateMultiFilterDisplay('regionFilter')"><span>25 - Constantine</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="26-medea" onchange="updateMultiFilterDisplay('regionFilter')"><span>26 - Médéa</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="27-mostaganem" onchange="updateMultiFilterDisplay('regionFilter')"><span>27 - Mostaganem</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="28-msila" onchange="updateMultiFilterDisplay('regionFilter')"><span>28 - M'Sila</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="29-mascara" onchange="updateMultiFilterDisplay('regionFilter')"><span>29 - Mascara</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="30-ouargla" onchange="updateMultiFilterDisplay('regionFilter')"><span>30 - Ouargla</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="31-oran" onchange="updateMultiFilterDisplay('regionFilter')"><span>31 - Oran</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="32-el-bayadh" onchange="updateMultiFilterDisplay('regionFilter')"><span>32 - El Bayadh</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="33-illizi" onchange="updateMultiFilterDisplay('regionFilter')"><span>33 - Illizi</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="34-bordj-bou-arreridj" onchange="updateMultiFilterDisplay('regionFilter')"><span>34 - Bordj Bou Arreridj</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="35-boumerdes" onchange="updateMultiFilterDisplay('regionFilter')"><span>35 - Boumerdès</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="36-el-tarf" onchange="updateMultiFilterDisplay('regionFilter')"><span>36 - El Tarf</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="37-tindouf" onchange="updateMultiFilterDisplay('regionFilter')"><span>37 - Tindouf</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="38-tissemsilt" onchange="updateMultiFilterDisplay('regionFilter')"><span>38 - Tissemsilt</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="39-el-oued" onchange="updateMultiFilterDisplay('regionFilter')"><span>39 - El Oued</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="40-khenchela" onchange="updateMultiFilterDisplay('regionFilter')"><span>40 - Khenchela</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="41-souk-ahras" onchange="updateMultiFilterDisplay('regionFilter')"><span>41 - Souk Ahras</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="42-tipaza" onchange="updateMultiFilterDisplay('regionFilter')"><span>42 - Tipaza</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="43-mila" onchange="updateMultiFilterDisplay('regionFilter')"><span>43 - Mila</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="44-ain-defla" onchange="updateMultiFilterDisplay('regionFilter')"><span>44 - Aïn Defla</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="45-naama" onchange="updateMultiFilterDisplay('regionFilter')"><span>45 - Naâma</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="46-ain-temouchent" onchange="updateMultiFilterDisplay('regionFilter')"><span>46 - Aïn Témouchent</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="47-ghardaia" onchange="updateMultiFilterDisplay('regionFilter')"><span>47 - Ghardaïa</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="48-relizane" onchange="updateMultiFilterDisplay('regionFilter')"><span>48 - Relizane</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="49-timimoun" onchange="updateMultiFilterDisplay('regionFilter')"><span>49 - Timimoun</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="50-bordj-badji-mokhtar" onchange="updateMultiFilterDisplay('regionFilter')"><span>50 - Bordj Badji Mokhtar</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="51-ouled-djellal" onchange="updateMultiFilterDisplay('regionFilter')"><span>51 - Ouled Djellal</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="52-beni-abbes" onchange="updateMultiFilterDisplay('regionFilter')"><span>52 - Béni Abbès</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="53-in-salah" onchange="updateMultiFilterDisplay('regionFilter')"><span>53 - In Salah</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="54-in-guezzam" onchange="updateMultiFilterDisplay('regionFilter')"><span>54 - In Guezzam</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="55-touggourt" onchange="updateMultiFilterDisplay('regionFilter')"><span>55 - Touggourt</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="56-djanet" onchange="updateMultiFilterDisplay('regionFilter')"><span>56 - Djanet</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="57-el-mghair" onchange="updateMultiFilterDisplay('regionFilter')"><span>57 - El M'Ghair</span></label>
                                    <label class="filter-checkbox-item"><input type="checkbox" name="region" value="58-el-meniaa" onchange="updateMultiFilterDisplay('regionFilter')"><span>58 - El Meniaa</span></label>
                                </div>
                            </div>
                        </div>
                        <div class="search-filter-group">
                            <label class="search-filter-label">
                                <i class="fas fa-briefcase" aria-hidden="true"></i>
                                <span data-fr="Expérience" data-en="Experience" data-ar="الخبرة">Expérience</span>
                            </label>
                            <!-- FIX: Converted to multi-select checkboxes -->
                            <div class="filter-multiselect-container">
                                <button class="filter-multiselect-button functional-btn" onclick="toggleMultiFilter('experienceFilter')" type="button">
                                    <span data-fr="Toute expérience" data-en="Any experience" data-ar="Toute expérience">Toute expérience</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="filter-multiselect-dropdown" id="experienceFilterDropdown" style="display: none;">
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="experience" value="debutant" onchange="updateMultiFilterDisplay('experienceFilter')">
                                        <span data-fr="Sans expérience" data-en="without experience" data-ar="Sans expérience">Sans expérience</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="experience" value="junior" onchange="updateMultiFilterDisplay('experienceFilter')">
                                        <span data-fr="Junior (1-2 ans)" data-en="Junior (1-2 years)" data-ar="Junior (1-2 ans)">Junior (1-2 ans)</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="experience" value="confirme" onchange="updateMultiFilterDisplay('experienceFilter')">
                                        <span data-fr="Senior (3-5 ans)" data-en="Senior (3-5 years)" data-ar="Senior (3-5 ans)">Senior (3-5 ans)</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="experience" value="senior" onchange="updateMultiFilterDisplay('experienceFilter')">
                                        <span data-fr="Expérimenté (6-10 ans)" data-en="experienced (6-10 years)" data-ar="Expérimenté (6-10 ans)">Expérimenté (6-10 ans)</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="experience" value="expert" onchange="updateMultiFilterDisplay('experienceFilter')">
                                        <span data-fr="Expert (10+ ans)" data-en="Expert (10+ years)" data-ar="Expert (10+ ans)">Expert (10+ ans)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="search-filter-group">
                            <label class="search-filter-label">
                                <i class="fas fa-tools" aria-hidden="true"></i>
                                <span data-fr="Domaine" data-en="Field" data-ar="Domaine">Domaine</span>
                            </label>
                            <!-- FIX: Converted to multi-select checkboxes -->
                            <div class="filter-multiselect-container">
                                <button class="filter-multiselect-button functional-btn" onclick="toggleMultiFilter('fieldFilter')" type="button">
                                    <span data-fr="Tous les domaines" data-en="All fields" data-ar="Tous les domaines">Tous les domaines</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="filter-multiselect-dropdown" id="fieldFilterDropdown" style="display: none;">
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Administration, Moyens Généraux" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Administration, Moyens Généraux" data-en="Administration, General Services" data-ar="Administration, Moyens Généraux">Administration, Moyens Généraux</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Comptabilité, Finance" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Comptabilité, Finance" data-en="Accounting, Finance" data-ar="Comptabilité, Finance">Comptabilité, Finance</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Banques Et Assurances" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Banques Et Assurances" data-en="Banking and Insurance" data-ar="Banques Et Assurances">Banques Et Assurances</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Juridique, Fiscal, Audit, Conseil" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Juridique, Fiscal, Audit, Conseil" data-en="Legal; Tax; Audit; Consulting" data-ar="Juridique, Fiscal, Audit, Conseil">Juridique, Fiscal, Audit, Conseil</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="RH Formation" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="RH Formation" data-en="HR Training" data-ar="RH Formation">RH Formation</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Commercial, vente" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Commercial, vente" data-en="Commercial; Sales" data-ar="Commercial, vente">Commercial, vente</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Marketing création design" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Marketing création design" data-en="Marketing, Creation, Design" data-ar="Marketing création design">Marketing création design</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Informatique système d’information internet" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Informatique système d’information internet" data-en="IT, Internet Information Systems" data-ar="Informatique système d’information internet">Informatique système d’information internet</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Télécommunication, Réseau" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Télécommunication, Réseau" data-en="Telecommunications; Network" data-ar="Télécommunication, Réseau">Télécommunication, Réseau</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Métier BTP, Architecture" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Métier BTP, Architecture" data-en="Construction, Architecture" data-ar="Métier BTP, Architecture">Métier BTP, Architecture</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Ingénierie, Etudes, Projets " onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Ingénierie, Etudes, Projets " data-en="Engineering, Studies, Projects" data-ar="Ingénierie, Etudes, Projets ">Ingénierie, Etudes, Projets </span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Logistique, Achat, Stock, Transport" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Logistique, Achat, Stock, Transport" data-en="Logistics, Purchasing, Inventory, Transportation" data-ar="Logistique, Achat, Stock, Transport">Logistique, Achat, Stock, Transport</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Production, Industrie, Méthode" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Production, Industrie, Méthode" data-en="Production, Industry, Methods" data-ar="Production, Industrie, Méthode">Production, Industrie, Méthode</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Maintenance, Entretien" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Maintenance, Entretien" data-en="Maintenance, Upkeep" data-ar="Maintenance, Entretien">Maintenance, Entretien</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Qualité, Sécurité, Environnement" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Qualité, Sécurité, Environnement" data-en="Quality, Safety, Environment" data-ar="Qualité, Sécurité, Environnement">Qualité, Sécurité, Environnement</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Ouvriers Qualifiés, Chauffeur" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Ouvriers Qualifiés, Chauffeur" data-en="Skilled Workers, Driver" data-ar="Ouvriers Qualifiés, Chauffeur">Ouvriers Qualifiés, Chauffeur</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Ouvriers Qualifiés, Chauffeur" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Ouvriers Qualifiés, Chauffeur" data-en="Quality, Safety, Environment" data-ar="Ouvriers Qualifiés, Chauffeur">Ouvriers Qualifiés, Chauffeur</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Hôtellerie, Loisirs" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Hôtellerie, Loisirs" data-en="Hospitality, Leisure" data-ar="Hôtellerie, Loisirs">Hôtellerie, Loisirs</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="field" value="Autres" onchange="updateMultiFilterDisplay('fieldFilter')">
                                        <span data-fr="Autres" data-en="Others" data-ar="Autres">Autres</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="search-filter-group">
                            <label class="search-filter-label">
                                <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                                <span data-fr="Niveau d'études" data-en="Education Level" data-ar="Niveau d'études">Niveau d'études</span>
                            </label>
                            <!-- FIX: Converted to multi-select checkboxes and added "Sans diplôme" -->
                            <div class="filter-multiselect-container">
                                <button class="filter-multiselect-button functional-btn" onclick="toggleMultiFilter('educationFilter')" type="button">
                                    <span data-fr="Tous niveaux" data-en="All levels" data-ar="Tous niveaux">Tous niveaux</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="filter-multiselect-dropdown" id="educationFilterDropdown" style="display: none;">
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="sans-diplome" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Sans diplôme" data-en="No diploma" data-ar="Sans diplôme">Sans diplôme</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="bac" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Baccalauréat" data-en="High School" data-ar="Baccalauréat">Baccalauréat</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="ts" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Technicien Supérieur" data-en="Higher Technician" data-ar="Technicien Supérieur">Technicien Supérieur</span>
                                    </label>
                                     <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="ts" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Formation Professionnelle" data-en="Professional Training" data-ar="Formation Professionnelle">Formation Professionnelle</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="licence" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Licence" data-en="Bachelor" data-ar="Licence">Licence</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="master" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Master" data-en="Master" data-ar="Master">Master</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="ingenieur" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Ingénieur" data-en="Engineer" data-ar="Ingénieur">Ingénieur</span>
                                    </label>
                                    <label class="filter-checkbox-item">
                                        <input type="checkbox" name="education" value="doctorat" onchange="updateMultiFilterDisplay('educationFilter')">
                                        <span data-fr="Doctorat" data-en="PhD" data-ar="Doctorat">Doctorat</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ADD: Search button for multi-select filters -->
                    <div style="display: flex; justify-content: center; margin-top: var(--spacing-xl); padding-top: var(--spacing-md);">
                        <button class="btn btn-primary functional-btn" onclick="applyMultiFilters()" style="padding: 12px 32px; font-size: var(--font-size-base); font-weight: 700;">
                            <i class="fas fa-search"></i>
                            <span data-fr="Rechercher" data-en="Search" data-ar="Rechercher">Rechercher</span>
                        </button>
                        <button class="btn btn-outline functional-btn" onclick="resetMultiFilters()" style="margin-left: 12px; padding: 12px 32px; font-size: var(--font-size-base);">
                            <i class="fas fa-redo"></i>
                            <span data-fr="Réinitialiser" data-en="Reset" data-ar="Réinitialiser">Réinitialiser</span>
                        </button>
                    </div>
                </div>

                <!-- ADD: Added Consulting button to contract filters -->
                <div class="carriere-filters">
                    <button class="carriere-filter-btn functional-btn active" data-filter="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</button>
                    <button class="carriere-filter-btn functional-btn" data-filter="cdi" data-fr="CDI" data-en="Permanent" data-ar="CDI">CDI</button>
                    <button class="carriere-filter-btn functional-btn" data-filter="cdd" data-fr="CDD" data-en="Fixed-term" data-ar="CDD">CDD</button>
                    <button class="carriere-filter-btn functional-btn" data-filter="stage" data-fr="Stage" data-en="Internship" data-ar="Stage">Stage</button>
                    <button class="carriere-filter-btn functional-btn" data-filter="consulting" data-fr="Consulting" data-en="Consulting" data-ar="Consulting">Consulting</button>
                </div>
                
                <!-- Grille adaptée pour 20+ offres avec cartes horizontales compactes améliorées -->
                <div class="carriere-jobs-list" id="carriereJobsGrid">
                    <!-- Jobs will be populated by JavaScript -->
                </div>

                <!-- Pagination pour gestion 20+ offres -->
                <div class="carriere-pagination" id="carrierePagination" style="display: none;">
                    <button class="pagination-btn functional-btn" id="prevPage">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="pagination-info" id="paginationInfo">
                        Page 1 sur 1
                    </div>
                    <button class="pagination-btn functional-btn" id="nextPage">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- ===== PAGE CONTACT AMÉLIORÉE AVEC DOUBLE ADRESSE PARFAITEMENT ALIGNÉE ===== -->
        <section class="page-section" id="contact-page" data-page="contact">
            <div class="contact-container">
                <div class="contact-info">
                    <h1 class="contact-title" data-fr="Contactez-Nous" data-en="Contact Us" data-ar="اتصل بنا">Contactez-Nous</h1>
                    <p class="contact-text" data-fr="Nous sommes à votre disposition pour toute demande d'information ou de proposition." data-en="We are at your disposal for any request for information or proposal." data-ar="Nous sommes à votre disposition pour toute demande d'information ou de proposition.">Nous sommes à votre disposition pour toute demande d'information ou de proposition.</p>
                    <div class="contact-details">
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                            </div>
                            <div class="contact-info-text">
                                <div style="font-weight: 600; color: var(--text-dark); margin-bottom: 12px;" data-fr="Nos Adresses" data-en="Our Addresses" data-ar="عناويننا">Nos Adresses</div>
                                <div class="contact-addresses">
                                    <div class="contact-address-group">
                                        <div class="contact-address-label" data-fr="Siège Alger" data-en="Algiers Headquarters" data-ar="Siège Alger">Siège Alger</div>
                                        <div class="contact-address-text">126 Coopérative ESSALEM 2 Birkhadem 16029 - Alger</div>
                                    </div>
                                    <div class="contact-address-group">
                                        <div class="contact-address-label" data-fr="Siège Oran" data-en="Oran Headquarters" data-ar="Siège Oran">Siège Oran</div>
                                        <div class="contact-address-text">06,07 zone de siéges usto Oran</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone" aria-hidden="true"></i>
                            </div>
                            <div class="contact-info-text">
                                <div style="font-weight: 600; color: var(--text-dark); margin-bottom: 12px;" data-fr="Nos Téléphones" data-en="Our Phones" data-ar="هواتفنا">Nos Téléphones</div>
                                <div class="contact-phones">
                                    <div class="contact-phone-group">
                                        <div class="contact-phone-label" data-fr="Contact Alger" data-en="Algiers Contact" data-ar="Contact Alger">Contact Alger</div>
                                        <div class="contact-phone-text">0770 – 284 - 828 / 0770 – 431 - 516</div>
                                    </div>
                                    <div class="contact-phone-group">
                                        <div class="contact-phone-label" data-fr="Contact Oran" data-en="Oran Contact" data-ar="Contact Oran">Contact Oran</div>
                                        <div class="contact-phone-text">0770 - 177 - 776 / 046 - 821 - 393</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope" aria-hidden="true"></i>
                            </div>
                            <div class="contact-info-text">
                                <div style="font-weight: 700; color: var(--text-dark);" data-fr="Email" data-en="Email" data-ar="البريد الإلكتروني">Email</div>
                                <div style="color: var(--text-light);">
                                    <a href="mailto:ae2i.algerie@ae2i-aerh.com" style="color: var(--primary); text-decoration: none;" id="contactPageEmail">ae2i.algerie@ae2i-aerh.com</a>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-clock" aria-hidden="true"></i>
                            </div>
                            <div class="contact-info-text">
                                <div style="font-weight: 00; color: var(--text-dark);" data-fr="Horaires" data-en="Hours" data-ar="Horaires">Horaires</div>
                                <div style="color: var(--text-light);" data-fr="Dim - Jeu: 09h00 - 17h00" data-en="Sun-Thu: 8:00 AM - 6:00 PM" data-ar="Dim - Jeu: 09h00 - 17h00">Dim - Jeu: 09h00 - 17h00</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contactPageForm" novalidate>
                        <div class="form-group">
                            <label for="contactName" data-fr="Nom complet" data-en="Full Name" data-ar="Nom complet">Nom complet</label>
                            <input type="text" id="contactName" name="name" class="form-control" required autocomplete="name">
                        </div>
                        <div class="form-group">
                            <label for="contactEmail" data-fr="Email" data-en="Email" data-ar="البريد الإلكتروني">Email</label>
                            <input type="email" id="contactEmail" name="email" class="form-control" required autocomplete="email">
                        </div>
                        <div class="form-group">
                            <label for="contactPhone" data-fr="Téléphone" data-en="Phone" data-ar="Téléphone">Téléphone</label>
                            <input type="tel" id="contactPhone" name="phone" class="form-control" autocomplete="tel">
                        </div>
                        <div class="form-group">
                            <label for="contactSubject" data-fr="Sujet" data-en="Subject" data-ar="Sujet">Sujet</label>
                            <select id="contactSubject" name="subject" class="form-control" required>
                                <option value="" data-fr="Sélectionnez un sujet" data-en="Select a subject" data-ar="Sélectionnez un sujet">Sélectionnez un sujet</option>
                                <option value="service" data-fr="Demande de service" data-en="Service request" data-ar="Demande de service">Demande de service</option>
                                <option value="project" data-fr="Projet d'ingénierie" data-en="Engineering project" data-ar="Projet d'ingénierie">Projet d'ingénierie</option>
                                <option value="career" data-fr="Carrière" data-en="Career" data-ar="الوظائف">Carrière</option>
                                <option value="other" data-fr="Autre" data-en="Other" data-ar="Autre">Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="contactMessage" data-fr="Message" data-en="Message" data-ar="Message">Message</label>
                            <textarea id="contactMessage" name="message" class="form-control" required></textarea>
                        </div>
                        <button type="submit" class="contact-btn-submit functional-btn">
                            <i class="fas fa-paper-plane" aria-hidden="true"></i>
                            <span data-fr="Envoyer le message" data-en="Send message" data-ar="Envoyer le message">Envoyer le message</span>
                        </button>
                    </form>
                </div>
            </div>
            
            <!-- Google Maps -->
            <div class="google-maps" style="margin: var(--spacing-xl) auto; max-width: 1200px; padding: 0 var(--spacing-md);">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3197.4166666666665!2d3.026666666666667!3d36.733333333333334!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzbCsDQ0JzAwLjAiTiAzwrAwMScyNC4wIkU!5e0!3m2!1sfr!2sdz!4v1625097600000!5m2!1sfr!2sdz" loading="lazy"></iframe>
            </div>
        </section>

        <!-- ===== PAGE ADMIN DASHBOARD ULTRA-AMÉLIORÉ AVEC SÉLECTEURS DE COULEURS FONCTIONNELS ET SECTION HERO ===== -->
        <section class="page-section" id="admin-page" data-page="admin">
            <button class="btn-logout functional-btn" onclick="logoutUser()">
                <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                <span data-fr="Déconnexion" data-en="Logout" data-ar="تسجيل الخروج">Déconnexion</span>
            </button>
            <div class="admin-header">
                <h2><i class="fas fa-cogs" aria-hidden="true"></i> <span data-fr="Dashboard Admin" data-en="Admin Dashboard" data-ar="Dashboard Admin">Dashboard Admin</span></h2>
                <div class="admin-user-info">
                    <span id="currentUser">Admin</span>
                    <span id="currentRole" data-fr="Administrateur" data-en="Administrator" data-ar="Administrateur">Administrateur</span>
                </div>
            </div>
            <div class="admin-container">
                <div class="admin-tabs" role="tablist">
                    <div class="admin-tab active functional-btn" data-tab="dashboard" role="tab" aria-selected="true">
                        <i class="fas fa-tachometer-alt" aria-hidden="true"></i> <span data-fr="Dashboard" data-en="Dashboard" data-ar="Dashboard">Dashboard</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="hero" role="tab" aria-selected="false">
                        <i class="fas fa-home" aria-hidden="true"></i> <span data-fr="Hero" data-en="Hero" data-ar="Hero">Hero</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="settings" role="tab" aria-selected="false">
                        <i class="fas fa-cogs" aria-hidden="true"></i> <span data-fr="Paramètres" data-en="Settings" data-ar="الإعدادات">Paramètres</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="services" role="tab" aria-selected="false">
                        <i class="fas fa-tools" aria-hidden="true"></i> <span data-fr="Services" data-en="Services" data-ar="خدماتنا">Services</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="clients" role="tab" aria-selected="false">
                        <i class="fas fa-handshake" aria-hidden="true"></i> <span data-fr="Clients" data-en="Clients" data-ar="Clients">Clients</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="testimonials" role="tab" aria-selected="false">
                        <i class="fas fa-comments" aria-hidden="true"></i> <span data-fr="Témoignages" data-en="Testimonials" data-ar="Témoignages">Témoignages</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="recruitment" role="tab" aria-selected="false">
                        <i class="fas fa-users" aria-hidden="true"></i> <span data-fr="Recrutement" data-en="Recruitment" data-ar="Recrutement">Recrutement</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="contact" role="tab" aria-selected="false">
                        <i class="fas fa-address-book" aria-hidden="true"></i> <span data-fr="Contact" data-en="Contact" data-ar="اتصل بنا">Contact</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="iso" role="tab" aria-selected="false">
                        <i class="fas fa-certificate" aria-hidden="true"></i> <span data-fr="ISO & Médias" data-en="ISO & Media" data-ar="ISO & Médias">ISO & Médias</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="pages" role="tab" aria-selected="false">
                        <i class="fas fa-file-alt" aria-hidden="true"></i> <span data-fr="Pages" data-en="Pages" data-ar="Pages">Pages</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="users" role="tab" aria-selected="false">
                        <i class="fas fa-user-shield" aria-hidden="true"></i> <span data-fr="Utilisateurs" data-en="Users" data-ar="Utilisateurs">Utilisateurs</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="analytics" role="tab" aria-selected="false">
                        <i class="fas fa-chart-line" aria-hidden="true"></i> <span data-fr="Analytics" data-en="Analytics" data-ar="Analytics">Analytics</span>
                    </div>
                    <div class="admin-tab functional-btn" data-tab="maintenance" role="tab" aria-selected="false">
                        <i class="fas fa-tools" aria-hidden="true"></i> <span data-fr="Maintenance" data-en="Maintenance" data-ar="Maintenance">Maintenance</span>
                    </div>
                </div>
                <div class="admin-content">
                    <!-- Dashboard Tab -->
                    <div class="admin-tab-content active" id="admin-tab-dashboard">
                        <div class="admin-section">
                            <h3><i class="fas fa-tachometer-alt" aria-hidden="true"></i> <span data-fr="Vue d'ensemble" data-en="Overview" data-ar="Vue d'ensemble">Vue d'ensemble</span></h3>
                            <div class="dashboard-actions">
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('hero')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-home" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Informations du Site" data-en="Site Information" data-ar="Informations du Site">Informations du Site</h4>
                                    <p class="dashboard-action-desc" data-fr="Titre, slogan, description et couleurs dégradées personnalisées" data-en="Title, slogan, description and custom gradient colors" data-ar="Titre, slogan, description et couleurs dégradées personnalisées">Titre, slogan, description et couleurs dégradées personnalisées</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('settings')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-sliders-h" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Paramètres Généraux" data-en="General Settings" data-ar="Paramètres Généraux">Paramètres Généraux</h4>
                                    <p class="dashboard-action-desc" data-fr="Configuration site, langues, thème, logo et sections" data-en="Site configuration, languages, theme, logo and sections" data-ar="Configuration site, langues, thème, logo et sections">Configuration site, langues, thème, logo et sections</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('services')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-cogs" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Gérer Services" data-en="Manage Services" data-ar="Gérer Services">Gérer Services</h4>
                                    <p class="dashboard-action-desc" data-fr="CRUD complet des services avec support multilingue" data-en="Complete CRUD of services with multilingual support" data-ar="CRUD complet des services avec support multilingue">CRUD complet des services avec support multilingue</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('clients')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-handshake" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Gérer Clients" data-en="Manage Clients" data-ar="Gérer Clients">Gérer Clients</h4>
                                    <p class="dashboard-action-desc" data-fr="Logos et références clients avec défilement automatique" data-en="Client logos and references with automatic scrolling" data-ar="Logos et références clients avec défilement automatique">Logos et références clients avec défilement automatique</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('testimonials')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-quote-left" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Témoignages" data-en="Testimonials" data-ar="Témoignages">Témoignages</h4>
                                    <p class="dashboard-action-desc" data-fr="Avis clients avec carrousel automatique et notes" data-en="Client reviews with automatic carousel and ratings" data-ar="Avis clients avec carrousel automatique et notes">Avis clients avec carrousel automatique et notes</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('recruitment')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-briefcase" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Recrutement" data-en="Recruitment" data-ar="Recrutement">Recrutement</h4>
                                    <p class="dashboard-action-desc" data-fr="Gestion offres, candidatures, CV et notifications" data-en="Manage offers, applications, CVs and notifications" data-ar="Gestion offres, candidatures, CV et notifications">Gestion offres, candidatures, CV et notifications</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('contact')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-address-book" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Contact & Réseaux" data-en="Contact & Networks" data-ar="Contact & Réseaux">Contact & Réseaux</h4>
                                    <p class="dashboard-action-desc" data-fr="Informations contact, réseaux sociaux et messages" data-en="Contact information, social networks and messages" data-ar="Informations contact, réseaux sociaux et messages">Informations contact, réseaux sociaux et messages</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('iso')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-certificate" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="ISO & Brochure" data-en="ISO & Brochure" data-ar="ISO & Brochure">ISO & Brochure</h4>
                                    <p class="dashboard-action-desc" data-fr="QR codes, certificats et documents PDF" data-en="QR codes, certificates and PDF documents" data-ar="QR codes, certificats et documents PDF">QR codes, certificats et documents PDF</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('pages')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-file-alt" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Pages personnalisées" data-en="Custom Pages" data-ar="Pages personnalisées">Pages personnalisées</h4>
                                    <p class="dashboard-action-desc" data-fr="Création et gestion de pages avec éditeur avancé" data-en="Page creation and management with advanced editor" data-ar="Création et gestion de pages avec éditeur avancé">Création et gestion de pages avec éditeur avancé</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('users')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-users-cog" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Gérer Utilisateurs" data-en="Manage Users" data-ar="Gérer Utilisateurs">Gérer Utilisateurs</h4>
                                    <p class="dashboard-action-desc" data-fr="Gestion recruteurs, lecteurs, audits et permissions" data-en="Manage recruiters, readers, audits and permissions" data-ar="Gestion recruteurs, lecteurs, audits et permissions">Gestion recruteurs, lecteurs, audits et permissions</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('analytics')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-chart-bar" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Analytics" data-en="Analytics" data-ar="Analytics">Analytics</h4>
                                    <p class="dashboard-action-desc" data-fr="Statistiques, rapports et conformité RGPD" data-en="Statistics, reports and GDPR compliance" data-ar="Statistiques, rapports et conformité RGPD">Statistiques, rapports et conformité RGPD</p>
                                </div>
                                <div class="dashboard-action-card functional-btn" onclick="showAdminTab('maintenance')">
                                    <div class="dashboard-action-icon">
                                        <i class="fas fa-tools" aria-hidden="true"></i>
                                    </div>
                                    <h4 class="dashboard-action-title" data-fr="Maintenance" data-en="Maintenance" data-ar="Maintenance">Maintenance</h4>
                                    <p class="dashboard-action-desc" data-fr="Sauvegarde, cache, performances et mode maintenance" data-en="Backup, cache, performance and maintenance mode" data-ar="Sauvegarde, cache, performances et mode maintenance">Sauvegarde, cache, performances et mode maintenance</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- NOUVELLE SECTION HERO POUR INFORMATIONS DU SITE -->
                    <div class="admin-tab-content" id="admin-tab-hero">
                        <div class="admin-section">
                            <h3><i class="fas fa-home" aria-hidden="true"></i> <span data-fr="Informations du Site" data-en="Site Information" data-ar="Informations du Site">Informations du Site</span></h3>
                            <div class="admin-grid">
                                <div class="admin-card">
                                    <h4><i class="fas fa-heading" aria-hidden="true"></i> <span data-fr="Titre du Site" data-en="Site Title" data-ar="Titre du Site">Titre du Site</span></h4>
                                    <div class="form-group">
                                        <label for="siteTitle" data-fr="Titre principal" data-en="Main title" data-ar="Titre principal">Titre principal</label>
                                        <input type="text" id="siteTitle" class="form-control" value="AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous">
                                        <!-- ADD: Text formatting buttons for Hero title -->
                                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                                            <button class="btn btn-sm btn-outline functional-btn" onclick="toggleTitleFormatting('bold')" title="Gras">
                                                <i class="fas fa-bold"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline functional-btn" onclick="toggleTitleFormatting('italic')" title="Italique">
                                                <i class="fas fa-italic"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline functional-btn" onclick="toggleTitleFormatting('underline')" title="Souligné">
                                                <i class="fas fa-underline"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- ADD: hero-title-size-control - Title size adjustment -->
                                    <div class="form-group">
                                        <label for="heroTitleSize" data-fr="Taille du titre" data-en="Title size" data-ar="Taille du titre">Taille du titre</label>
                                        <div style="display: flex; gap: 12px; align-items: center;">
                                            <input type="range" id="heroTitleSize" class="form-control" min="24" max="120" value="48" style="flex: 1;" oninput="updateHeroTitleSize(this.value)">
                                            <span id="heroTitleSizeValue" style="min-width: 60px; font-weight: 600; color: var(--primary);">48px</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label data-fr="Couleur dégradé du titre" data-en="Title gradient color" data-ar="Couleur dégradé du titre">Couleur dégradé du titre</label>
                                        <div class="gradient-picker">
                                            <input type="color" id="titleGradientStart" value="#008fb3" class="color-picker-compact">
                                            <input type="color" id="titleGradientEnd" value="#003d82" class="color-picker-compact">
                                            <div class="gradient-preview" id="titleGradientPreview" style="background: linear-gradient(135deg, #1eddd6cc 0%, #158392 100%);"></div>
                                            <button class="btn btn-sm btn-primary functional-btn" onclick="applyTitleGradient()">
                                                <i class="fas fa-paint-brush"></i> Appliquer
                                            </button>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateSiteTitle()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder Titre" data-en="Save Title" data-ar="Sauvegarder Titre">Sauvegarder Titre</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-quote-right" aria-hidden="true"></i> <span data-fr="Slogan" data-en="Slogan" data-ar="Slogan">Slogan</span></h4>
                                    <div class="form-group">
                                        <label for="siteSlogan" data-fr="Slogan principal" data-en="Main slogan" data-ar="Slogan principal">Slogan principal</label>
                                        <input type="text" id="siteSlogan" class="form-control" value="Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure.">
                                        <!-- ADD: hero-subtitle-style - Text formatting buttons for subtitle -->
                                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                                            <button class="btn btn-sm btn-outline functional-btn" onclick="toggleSubtitleFormatting('bold')" title="Gras">
                                                <i class="fas fa-bold"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline functional-btn" onclick="toggleSubtitleFormatting('italic')" title="Italique">
                                                <i class="fas fa-italic"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline functional-btn" onclick="toggleSubtitleFormatting('underline')" title="Souligné">
                                                <i class="fas fa-underline"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <!-- ADD: hero-subtitle-size-control - Subtitle size adjustment -->
                                    <div class="form-group">
                                        <label for="heroSubtitleSize" data-fr="Taille du sous-titre" data-en="Subtitle size" data-ar="Taille du sous-titre">Taille du sous-titre</label>
                                        <div style="display: flex; gap: 12px; align-items: center;">
                                            <input type="range" id="heroSubtitleSize" class="form-control" min="14" max="48" value="20" style="flex: 1;" oninput="updateHeroSubtitleSize(this.value)">
                                            <span id="heroSubtitleSizeValue" style="min-width: 60px; font-weight: 600; color: var(--primary);">20px</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label data-fr="Couleur dégradé du slogan" data-en="Slogan gradient color" data-ar="Couleur dégradé du slogan">Couleur dégradé du slogan</label>
                                        <div class="gradient-picker">
                                            <input type="color" id="sloganGradientStart" value="#ffffff" class="color-picker-compact">
                                            <input type="color" id="sloganGradientEnd" value="#e2e8f0" class="color-picker-compact">
                                            <div class="gradient-preview" id="sloganGradientPreview" style="background: linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%);"></div>
                                            <button class="btn btn-sm btn-primary functional-btn" onclick="applySloganGradient()">
                                                <i class="fas fa-paint-brush"></i> Appliquer
                                            </button>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateSiteSlogan()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder Slogan" data-en="Save Slogan" data-ar="Sauvegarder Slogan">Sauvegarder Slogan</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-align-left" aria-hidden="true"></i> <span data-fr="Description" data-en="Description" data-ar="Description">Description</span></h4>
                                    <div class="form-group">
                                        <label for="siteDescription" data-fr="Description du site" data-en="Site description" data-ar="Description du site">Description du site</label>
                                        <textarea id="siteDescription" class="form-control" rows="4">AE2I Algérie - "Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure."</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label data-fr="Couleur dégradé de la description" data-en="Description gradient color" data-ar="Couleur dégradé de la description">Couleur dégradé de la description</label>
                                        <div class="gradient-picker">
                                            <input type="color" id="descriptionGradientStart" value="#64748b" class="color-picker-compact">
                                            <input type="color" id="descriptionGradientEnd" value="#94a3b8" class="color-picker-compact">
                                            <div class="gradient-preview" id="descriptionGradientPreview" style="background: linear-gradient(135deg, #64748b 0%, #94a3b8 100%);"></div>
                                            <button class="btn btn-sm btn-primary functional-btn" onclick="applyDescriptionGradient()">
                                                <i class="fas fa-paint-brush"></i> Appliquer
                                            </button>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateSiteDescription()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder Description" data-en="Save Description" data-ar="Sauvegarder Description">Sauvegarder Description</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-image" aria-hidden="true"></i> <span data-fr="Fond de l'Accueil (Hero)" data-en="Home Background (Hero)" data-ar="Fond de l'Accueil (Hero)">Fond de l'Accueil (Hero)</span></h4>
                                    <div class="admin-media-manager" id="heroBackgroundManager">
                                        <div class="media-item functional-btn" onclick="setHeroBackground('gradient')">
                                            <div style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); width: 100%; height: 80px; border-radius: var(--border-radius-sm);"></div>
                                            <div class="media-item-overlay">
                                                <button><i class="fas fa-check"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label data-fr="Couleur dégradé personnalisé" data-en="Custom gradient color" data-ar="Couleur dégradé personnalisé">Couleur dégradé personnalisé</label>
                                        <div class="gradient-picker">
                                            <input type="color" id="heroGradientStart" value="#f8fafc" class="color-picker-compact">
                                            <input type="color" id="heroGradientEnd" value="#e2e8f0" class="color-picker-compact">
                                            <div class="gradient-preview" id="heroGradientPreview" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);"></div>
                                            <button class="btn btn-sm btn-primary functional-btn" onclick="applyHeroGradient()">Appliquer</button>
                                        </div>
                                    </div>
                                    <input type="file" id="heroBackgroundInput" accept="image/*,video/*" style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('heroBackgroundInput').click()">
                                        <i class="fas fa-upload"></i> <span data-fr="Téléverser Image/Vidéo" data-en="Upload Image/Video" data-ar="Téléverser Image/Vidéo">Téléverser Image/Vidéo</span>
                                    </button>
                                    <button class="btn btn-outline functional-btn" onclick="removeHeroBackground()">
                                        <i class="fas fa-times"></i> <span data-fr="Supprimer Fond" data-en="Remove Background" data-ar="Supprimer Fond">Supprimer Fond</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Settings Tab AMÉLIORÉ AVEC SÉLECTEURS DE COULEURS FONCTIONNELS -->
                    <div class="admin-tab-content" id="admin-tab-settings">
                        <div class="admin-section">
                            <h3><i class="fas fa-cogs" aria-hidden="true"></i> <span data-fr="Paramètres Généraux" data-en="General Settings" data-ar="Paramètres Généraux">Paramètres Généraux</span></h3>
                            <div class="admin-grid">
                                <div class="admin-card">
                                    <h4><i class="fas fa-image" aria-hidden="true"></i> <span data-fr="Logo & Favicon" data-en="Logo & Favicon" data-ar="Logo & Favicon">Logo & Favicon</span></h4>
                                    <div style="text-align: center; margin-bottom: 80px;">
                                        <img id="adminLogoPreview" src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=150&h=50&fit=crop" alt="Logo actuel" style="max-height: 60px; border-radius: var(--border-radius-sm);" loading="lazy">
                                    </div>
                                    <input type="file" id="adminLogoInput" accept="image/*" style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('adminLogoInput').click()">
                                        <i class="fas fa-upload"></i> <span data-fr="Changer Logo" data-en="Change Logo" data-ar="Changer Logo">Changer Logo</span>
                                    </button>
                                    <input type="file" id="adminFaviconInput" accept="image/*" style="display: none;">
                                    <button class="btn btn-outline functional-btn" onclick="document.getElementById('adminFaviconInput').click()">
                                        <i class="fas fa-star"></i> <span data-fr="Changer Favicon" data-en="Change Favicon" data-ar="Changer Favicon">Changer Favicon</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-toggle-on" aria-hidden="true"></i> <span data-fr="Sections (Pages) Activé/Désactivé" data-en="Sections (Pages) Enabled/Disabled" data-ar="Sections (Pages) Activé/Désactivé">Sections (Pages) Activé/Désactivé</span></h4>
                                    <div class="sections-manager">
                                        <div class="section-toggle active" data-section="home">
                                            <span data-fr="Accueil" data-en="Home" data-ar="الرئيسية">Accueil</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('home', this)"></div>
                                        </div>
                                        <div class="section-toggle active" data-section="about">
                                            <span data-fr="À propos" data-en="About" data-ar="من نحن">À propos</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('about', this)"></div>
                                        </div>
                                        <div class="section-toggle active" data-section="services">
                                            <span data-fr="Services" data-en="Services" data-ar="خدماتنا">Services</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('services', this)"></div>
                                        </div>
                                        <div class="section-toggle active" data-section="qualite">
                                            <span data-fr="Politique Qualité" data-en="Quality Policy" data-ar="سياسة الجودة">Politique Qualité</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('qualite', this)"></div>
                                        </div>
                                        <div class="section-toggle active" data-section="carriere">
                                            <span data-fr="Carrière" data-en="Career" data-ar="الوظائف">Carrière</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('carriere', this)"></div>
                                        </div>
                                        <div class="section-toggle active" data-section="contact">
                                            <span data-fr="Contact" data-en="Contact" data-ar="اتصل بنا">Contact</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('contact', this)"></div>
                                        </div>
                                        <div class="section-toggle active" data-section="testimonials">
                                            <span data-fr="Témoignages" data-en="Testimonials" data-ar="الشهادات">Témoignages</span>
                                            <div class="toggle-switch active functional-btn" onclick="toggleSection('testimonials', this)"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-envelope" aria-hidden="true"></i> <span data-fr="Email Centralisé POUR RECRUTEMENT" data-en="Centralized Email FOR RECRUITMENT" data-ar="Email Centralisé POUR RECRUTEMENT">Email Centralisé POUR RECRUTEMENT</span></h4>
                                    <div class="email-config">
                                        <div class="form-group">
                                            <label for="recruitmentEmail" data-fr="Email principal pour candidatures" data-en="Main email for applications" data-ar="Email principal pour candidatures">Email principal pour candidatures</label>
                                            <input type="email" id="recruitmentEmail" class="form-control" placeholder="recrutement@ae2i-aerh.com">
                                        </div>
                                        <div class="email-list" id="recruitmentEmailsList">
                                            <!-- Dynamic email list -->
                                        </div>
                                        <button class="btn btn-primary functional-btn" onclick="addRecruitmentEmail()">
                                            <i class="fas fa-plus"></i> <span data-fr="Ajouter Email" data-en="Add Email" data-ar="Ajouter Email">Ajouter Email</span>
                                        </button>
                                        <button class="btn btn-success functional-btn" onclick="saveRecruitmentEmails()">
                                            <i class="fas fa-save"></i> <span data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</span>
                                        </button>
                                    </div>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-video" aria-hidden="true"></i> <span data-fr="Fond du Footer" data-en="Footer Background" data-ar="Fond du Footer">Fond du Footer</span></h4>
                                    <div class="admin-media-manager" id="footerBackgroundManager">
                                        <div class="media-item functional-btn" onclick="setFooterBackground('gradient')">
                                            <div style="background: linear-gradient(135deg, #1e293b 0%, #0f1419 100%); width: 100%; height: 80px; border-radius: var(--border-radius-sm);"></div>
                                            <div class="media-item-overlay">
                                                <button><i class="fas fa-check"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label data-fr="Couleur dégradé du footer" data-en="Footer gradient color" data-ar="Couleur dégradé du footer">Couleur dégradé du footer</label>
                                        <div class="gradient-picker">
                                            <input type="color" id="footerGradientStart" value="#1e293b" class="color-picker-compact">
                                            <input type="color" id="footerGradientEnd" value="#0f1419" class="color-picker-compact">
                                            <div class="gradient-preview" id="footerGradientPreview" style="background: linear-gradient(135deg, #1e293b 0%, #0f1419 100%);"></div>
                                            <button class="btn btn-sm btn-primary functional-btn" onclick="applyFooterGradient()">Appliquer</button>
                                        </div>
                                    </div>
                                    <input type="file" id="footerBackgroundInput" accept="image/*,video/*" style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('footerBackgroundInput').click()">
                                        <i class="fas fa-upload"></i> <span data-fr="Téléverser Fond" data-en="Upload Background" data-ar="Téléverser Fond">Téléverser Fond</span>
                                    </button>
                                    <button class="btn btn-outline functional-btn" onclick="removeFooterBackground()">
                                        <i class="fas fa-times"></i> <span data-fr="Supprimer Fond" data-en="Remove Background" data-ar="Supprimer Fond">Supprimer Fond</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-language" aria-hidden="true"></i> <span data-fr="Langues & Localisation" data-en="Languages & Localization" data-ar="Langues & Localisation">Langues & Localisation</span></h4>
                                    <div class="form-group">
                                        <label for="defaultLanguage" data-fr="Langue par défaut" data-en="Default language" data-ar="Langue par défaut">Langue par défaut</label>
                                        <select id="defaultLanguage" class="form-control">
                                            <option value="fr" selected>Français</option>
                                            <option value="en">English</option>
                                        </select>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="checkbox" id="enableMultilingual" checked>
                                            <span data-fr="Activer le multilingue (FR/EN)" data-en="Enable multilingual (FR/EN)" data-ar="Activer le multilingue (FR/EN)">Activer le multilingue (FR/EN)</span>
                                        </label>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateLanguageSettings()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-palette" aria-hidden="true"></i> <span data-fr="Apparence" data-en="Appearance" data-ar="Apparence">Apparence</span></h4>
                                    <div style="margin-bottom: 15px;">
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="checkbox" id="enableDarkMode">
                                            <span data-fr="Activer le mode sombre par défaut" data-en="Enable dark mode by default" data-ar="Activer le mode sombre par défaut">Activer le mode sombre par défaut</span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label for="primaryColor" data-fr="Couleur principale" data-en="Primary color" data-ar="Couleur principale">Couleur principale</label>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <input type="color" id="primaryColor" value="#008fb3" class="color-picker-compact">
                                            <span style="font-size: var(--font-size-sm); color: var(--text-light);" id="primaryColorValue">#008fb3</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="secondaryColor" data-fr="Couleur secondaire" data-en="Secondary color" data-ar="Couleur secondaire">Couleur secondaire</label>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <input type="color" id="secondaryColor" value="#e63946" class="color-picker-compact">
                                            <span style="font-size: var(--font-size-sm); color: var(--text-light);" id="secondaryColorValue">#e63946</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateThemeSettings()">
                                        <i class="fas fa-paint-brush"></i> <span data-fr="Appliquer" data-en="Apply" data-ar="Appliquer">Appliquer</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-user-circle" aria-hidden="true"></i> <span data-fr="Profil Administrateur" data-en="Administrator Profile" data-ar="Profil Administrateur">Profil Administrateur</span></h4>
                                    <div class="form-group">
                                        <label for="adminName" data-fr="Nom" data-en="Name" data-ar="Nom">Nom</label>
                                        <input type="text" id="adminName" class="form-control" value="Administrateur">
                                    </div>
                                    <div class="form-group">
                                        <label for="adminEmail" data-fr="Email" data-en="Email" data-ar="البريد الإلكتروني">Email</label>
                                        <input type="email" id="adminEmail" class="form-control" value="selmabdf@gmail.com">
                                    </div>
                                    <div class="form-group">
                                        <label for="adminPassword" data-fr="Nouveau mot de passe" data-en="New password" data-ar="Nouveau mot de passe">Nouveau mot de passe</label>
                                        <input type="password" id="adminPassword" class="form-control">
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateAdminProfile()">
                                        <i class="fas fa-save"></i> <span data-fr="Mettre à jour" data-en="Update" data-ar="Mettre à jour">Mettre à jour</span>
                                    </button>
                                </div>
                            </div>

                            <!-- /* ADD: admin-toggle-socials - Control social networks visibility */ -->
                            <div class="admin-grid" style="margin-top: var(--spacing-xl);">
                                <div class="admin-card">
                                    <h4><i class="fas fa-share-alt" aria-hidden="true"></i> <span data-fr="Contrôle des Réseaux Sociaux" data-en="Social Networks Control" data-ar="Contrôle des Réseaux Sociaux">Contrôle des Réseaux Sociaux</span></h4>
                                    <p style="color: var(--text-light); margin-bottom: var(--spacing-md);" data-fr="Activer ou désactiver l'affichage des liens vers les réseaux sociaux sur le site." data-en="Enable or disable social network links display on the website." data-ar="Activer ou désactiver l'affichage des liens vers les réseaux sociaux sur le site.">
                                        Activer ou désactiver l'affichage des liens vers les réseaux sociaux sur le site.
                                    </p>
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: var(--bg-alt); border-radius: var(--border-radius); margin-bottom: 12px;">
                                        <span data-fr="Réseaux sociaux actifs" data-en="Social networks active" data-ar="Réseaux sociaux actifs">Réseaux sociaux actifs</span>
                                        <div class="toggle-switch active functional-btn" id="socialsToggle" onclick="toggleSocialNetworks(this)"></div>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="applySocialsSettings()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</span>
                                    </button>
                                </div>

                                <!-- /* ADD: admin-database-export-clear - Database management tools */ -->
                                <div class="admin-card">
                                    <h4><i class="fas fa-database" aria-hidden="true"></i> <span data-fr="Gestion de la Base de Données" data-en="Database Management" data-ar="Gestion de la Base de Données">Gestion de la Base de Données</span></h4>
                                    <p style="color: var(--text-light); margin-bottom: var(--spacing-md);" data-fr="Exporter ou vider l'intégralité de la base de données (candidatures, offres, paramètres)." data-en="Export or clear the entire database (applications, offers, settings)." data-ar="Exporter ou vider l'intégralité de la base de données (candidatures, offres, paramètres).">
                                        Exporter ou vider l'intégralité de la base de données (candidatures, offres, paramètres).
                                    </p>
                                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                                        <button class="btn btn-primary functional-btn" onclick="exportCompleteDatabase()">
                                            <i class="fas fa-file-export"></i> <span data-fr="Exporter la base (JSON)" data-en="Export database (JSON)" data-ar="Exporter la base (JSON)">Exporter la base (JSON)</span>
                                        </button>
                                        <button class="btn btn-warning functional-btn" onclick="exportCompleteDatabaseZip()">
                                            <i class="fas fa-file-archive"></i> <span data-fr="Exporter la base (ZIP)" data-en="Export database (ZIP)" data-ar="Exporter la base (ZIP)">Exporter la base (ZIP)</span>
                                        </button>
                                        <button class="btn btn-danger functional-btn" onclick="confirmClearDatabase()">
                                            <i class="fas fa-trash-alt"></i> <span data-fr="Vider la base de données" data-en="Clear database" data-ar="Vider la base de données">Vider la base de données</span>
                                        </button>
                                    </div>
                                    <div style="margin-top: 16px; padding: 12px; background: rgba(230, 57, 70, 0.1); border-left: 4px solid var(--danger); border-radius: var(--border-radius);">
                                        <p style="margin: 0; color: var(--danger); font-weight: 600; font-size: var(--font-size-sm);">
                                            <i class="fas fa-exclamation-triangle"></i>
                                            <span data-fr="ATTENTION: Le vidage de la base est IRRÉVERSIBLE. Exportez avant!" data-en="WARNING: Database clearing is IRREVERSIBLE. Export first!" data-ar="ATTENTION: Le vidage de la base est IRRÉVERSIBLE. Exportez avant!">
                                                ATTENTION: Le vidage de la base est IRRÉVERSIBLE. Exportez avant!
                                            </span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Services Tab -->
                    <div class="admin-tab-content" id="admin-tab-services">
                        <div class="admin-section">
                            <h3><i class="fas fa-tools" aria-hidden="true"></i> <span data-fr="Gestion des Services" data-en="Service Management" data-ar="Gestion des Services">Gestion des Services</span></h3>
                            <button class="btn btn-primary functional-btn" onclick="openServiceModal()">
                                <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Ajouter un service" data-en="Add a service" data-ar="Ajouter un service">Ajouter un service</span>
                            </button>
                            <div id="adminServicesList" style="margin-top: var(--spacing-lg);">
                                <!-- Services list will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Clients Tab -->
                    <div class="admin-tab-content" id="admin-tab-clients">
                        <div class="admin-section">
                            <h3><i class="fas fa-handshake" aria-hidden="true"></i> <span data-fr="Gestion des Clients" data-en="Client Management" data-ar="Gestion des Clients">Gestion des Clients</span></h3>
                            <button class="btn btn-primary functional-btn" onclick="openClientModal()">
                                <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Ajouter un client" data-en="Add a client" data-ar="Ajouter un client">Ajouter un client</span>
                            </button>
                            <div id="adminClientsList" style="margin-top: var(--spacing-lg);">
                                <!-- Clients list will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Testimonials Tab -->
                    <div class="admin-tab-content" id="admin-tab-testimonials">
                        <div class="admin-section">
                            <h3><i class="fas fa-comments" aria-hidden="true"></i> <span data-fr="Gestion des Témoignages" data-en="Testimonial Management" data-ar="Gestion des Témoignages">Gestion des Témoignages</span></h3>
                            <button class="btn btn-primary functional-btn" onclick="openTestimonialModal()">
                                <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Ajouter un témoignage" data-en="Add a testimonial" data-ar="Ajouter un témoignage">Ajouter un témoignage</span>
                            </button>
                            <div id="adminTestimonialsList" style="margin-top: var(--spacing-lg);">
                                <!-- Testimonials list will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Recruitment Tab -->
                    <div class="admin-tab-content" id="admin-tab-recruitment">
                        <div class="admin-section">
                            <h3><i class="fas fa-users" aria-hidden="true"></i> <span data-fr="Gestion Recrutement" data-en="Recruitment Management" data-ar="Gestion Recrutement">Gestion Recrutement</span></h3>
                            <button class="btn btn-primary functional-btn" onclick="openJobModal()">
                                <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Créer une offre" data-en="Create an offer" data-ar="Créer une offre">Créer une offre</span>
                            </button>
                            <div id="adminJobsList" style="margin-top: var(--spacing-lg);">
                                <!-- Jobs list will be populated by JavaScript -->
                            </div>
                            <h3 style="margin-top: var(--spacing-xl);"><i class="fas fa-database" aria-hidden="true"></i> <span data-fr="Base de données CV" data-en="CV Database" data-ar="Base de données CV">Base de données CV</span></h3>

                            <!-- /* ADD: candidate-filter-by-response */ -->
                            <!-- Barre de recherche textuelle -->
                            <div style="margin-bottom: var(--spacing-md);">
                                <input type="text" id="adminSearchBar" class="form-control" placeholder="🔍 Rechercher un candidat, un poste ou un diplôme..." style="width: 100%; padding: 12px 16px; font-size: var(--font-size-base); border-radius: var(--border-radius-lg);">
                            </div>

                            <!-- Panneau de filtres multi-critères (identique aux autres dashboards) -->
                            <div style="background: var(--glass-bg); border: 2px solid var(--border); border-radius: var(--border-radius-xl); padding: var(--spacing-lg); margin-bottom: var(--spacing-lg); backdrop-filter: var(--backdrop-blur);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--spacing-md);">
                                    <h4 style="display: flex; align-items: center; gap: 8px; margin: 0;">
                                        <i class="fas fa-filter"></i>
                                        <span data-fr="Filtres Avancés" data-en="Advanced Filters" data-ar="Filtres Avancés">Filtres Avancés</span>
                                    </h4>
                                    <!-- /* ADD: candidate-filter-buttons */ -->
                                    <div style="display: flex; gap: 8px;">
                                        <button class="btn btn-sm btn-primary functional-btn" onclick="applyAdminFilters()" style="font-size: var(--font-size-sm);">
                                            <i class="fas fa-search"></i> <span data-fr="Rechercher" data-en="Search" data-ar="Rechercher">Rechercher</span>
                                        </button>
                                        <button class="btn btn-sm btn-outline functional-btn" onclick="resetAdminFilters()" style="font-size: var(--font-size-sm);">
                                            <i class="fas fa-redo"></i> <span data-fr="Réinitialiser" data-en="Reset" data-ar="Réinitialiser">Réinitialiser</span>
                                        </button>
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-md);">
                                    <!-- Filtre par Offre d'emploi -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-briefcase"></i> <span data-fr="Offre d'emploi" data-en="Job Offer" data-ar="Offre d'emploi">Offre d'emploi</span>
                                        </label>
                                        <select id="adminOffreFilter" class="form-control admin-filter">
                                            <option value="all" data-fr="Toutes les offres" data-en="All offers" data-ar="Toutes les offres">Toutes les offres</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Statut -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-toggle-on"></i> <span data-fr="Statut" data-en="Status" data-ar="Statut">Statut</span>
                                        </label>
                                        <select id="adminStatusFilter" class="form-control admin-filter">
                                            <option value="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</option>
                                            <option value="pending" data-fr="En attente" data-en="Pending" data-ar="En attente">En attente</option>
                                            <option value="processed" data-fr="Traités" data-en="Processed" data-ar="Traités">Traités</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Domaine -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-briefcase"></i> <span data-fr="Domaine" data-en="Domain" data-ar="Domaine">Domaine</span>
                                        </label>
                                        <select id="adminDomaineFilter" class="form-control admin-filter" multiple style="height: auto;">
                                            <option value="Administration, Moyens Généraux">Administration, Moyens Généraux</option>
                                            <option value="Comptabilité, Finance">Comptabilité, Finance</option>
                                            <option value="Banques Et Assurances">Banques Et Assurances</option>
                                            <option value="RH, Formation">RH, Formation</option>
                                            <option value="Commercial, Vente">Commercial, Vente</option>
                                            <option value="Marketing, Création, Design">Marketing, Création, Design</option>
                                            <option value="Informatique, Système D’Information, Internet">Informatique, Système D’Information, Internet</option>
                                            <option value="Télécommunication, Réseau">Télécommunication, Réseau</option>
                                            <option value="Métier BTP, Architecture">Métier BTP, Architecture</option>
                                            <option value="Ingénierie, Études, Projets">Ingénierie, Études, Projets</option>
                                            <option value="Logistique, Achat, Stock, Transport">Logistique, Achat, Stock, Transport</option>
                                            <option value="Production, Industrie, Méthode">Production, Industrie, Méthode</option>
                                            <option value="Maintenance, Entretien">Maintenance, Entretien</option>
                                            <option value="Qualité, Sécurité, Environnement">Qualité, Sécurité, Environnement</option>
                                            <option value="Ouvriers Qualifiés, Chauffeur">Ouvriers Qualifiés, Chauffeur</option>
                                            <option value="Hôtellerie, Loisirs">Hôtellerie, Loisirs</option>
                                            <option value="Autres">Autres</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Diplôme -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-graduation-cap"></i> <span data-fr="Diplôme" data-en="Degree" data-ar="Diplôme">Diplôme</span>
                                        </label>
                                        <select id="adminDiplomeFilter" class="form-control admin-filter" multiple style="height: auto;">
                                            <option value="Sans Diplôme">Sans Diplôme</option>
                                            <option value="bac">Baccalauréat</option>
                                            <option value="licence">Licence</option>
                                            <option value="master">Master</option>
                                            <option value="ingenieur">Ingénieur</option>
                                            <option value="doctorat">Doctorat</option>
                                            <option value="technicien">Technicien Supérieur</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Permis -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-id-card"></i> <span data-fr="Type de Permis" data-en="License Type" data-ar="Type de Permis">Type de Permis</span>
                                        </label>
                                        <select id="adminPermisFilter" class="form-control admin-filter" multiple style="height: auto;">
                                            <option value="B">Permis A</option>
                                            <option value="B">Permis B</option>
                                            <option value="C">Permis C</option>
                                            <option value="D">Permis D</option>
                                            <option value="aucun">Aucun</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Wilaya -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-map-marker-alt"></i> <span data-fr="Wilaya" data-en="Province" data-ar="Wilaya">Wilaya</span>
                                        </label>
                                        <!-- FIX: candidate-filter-sync - Enhanced mobile scrolling -->
                                        <select id="adminWilayaFilter" class="form-control admin-filter" multiple style="height: auto; min-height: 150px; max-height: 60vh; overflow-y: auto; padding-bottom: 16px;">
                                            <option value="01">Adrar</option>
                                            <option value="02">Chlef</option>
                                            <option value="03">Laghouat</option>
                                            <option value="04">Oum El Bouaghi</option>
                                            <option value="05">Batna</option>
                                            <option value="06">Béjaïa</option>
                                            <option value="07">Biskra</option>
                                            <option value="08">Béchar</option>
                                            <option value="09">Blida</option>
                                            <option value="10">Bouira</option>
                                            <option value="11">Tamanrasset</option>
                                            <option value="12">Tébessa</option>
                                            <option value="13">Tlemcen</option>
                                            <option value="14">Tiaret</option>
                                            <option value="15">Tizi Ouzou</option>
                                            <option value="16">Alger</option>
                                            <option value="17">Djelfa</option>
                                            <option value="18">Jijel</option>
                                            <option value="19">Sétif</option>
                                            <option value="20">Saïda</option>
                                            <option value="21">Skikda</option>
                                            <option value="22">Sidi Bel Abbès</option>
                                            <option value="23">Annaba</option>
                                            <option value="24">Guelma</option>
                                            <option value="25">Constantine</option>
                                            <option value="26">Médéa</option>
                                            <option value="27">Mostaganem</option>
                                            <option value="28">M’Sila</option>
                                            <option value="29">Mascara</option>
                                            <option value="30">Ouargla</option>
                                            <option value="31">Oran</option>
                                            <option value="32">El Bayadh</option>
                                            <option value="33">Illizi</option>
                                            <option value="34">Bordj Bou Arreridj</option>
                                            <option value="35">Boumerdès</option>
                                            <option value="36">El Tarf</option>
                                            <option value="37">Tindouf</option>
                                            <option value="38">Tissemsilt</option>
                                            <option value="39">El Oued</option>
                                            <option value="40">Khenchela</option>
                                            <option value="41">Souk Ahras</option>
                                            <option value="42">Tipaza</option>
                                            <option value="43">Mila</option>
                                            <option value="44">Aïn Defla</option>
                                            <option value="45">Naâma</option>
                                            <option value="46">Aïn Témouchent</option>
                                            <option value="47">Ghardaïa</option>
                                            <option value="48">Relizane</option>
                                            <option value="49">Timimoun</option>
                                            <option value="50">Bordj Badji Mokhtar</option>
                                            <option value="51">Ouled Djellal</option>
                                            <option value="52">Béni Abbès</option>
                                            <option value="53">In Salah</option>
                                            <option value="54">In Guezzam</option>
                                            <option value="55">Touggourt</option>
                                            <option value="56">Djanet</option>
                                            <!-- FIX: candidate-filter-sync - Unified spelling -->
                                            <option value="57">El M'Ghair</option>
                                            <option value="58">El Meniaa</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Âge -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-calendar"></i> <span data-fr="Âge" data-en="Age" data-ar="Âge">Âge</span>
                                        </label>
                                        <div style="display: flex; gap: 8px; align-items: center;">
                                            <input type="number" id="adminAgeMin" class="form-control admin-filter" placeholder="Min" min="18" max="65" style="width: 80px;">
                                            <span>-</span>
                                            <input type="number" id="adminAgeMax" class="form-control admin-filter" placeholder="Max" min="18" max="65" style="width: 80px;">
                                            <span data-fr="ans" data-en="years" data-ar="سنوات">ans</span>
                                        </div>
                                    </div>

                                    <!-- Filtre Préavis -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-clock"></i> <span data-fr="Préavis" data-en="Notice Period" data-ar="مدة الإشعار المسبق">Préavis</span>
                                        </label>
                                        <select id="adminPreavisFilter" class="form-control admin-filter">
                                            <option value="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</option>
                                            <option value="immediat">Immédiat</option>
                                            <option value="1mois">1 mois</option>
                                            <option value="2mois">2 mois</option>
                                            <option value="3mois">3 mois et +</option>
                                        </select>
                                    </div>

                                    <!-- Filtre Expérience -->
                                    <div class="form-group" style="margin: 0;">
                                        <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                            <i class="fas fa-briefcase"></i> <span data-fr="Expérience" data-en="Experience" data-ar="الخبرة">Expérience</span>
                                        </label>
                                        <div style="display: flex; gap: 8px; align-items: center;">
                                            <input type="number" id="adminExperienceMin" class="form-control admin-filter" placeholder="Min" min="0" max="40" style="width: 80px;">
                                            <span>-</span>
                                            <input type="number" id="adminExperienceMax" class="form-control admin-filter" placeholder="Max" min="0" max="40" style="width: 80px;">
                                            <span data-fr="ans" data-en="years" data-ar="سنوات">ans</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Boutons d'export améliorés -->
                            <div style="display: flex; gap: 12px; margin-bottom: var(--spacing-md); flex-wrap: wrap;">
                                <button class="btn btn-primary functional-btn" onclick="exportAdminFilteredCandidates('pdf')">
                                    <i class="fas fa-file-pdf"></i> <span data-fr="Exporter PDF" data-en="Export PDF" data-ar="تصدير PDF">Exporter PDF</span>
                                </button>
                                <button class="btn btn-success functional-btn" onclick="exportAdminFilteredCandidates('excel')">
                                    <i class="fas fa-file-excel"></i> <span data-fr="Exporter Excel" data-en="Export Excel" data-ar="تصدير Excel">Exporter Excel</span>
                                </button>
                                <button class="btn btn-outline functional-btn" onclick="exportAllCVs()">
                                    <i class="fas fa-download"></i> <span data-fr="Exporter tous les CV (ZIP)" data-en="Export all CVs (ZIP)" data-ar="Exporter tous les CV (ZIP)">Exporter tous les CV (ZIP)</span>
                                </button>
                                <button class="btn btn-outline functional-btn" onclick="exportCVDatabase('json')">
                                    <i class="fas fa-file-code"></i> <span data-fr="Export JSON" data-en="Export JSON" data-ar="Export JSON">Export JSON</span>
                                </button>
                                <span id="adminFilterCount" style="display: flex; align-items: center; padding: 8px 16px; background: var(--info); color: white; border-radius: var(--border-radius-lg); font-weight: 600;">
                                    <i class="fas fa-list"></i>&nbsp; <span id="adminFilterCountNumber">0</span> <span data-fr=" candidatures" data-en=" applications" data-ar=" candidatures"> candidatures</span>
                                </span>
                            </div>

                            <div id="adminCvDatabase">
                                <!-- CV database will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Contact Tab avec réseaux sociaux API détaillés -->
                    <div class="admin-tab-content" id="admin-tab-contact">
                        <div class="admin-section">
                            <h3><i class="fas fa-address-book" aria-hidden="true"></i> <span data-fr="Gestion Contact & Réseaux Sociaux" data-en="Contact & Social Networks Management" data-ar="Gestion Contact & Réseaux Sociaux">Gestion Contact & Réseaux Sociaux</span></h3>
                            
                            <div class="admin-grid">
                                <div class="admin-card">
                                    <h4><i class="fas fa-address-card" aria-hidden="true"></i> <span data-fr="Informations de Contact" data-en="Contact Information" data-ar="Informations de Contact">Informations de Contact</span></h4>
                                    <div class="form-group">
                                        <label for="contactAddressAlger" data-fr="Adresse Siège Alger" data-en="Algiers Headquarters Address" data-ar="Adresse Siège Alger">Adresse Siège Alger</label>
                                        <textarea id="contactAddressAlger" class="form-control" rows="2">126 Coopérative ESSALEM 2 Birkhadem 16029 - Alger</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="contactAddressOran" data-fr="Adresse Siège Oran" data-en="Oran Headquarters Address" data-ar="Adresse Siège Oran">Adresse Siège Oran</label>
                                        <textarea id="contactAddressOran" class="form-control" rows="2">06,07 zone de siéges usto Oran</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="contactPhoneAlger" data-fr="Téléphone Alger" data-en="Algiers Phone" data-ar="Téléphone Alger">Téléphone Alger</label>
                                        <input type="text" id="contactPhoneAlger" class="form-control" value="0770 – 284 - 828 / 0770 – 431 - 516">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactPhoneOran" data-fr="Téléphone Oran" data-en="Oran Phone" data-ar="Téléphone Oran">Téléphone Oran</label>
                                        <input type="text" id="contactPhoneOran" class="form-control" value="0770 - 177 - 776 / 046 - 821 - 393">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactEmailAdmin" data-fr="Email" data-en="Email" data-ar="البريد الإلكتروني">Email</label>
                                        <input type="email" id="contactEmailAdmin" class="form-control" value="ae2i.algerie@ae2i-aerh.com">
                                    </div>
                                    <div class="form-group">
                                        <label for="googleMapsUrl" data-fr="URL Google Maps" data-en="Google Maps URL" data-ar="URL Google Maps">URL Google Maps</label>
                                        <input type="url" id="googleMapsUrl" class="form-control" placeholder="https://www.google.com/maps/embed?pb=...">
                                    </div>
                                    <div class="form-group">
                                        <label for="contactHours" data-fr="Horaires d'ouverture" data-en="Opening hours" data-ar="Horaires d'ouverture">Horaires d'ouverture</label>
                                        <input type="text" id="contactHours" class="form-control" value="Dim-Jeu: 09h00 - 17h00">
                                    </div>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-share-alt" aria-hidden="true"></i> <span data-fr="Réseaux Sociaux avec API Détaillées" data-en="Social Networks with Detailed APIs" data-ar="Réseaux Sociaux avec API Détaillées">Réseaux Sociaux avec API Détaillées</span></h4>
                                    <div class="social-links-manager" id="socialLinksManager">
                                        <!-- LinkedIn avec détails API -->
                                        
                                        <div class="admin-card">
                                            <h3><i class="fas fa-share-alt"></i> Gestion Individuelle des Réseaux Sociaux</h3>
                                            <p style="margin-bottom: var(--spacing-md); color: var(--text-light); font-size: var(--font-size-sm);">
                                                Activez ou désactivez chaque réseau social individuellement
                                            </p>
                                            <div class="social-controls-grid">
                                                <div class="social-control-item">
                                                    <div class="social-control-info">
                                                        <i class="fab fa-linkedin-in"></i>
                                                        <span>LinkedIn</span>
                                                    </div>
                                                    <button class="toggle-switch active" onclick="toggleIndividualSocial('linkedin', this)" data-network="linkedin">
                                                        <span class="toggle-slider"></span>
                                                    </button>
                                                </div>
                                                <div class="social-control-item">
                                                    <div class="social-control-info">
                                                        <i class="fab fa-twitter"></i>
                                                        <span>Twitter / X</span>
                                                    </div>
                                                    <button class="toggle-switch active" onclick="toggleIndividualSocial('twitter', this)" data-network="twitter">
                                                        <span class="toggle-slider"></span>
                                                    </button>
                                                </div>
                                                <div class="social-control-item">
                                                    <div class="social-control-info">
                                                        <i class="fab fa-facebook-f"></i>
                                                        <span>Facebook</span>
                                                    </div>
                                                    <button class="toggle-switch active" onclick="toggleIndividualSocial('facebook', this)" data-network="facebook">
                                                        <span class="toggle-slider"></span>
                                                    </button>
                                                </div>
                                                <div class="social-control-item">
                                                    <div class="social-control-info">
                                                        <i class="fab fa-instagram"></i>
                                                        <span>Instagram</span>
                                                    </div>
                                                    <button class="toggle-switch active" onclick="toggleIndividualSocial('instagram', this)" data-network="instagram">
                                                        <span class="toggle-slider"></span>
                                                    </button>
                                                </div>
                                                <div class="social-control-item">
                                                    <div class="social-control-info">
                                                        <i class="fab fa-youtube"></i>
                                                        <span>YouTube</span>
                                                    </div>
                                                    <button class="toggle-switch active" onclick="toggleIndividualSocial('youtube', this)" data-network="youtube">
                                                        <span class="toggle-slider"></span>
                                                    </button>
                                                </div>
                                                <div class="social-control-item">
                                                    <div class="social-control-info">
                                                        <i class="fab fa-tiktok"></i>
                                                        <span>TikTok</span>
                                                    </div>
                                                    <button class="toggle-switch active" onclick="toggleIndividualSocial('tiktok', this)" data-network="tiktok">
                                                        <span class="toggle-slider"></span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="social-link-item">
                                            <i class="fab fa-linkedin" style="color: var(--primary); font-size: var(--font-size-2xl);"></i>
                                            <div style="flex: 1;">
                                                <label style="font-weight: 700; margin-bottom: 8px; display: block; color: var(--primary);">LinkedIn Company</label>
                                                <input type="url" id="linkedinUrl" class="form-control" placeholder="https://www.linkedin.com/company/ae2i-algerie" style="margin-bottom: 12px;">
                                                <div style="font-size: var(--font-size-xs); color: var(--text-light); background: linear-gradient(135deg, rgba(14, 122, 158, 0.1) 0%, rgba(0, 168, 150, 0.05) 100%); padding: 8px; border-radius: var(--border-radius-sm); border-left: 3px solid var(--primary);">
                                                    <strong>API LinkedIn Company:</strong> Partage automatique des offres d'emploi, mise à jour du profil entreprise, publication des actualités et événements, gestion des candidatures via LinkedIn Recruiter
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Facebook avec détails API -->
                                        <div class="social-link-item">
                                            <i class="fab fa-facebook" style="color: var(--primary); font-size: var(--font-size-2xl);"></i>
                                            <div style="flex: 1;">
                                                <label style="font-weight: 700; margin-bottom: 8px; display: block; color: var(--primary);">Facebook Business</label>
                                                <input type="url" id="facebookUrl" class="form-control" placeholder="https://www.facebook.com/ae2ialgerie" style="margin-bottom: 12px;">
                                                <div style="font-size: var(--font-size-xs); color: var(--text-light); background: rgba(14, 122, 158, 0.1); padding: 8px; border-radius: var(--border-radius-sm); border-left: 3px solid var(--primary);">
                                                    <strong>API Facebook Graph:</strong> Publication automatique des actualités, gestion des événements, campagnes publicitaires ciblées, analytics des interactions et engagement communauté
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Twitter/X avec détails API -->
                                        <div class="social-link-item">
                                            <i class="fab fa-twitter" style="color: var(--primary); font-size: var(--font-size-2xl);"></i>
                                            <div style="flex: 1;">
                                                <label style="font-weight: 700; margin-bottom: 8px; display: block; color: var(--primary);">Twitter/X Business</label>
                                                <input type="url" id="twitterUrl" class="form-control" placeholder="https://twitter.com/ae2i_algerie" style="margin-bottom: 12px;">
                                                <div style="font-size: var(--font-size-xs); color: var(--text-light); background: rgba(14, 122, 158, 0.1); padding: 8px; border-radius: var(--border-radius-sm); border-left: 3px solid var(--primary);">
                                                    <strong>API Twitter v2:</strong> Tweets automatiques des nouvelles offres, threads techniques, veille technologique, engagement avec la communauté ingénierie, analytics des mentions
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Instagram avec détails API -->
                                        <div class="social-link-item">
                                            <i class="fab fa-instagram" style="color: var(--primary); font-size: var(--font-size-2xl);"></i>
                                            <div style="flex: 1;">
                                                <label style="font-weight: 700; margin-bottom: 8px; display: block; color: var(--primary);">Instagram Business</label>
                                                <input type="url" id="instagramUrl" class="form-control" placeholder="https://www.instagram.com/ae2i.algerie" style="margin-bottom: 12px;">
                                                <div style="font-size: var(--font-size-xs); color: var(--text-light); background: rgba(14, 122, 158, 0.1); padding: 8px; border-radius: var(--border-radius-sm); border-left: 3px solid var(--primary);">
                                                    <strong>API Instagram Basic Display:</strong> Stories des projets en cours, photos des installations, behind-the-scenes de l'équipe, highlights des réalisations, IGTV formations techniques
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- YouTube avec détails API -->
                                        <div class="social-link-item">
                                            <i class="fab fa-youtube" style="color: var(--primary); font-size: var(--font-size-2xl);"></i>
                                            <div style="flex: 1;">
                                                <label style="font-weight: 700; margin-bottom: 8px; display: block; color: var(--primary);">YouTube Channel</label>
                                                <input type="url" id="youtubeUrl" class="form-control" placeholder="https://www.youtube.com/@ae2ialgerie" style="margin-bottom: 12px;">
                                                <div style="font-size: var(--font-size-xs); color: var(--text-light); background: rgba(14, 122, 158, 0.1); padding: 8px; border-radius: var(--border-radius-sm); border-left: 3px solid var(--primary);">
                                                    <strong>API YouTube Data v3:</strong> Vidéos techniques et formations, documentaires projets, webinaires expertise, tutoriels maintenance, analytics des vues et engagement
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- TikTok avec détails API -->
                                        <div class="social-link-item">
                                            <i class="fab fa-tiktok" style="color: var(--primary); font-size: var(--font-size-2xl);"></i>
                                            <div style="flex: 1;">
                                                <label style="font-weight: 700; margin-bottom: 8px; display: block; color: var(--primary);">TikTok Business</label>
                                                <input type="url" id="tiktokUrl" class="form-control" placeholder="https://www.tiktok.com/@ae2i.algerie" style="margin-bottom: 12px;">
                                                <div style="font-size: var(--font-size-xs); color: var(--text-light); background: rgba(14, 122, 158, 0.1); padding: 8px; border-radius: var(--border-radius-sm); border-left: 3px solid var(--primary);">
                                                    <strong>API TikTok for Business:</strong> Contenu éducatif ingénierie courte durée, vulgarisation technique, recrutement créatif, coulisses projets, tendances industrie 4.0
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="saveSocialNetworks()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder Réseaux" data-en="Save Networks" data-ar="Sauvegarder Réseaux">Sauvegarder Réseaux</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-envelope-open" aria-hidden="true"></i> <span data-fr="Messages Reçus" data-en="Received Messages" data-ar="Messages Reçus">Messages Reçus</span></h4>
                                    <div id="contactMessagesList" style="max-height: 400px; overflow-y: auto;">
                                        <!-- Contact messages will be populated by JavaScript -->
                                    </div>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-chart-pie" aria-hidden="true"></i> <span data-fr="Statistiques Contact" data-en="Contact Statistics" data-ar="Statistiques Contact">Statistiques Contact</span></h4>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                        <div style="background: var(--bg-alt); padding: 16px; border-radius: var(--border-radius); text-align: center;">
                                            <div style="font-size: var(--font-size-2xl); font-weight: 800; color: var(--primary);" id="totalMessages">0</div>
                                            <div style="color: var(--text-light);" data-fr="Messages Total" data-en="Total Messages" data-ar="Messages Total">Messages Total</div>
                                        </div>
                                        <div style="background: var(--bg-alt); padding: 16px; border-radius: var(--border-radius); text-align: center;">
                                            <div style="font-size: var(--font-size-2xl); font-weight: 800; color: var(--success);" id="unreadMessages">0</div>
                                            <div style="color: var(--text-light);" data-fr="Non Lus" data-en="Unread" data-ar="Non Lus">Non Lus</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <button class="btn btn-success functional-btn" onclick="saveContactSettings()">
                                <i class="fas fa-save"></i> <span data-fr="Sauvegarder Contact" data-en="Save Contact" data-ar="Sauvegarder Contact">Sauvegarder Contact</span>
                            </button>
                        </div>
                    </div>

                    <!-- ISO & Media Tab -->
                    <div class="admin-tab-content" id="admin-tab-iso">
                        <div class="admin-section">
                            <h3><i class="fas fa-certificate" aria-hidden="true"></i> <span data-fr="Gestion ISO & Médias" data-en="ISO & Media Management" data-ar="Gestion ISO & Médias">Gestion ISO & Médias</span></h3>
                            <div class="admin-grid">
                                <div class="admin-card">
                                    <h4>QR Code ISO</h4>
                                    <img id="adminIsoQrPreview" src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop" alt="QR Code ISO" style="width: 200px; margin: 10px 0;" loading="lazy">
                                    <input type="file" id="adminIsoQrInput" accept="image/*" style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('adminIsoQrInput').click()">
                                        <i class="fas fa-upload" aria-hidden="true"></i> <span data-fr="Changer QR Code" data-en="Change QR Code" data-ar="Changer QR Code">Changer QR Code</span>
                                    </button>
                                </div>
                                <div class="admin-card">
                                    <h4 data-fr="Certificat ISO" data-en="ISO Certificate" data-ar="Certificat ISO">Certificat ISO</h4>
                                    <img id="adminIsoCertPreview" src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=280&fit=crop" alt="Certificat ISO" style="width: 200px; margin: 10px 0;" loading="lazy">
                                    <input type="file" id="adminIsoCertInput" accept="image/*" style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('adminIsoCertInput').click()">
                                        <i class="fas fa-upload" aria-hidden="true"></i> <span data-fr="Changer Certificat" data-en="Change Certificate" data-ar="Changer Certificat">Changer Certificat</span>
                                    </button>
                                </div>
                                <div class="admin-card">
                                    <h4 data-fr="Brochure PDF" data-en="PDF Brochure" data-ar="Brochure PDF">Brochure PDF</h4>
                                    <div id="adminBrochureInfo" style="margin: 10px 0; padding: 10px; background: var(--bg-alt); border-radius: var(--border-radius);">
                                        <i class="fas fa-file-pdf" aria-hidden="true"></i> <span data-fr="Aucune brochure" data-en="No brochure" data-ar="Aucune brochure">Aucune brochure</span>
                                    </div>
                                    <input type="file" id="adminBrochureInput" accept=".pdf,image/*" style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('adminBrochureInput').click()">
                                        <i class="fas fa-upload" aria-hidden="true"></i> <span data-fr="Téléverser Brochure" data-en="Upload Brochure" data-ar="Téléverser Brochure">Téléverser Brochure</span>
                                    </button>
                                </div>
                                <div class="admin-card">
                                    <h4><i class="fas fa-images" aria-hidden="true"></i> <span data-fr="Galerie d'images" data-en="Image gallery" data-ar="Galerie d'images">Galerie d'images</span></h4>
                                    <div id="adminGalleryPreview" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px 0;">
                                        <!-- Gallery images will be populated -->
                                    </div>
                                    <input type="file" id="adminGalleryInput" accept="image/*" multiple style="display: none;">
                                    <button class="btn btn-primary functional-btn" onclick="document.getElementById('adminGalleryInput').click()">
                                        <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Ajouter Images" data-en="Add Images" data-ar="Ajouter Images">Ajouter Images</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pages Tab -->
                    <div class="admin-tab-content" id="admin-tab-pages">
                        <div class="admin-section">
                            <h3><i class="fas fa-file-alt" aria-hidden="true"></i> <span data-fr="Gestion des Pages" data-en="Page Management" data-ar="Gestion des Pages">Gestion des Pages</span></h3>
                            <div class="form-group">
                                <label for="pageLocation" data-fr="Ajouter dans le menu" data-en="Add to menu" data-ar="Ajouter dans le menu">Ajouter dans le menu</label>
                                <select id="pageLocation" class="form-control">
                                    <option value="main" data-fr="Menu principal" data-en="Main menu" data-ar="Menu principal">Menu principal</option>
                                    <option value="footer" data-fr="Footer" data-en="Footer" data-ar="Footer">Footer</option>
                                    <option value="services" data-fr="Sous-menu Services" data-en="Services submenu" data-ar="Sous-menu Services">Sous-menu Services</option>
                                    <option value="about" data-fr="Sous-menu À propos" data-en="About submenu" data-ar="Sous-menu À propos">Sous-menu À propos</option>
                                </select>
                            </div>
                            <button class="btn btn-primary functional-btn" onclick="openPageModal()">
                                <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Créer une page" data-en="Create a page" data-ar="Créer une page">Créer une page</span>
                            </button>
                            <div id="adminPagesList" style="margin-top: var(--spacing-lg);">
                                <!-- Pages list will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Users Tab avec nouveau rôle "lecteur" -->
                    <div class="admin-tab-content" id="admin-tab-users">
                        <div class="admin-section">
                            <h3><i class="fas fa-user-shield" aria-hidden="true"></i> <span data-fr="Gestion des Utilisateurs" data-en="User Management" data-ar="Gestion des Utilisateurs">Gestion des Utilisateurs</span></h3>
                            <button class="btn btn-primary functional-btn" onclick="openUserModal()">
                                <i class="fas fa-user-plus" aria-hidden="true"></i> <span data-fr="Ajouter un utilisateur" data-en="Add a user" data-ar="Ajouter un utilisateur">Ajouter un utilisateur</span>
                            </button>
                            <div id="adminUsersList" style="margin-top: var(--spacing-lg);">
                                <!-- Users list will be populated by JavaScript -->
                            </div>
                            <h3 style="margin-top: var(--spacing-xl);"><i class="fas fa-history" aria-hidden="true"></i> <span data-fr="Audit des Actions Utilisateurs" data-en="User Actions Audit" data-ar="Audit des Actions Utilisateurs">Audit des Actions Utilisateurs</span></h3>
                            <div style="margin-bottom: var(--spacing-md);">
                                <select id="auditFilter" class="form-control" style="max-width: 200px; display: inline-block; margin-right: 10px;">
                                    <option value="all" data-fr="Toutes les actions" data-en="All actions" data-ar="Toutes les actions">Toutes les actions</option>
                                    <option value="create" data-fr="Créations" data-en="Creations" data-ar="Créations">Créations</option>
                                    <option value="update" data-fr="Modifications" data-en="Updates" data-ar="Modifications">Modifications</option>
                                    <option value="delete" data-fr="Suppressions" data-en="Deletions" data-ar="Suppressions">Suppressions</option>
                                    <option value="login" data-fr="Connexions" data-en="Logins" data-ar="Connexions">Connexions</option>
                                </select>
                                <button class="btn btn-outline btn-sm functional-btn" onclick="exportAuditLog()">
                                    <i class="fas fa-download"></i> Export CSV
                                </button>
                            </div>
                            <div id="adminAuditLog">
                                <!-- Audit log will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Analytics Tab -->
                    <div class="admin-tab-content" id="admin-tab-analytics">
                        <div class="admin-section">
                            <h3><i class="fas fa-chart-line" aria-hidden="true"></i> <span data-fr="Analytics & Rapports" data-en="Analytics & Reports" data-ar="Analytics & Rapports">Analytics & Rapports</span></h3>
                            
                            <!-- Statistics Overview -->
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-lg); margin-bottom: var(--spacing-xl);">
                                <div style="background: var(--gradient-primary); color: white; padding: var(--spacing-lg); border-radius: var(--border-radius-xl); text-align: center;">
                                    <div style="font-size: var(--font-size-3xl); font-weight: 800; margin-bottom: 8px;" id="totalServices">0</div>
                                    <div style="font-size: var(--font-size-base); opacity: 0.9;" data-fr="Services" data-en="Services" data-ar="خدماتنا">Services</div>
                                </div>
                                <div style="background: var(--gradient-success); color: white; padding: var(--spacing-lg); border-radius: var(--border-radius-xl); text-align: center;">
                                    <div style="font-size: var(--font-size-3xl); font-weight: 800; margin-bottom: 8px;" id="totalClients">0</div>
                                    <div style="font-size: var(--font-size-base); opacity: 0.9;" data-fr="Clients" data-en="Clients" data-ar="Clients">Clients</div>
                                </div>
                                <div style="background: var(--gradient-accent); color: white; padding: var(--spacing-lg); border-radius: var(--border-radius-xl); text-align: center;">
                                    <div style="font-size: var(--font-size-3xl); font-weight: 800; margin-bottom: 8px;" id="totalJobs">0</div>
                                    <div style="font-size: var(--font-size-base); opacity: 0.9;" data-fr="Offres d'emploi" data-en="Job offers" data-ar="Offres d'emploi">Offres d'emploi</div>
                                </div>
                                <div style="background: var(--gradient-secondary); color: white; padding: var(--spacing-lg); border-radius: var(--border-radius-xl); text-align: center;">
                                    <div style="font-size: var(--font-size-3xl); font-weight: 800; margin-bottom: 8px;" id="totalApplications">0</div>
                                    <div style="font-size: var(--font-size-base); opacity: 0.9;" data-fr="Candidatures" data-en="Applications" data-ar="Candidatures">Candidatures</div>
                                </div>
                            </div>

                            <!-- Charts -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg); margin-bottom: var(--spacing-xl);">
                                <div class="chart-container">
                                    <h4 class="chart-title"><i class="fas fa-chart-bar"></i> <span data-fr="Candidatures par mois" data-en="Applications per month" data-ar="Candidatures par mois">Candidatures par mois</span></h4>
                                    <canvas id="applicationsChart" width="400" height="200"></canvas>
                                </div>
                                <div class="chart-container">
                                    <h4 class="chart-title"><i class="fas fa-chart-pie"></i> <span data-fr="Répartition par type d'offre" data-en="Distribution by offer type" data-ar="Répartition par type d'offre">Répartition par type d'offre</span></h4>
                                    <canvas id="jobTypesChart" width="400" height="200"></canvas>
                                </div>
                            </div>

                            <!-- Consent Management (Loi 18-07) -->
                            <div class="chart-container">
                                <h4 class="chart-title"><i class="fas fa-shield-alt"></i> <span data-fr="Gestion des Consentements (Loi 18-07)" data-en="Consent Management (Law 18-07)" data-ar="Gestion des Consentements (Loi 18-07)">Gestion des Consentements (Loi 18-07)</span></h4>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-md);">
                                    <div style="text-align: center;">
                                        <div style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--success);" id="consentAccepted">0</div>
                                        <div style="color: var(--text-light);" data-fr="Acceptés" data-en="Accepted" data-ar="Acceptés">Acceptés</div>
                                    </div>
                                    <div style="text-align: center;">
                                        <div style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--danger);" id="consentDeclined">0</div>
                                        <div style="color: var(--text-light);" data-fr="Refusés" data-en="Declined" data-ar="Refusés">Refusés</div>
                                    </div>
                                    <div style="text-align: center;">
                                        <div style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--warning);" id="consentPending">0</div>
                                        <div style="color: var(--text-light);" data-fr="En attente" data-en="Pending" data-ar="En attente">En attente</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 12px; margin-top: var(--spacing-md);">
                                    <button class="btn btn-primary functional-btn" onclick="exportConsentData('csv')">
                                        <i class="fas fa-file-csv"></i> Export CSV
                                    </button>
                                    <button class="btn btn-outline functional-btn" onclick="exportConsentData('json')">
                                        <i class="fas fa-file-code"></i> Export JSON
                                    </button>
                                    <button class="btn btn-warning functional-btn" onclick="anonymizeOldData()">
                                        <i class="fas fa-user-secret"></i> <span data-fr="Anonymiser anciennes données" data-en="Anonymize old data" data-ar="Anonymiser anciennes données">Anonymiser anciennes données</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Export Functions -->
                            <div style="display: flex; gap: 16px; margin-top: var(--spacing-lg);">
                                <button class="btn btn-primary functional-btn" onclick="generateGlobalReport()">
                                    <i class="fas fa-file-alt"></i> <span data-fr="Rapport Global" data-en="Global Report" data-ar="Rapport Global">Rapport Global</span>
                                </button>
                                <button class="btn btn-outline functional-btn" onclick="exportAnalytics('csv')">
                                    <i class="fas fa-download"></i> Export CSV
                                </button>
                                <button class="btn btn-outline functional-btn" onclick="exportAnalytics('json')">
                                    <i class="fas fa-download"></i> Export JSON
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Maintenance Tab -->
                    <div class="admin-tab-content" id="admin-tab-maintenance">
                        <div class="admin-section">
                            <h3><i class="fas fa-tools" aria-hidden="true"></i> <span data-fr="Outils de Maintenance" data-en="Maintenance Tools" data-ar="Outils de Maintenance">Outils de Maintenance</span></h3>
                            <div class="admin-grid">
                                <div class="admin-card">
                                    <h4><i class="fas fa-database" aria-hidden="true"></i> <span data-fr="Sauvegarde & Restauration" data-en="Backup & Restore" data-ar="Sauvegarde & Restauration">Sauvegarde & Restauration</span></h4>
                                    <p style="color: var(--text-light); margin-bottom: var(--spacing-md);" data-fr="Sauvegardez ou restaurez toutes les données du site (localStorage/IndexedDB)." data-en="Backup or restore all site data (localStorage/IndexedDB)." data-ar="Sauvegardez ou restaurez toutes les données du site (localStorage/IndexedDB).">
                                        Sauvegardez ou restaurez toutes les données du site (localStorage/IndexedDB).
                                    </p>
                                    <div style="display: flex; gap: 12px;">
                                        <button class="btn btn-primary functional-btn" onclick="createBackup()">
                                            <i class="fas fa-download"></i> <span data-fr="Créer Sauvegarde" data-en="Create Backup" data-ar="Créer Sauvegarde">Créer Sauvegarde</span>
                                        </button>
                                        <input type="file" id="restoreInput" accept=".json" style="display: none;">
                                        <button class="btn btn-outline functional-btn" onclick="document.getElementById('restoreInput').click()">
                                            <i class="fas fa-upload"></i> <span data-fr="Restaurer" data-en="Restore" data-ar="Restaurer">Restaurer</span>
                                        </button>
                                    </div>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-broom" aria-hidden="true"></i> <span data-fr="Gestion du Cache" data-en="Cache Management" data-ar="Gestion du Cache">Gestion du Cache</span></h4>
                                    <p style="color: var(--text-light); margin-bottom: var(--spacing-md);" data-fr="Videz le cache local pour forcer le rechargement des ressources." data-en="Clear local cache to force resource reload." data-ar="Videz le cache local pour forcer le rechargement des ressources.">
                                        Videz le cache local pour forcer le rechargement des ressources.
                                    </p>
                                    <div style="margin-bottom: 15px;">
                                        <div style="font-size: var(--font-size-sm); color: var(--text-light);">
                                            Cache localStorage: <span id="cacheSize">0 KB</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-warning functional-btn" onclick="clearCache()">
                                        <i class="fas fa-trash"></i> <span data-fr="Vider Cache" data-en="Clear Cache" data-ar="Vider Cache">Vider Cache</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-wrench" aria-hidden="true"></i> <span data-fr="Mode Maintenance" data-en="Maintenance Mode" data-ar="Mode Maintenance">Mode Maintenance</span></h4>
                                    <p style="color: var(--text-light); margin-bottom: var(--spacing-md);" data-fr="Activez le mode maintenance pour afficher une page temporaire aux visiteurs." data-en="Enable maintenance mode to display a temporary page to visitors." data-ar="Activez le mode maintenance pour afficher une page temporaire aux visiteurs.">
                                        Activez le mode maintenance pour afficher une page temporaire aux visiteurs.
                                    </p>
                                    <div style="margin-bottom: 15px;">
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="checkbox" id="maintenanceMode" onchange="toggleMaintenanceMode()">
                                            <span data-fr="Mode maintenance activé" data-en="Maintenance mode enabled" data-ar="Mode maintenance activé">Mode maintenance activé</span>
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label for="maintenanceMessage" data-fr="Message de maintenance" data-en="Maintenance message" data-ar="Message de maintenance">Message de maintenance</label>
                                        <textarea id="maintenanceMessage" class="form-control" rows="2">Nous effectuons actuellement une maintenance pour améliorer votre expérience.</textarea>
                                    </div>
                                    <button class="btn btn-primary functional-btn" onclick="updateMaintenanceMessage()">
                                        <i class="fas fa-save"></i> <span data-fr="Sauvegarder Message" data-en="Save Message" data-ar="Sauvegarder Message">Sauvegarder Message</span>
                                    </button>
                                </div>

                                <div class="admin-card">
                                    <h4><i class="fas fa-chart-line" aria-hidden="true"></i> <span data-fr="Performances" data-en="Performance" data-ar="Performances">Performances</span></h4>
                                    <p style="color: var(--text-light); margin-bottom: var(--spacing-md);" data-fr="Surveillez les performances du site et l'utilisation des ressources." data-en="Monitor site performance and resource usage." data-ar="Surveillez les performances du site et l'utilisation des ressources.">
                                        Surveillez les performances du site et l'utilisation des ressources.
                                    </p>
                                    <div style="margin-bottom: 15px;">
                                        <div style="margin-bottom: 8px;">
                                            <span style="font-size: var(--font-size-sm);" data-fr="Temps de chargement:" data-en="Loading time:" data-ar="Temps de chargement:">Temps de chargement:</span>
                                            <span id="loadTime" style="font-weight: 600; color: var(--success);">0ms</span>
                                        </div>
                                        <div style="margin-bottom: 8px;">
                                            <span style="font-size: var(--font-size-sm);" data-fr="Mémoire utilisée:" data-en="Memory used:" data-ar="Mémoire utilisée:">Mémoire utilisée:</span>
                                            <span id="memoryUsage" style="font-weight: 600; color: var(--primary);">0 MB</span>
                                        </div>
                                        <div style="margin-bottom: 8px;">
                                            <span style="font-size: var(--font-size-sm);" data-fr="Erreurs JS:" data-en="JS errors:" data-ar="Erreurs JS:">Erreurs JS:</span>
                                            <span id="errorCount" style="font-weight: 600; color: var(--danger);">0</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-outline functional-btn" onclick="runPerformanceCheck()">
                                        <i class="fas fa-tachometer-alt"></i> <span data-fr="Analyser" data-en="Analyze" data-ar="Analyser">Analyser</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== PAGE RECRUTEUR DASHBOARD ===== -->
        <section class="page-section" id="recruteur-page" data-page="recruteur">
            <button class="btn-logout functional-btn" onclick="logoutUser()">
                <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                <span data-fr="Déconnexion" data-en="Logout" data-ar="تسجيل الخروج">Déconnexion</span>
            </button>
            <div class="recruteur-header">
                <h2><i class="fas fa-users" aria-hidden="true"></i> <span data-fr="Dashboard Recruteur" data-en="Recruiter Dashboard" data-ar="Dashboard Recruteur">Dashboard Recruteur</span></h2>
                <div class="admin-user-info">
                    <span id="recruteurCurrentUser">Recruteur</span>
                    <span class="recruteur-badge" data-fr="Accès Complet" data-en="Full Access" data-ar="Accès Complet">Accès Complet</span>
                </div>
            </div>
            <div class="recruteur-container">
                <div class="recruteur-note">
                    <i class="fas fa-info-circle" aria-hidden="true"></i>
                    <strong data-fr="Mode Recruteur:" data-en="Recruiter Mode:" data-ar="Mode Recruteur:">Mode Recruteur:</strong> <span data-fr="Vous avez accès à la gestion complète des offres d'emploi et des candidatures reçues." data-en="You have access to complete management of job offers and received applications." data-ar="Vous avez accès à la gestion complète des offres d'emploi et des candidatures reçues.">Vous avez accès à la gestion complète des offres d'emploi et des candidatures reçues.</span>
                </div>
                
                <div class="recruteur-overview">
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="recruteurMyJobs">0</div>
                        <div class="recruteur-stat-label" data-fr="Mes Offres" data-en="My Offers" data-ar="Mes Offres">Mes Offres</div>
                    </div>
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="recruteurApplications">0</div>
                        <div class="recruteur-stat-label" data-fr="Candidatures" data-en="Applications" data-ar="Candidatures">Candidatures</div>
                    </div>
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="recruteurProcessed">0</div>
                        <div class="recruteur-stat-label" data-fr="Traitées" data-en="Processed" data-ar="Traitées">Traitées</div>
                    </div>
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="recruteurPending">0</div>
                        <div class="recruteur-stat-label" data-fr="En attente" data-en="Pending" data-ar="En attente">En attente</div>
                    </div>
                </div>

                <div class="admin-section">
                    <h3><i class="fas fa-briefcase" aria-hidden="true"></i> <span data-fr="Mes Offres d'Emploi" data-en="My Job Offers" data-ar="Mes Offres d'Emploi">Mes Offres d'Emploi</span></h3>
                    <button class="btn btn-primary functional-btn" onclick="openRecruteurJobModal()">
                        <i class="fas fa-plus" aria-hidden="true"></i> <span data-fr="Créer une offre" data-en="Create an offer" data-ar="Créer une offre">Créer une offre</span>
                    </button>
                    <div id="recruteurJobsList" style="margin-top: var(--spacing-lg);">
                        <!-- Recruiter jobs will be populated by JavaScript -->
                    </div>
                </div>

                <div class="admin-section">
                    <h3><i class="fas fa-inbox" aria-hidden="true"></i> <span data-fr="Candidatures Reçues" data-en="Received Applications" data-ar="Candidatures Reçues">Candidatures Reçues</span></h3>

                    <!-- /* ADD: candidate-filter-by-response */ -->
                    <!-- Barre de recherche textuelle -->
                    <div style="margin-bottom: var(--spacing-md);">
                        <input type="text" id="recruteurSearchBar" class="form-control" placeholder="🔍 Rechercher un candidat, un poste ou un diplôme..." style="width: 100%; padding: 12px 16px; font-size: var(--font-size-base); border-radius: var(--border-radius-lg);">
                    </div>

                    <!-- Panneau de filtres multi-critères -->
                    <div style="background: var(--glass-bg); border: 2px solid var(--border); border-radius: var(--border-radius-xl); padding: var(--spacing-lg); margin-bottom: var(--spacing-lg); backdrop-filter: var(--backdrop-blur);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--spacing-md);">
                            <h4 style="display: flex; align-items: center; gap: 8px; margin: 0;">
                                <i class="fas fa-filter"></i>
                                <span data-fr="Filtres Avancés" data-en="Advanced Filters" data-ar="Filtres Avancés">Filtres Avancés</span>
                            </h4>
                            <!-- /* ADD: candidate-filter-buttons */ -->
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-sm btn-primary functional-btn" onclick="applyRecruteurFilters()" style="font-size: var(--font-size-sm);">
                                    <i class="fas fa-search"></i> <span data-fr="Rechercher" data-en="Search" data-ar="Rechercher">Rechercher</span>
                                </button>
                                <button class="btn btn-sm btn-outline functional-btn" onclick="resetRecruteurFilters()" style="font-size: var(--font-size-sm);">
                                    <i class="fas fa-redo"></i> <span data-fr="Réinitialiser" data-en="Reset" data-ar="Réinitialiser">Réinitialiser</span>
                                </button>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-md);">
                            <!-- Filtre Statut -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-toggle-on"></i> <span data-fr="Statut" data-en="Status" data-ar="Statut">Statut</span>
                                </label>
                                <select id="recruteurStatusFilter" class="form-control recruteur-filter">
                                    <option value="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</option>
                                    <option value="pending" data-fr="En attente" data-en="Pending" data-ar="En attente">En attente</option>
                                    <option value="processed" data-fr="Traités" data-en="Processed" data-ar="Traités">Traités</option>
                                </select>
                            </div>

                            <!-- Filtre Domaine -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-briefcase"></i> <span data-fr="Domaine" data-en="Domain" data-ar="Domaine">Domaine</span>
                                </label>
                                <select id="recruteurDomaineFilter" class="form-control recruteur-filter" multiple style="height: auto;">
                                    <option value="Administration, Moyens Généraux">Administration, Moyens Généraux</option>
                                            <option value="Comptabilité, Finance">Comptabilité, Finance</option>
                                            <option value="Banques Et Assurances">Banques Et Assurances</option>
                                            <option value="RH, Formation">RH, Formation</option>
                                            <option value="Commercial, Vente">Commercial, Vente</option>
                                            <option value="Marketing, Création, Design">Marketing, Création, Design</option>
                                            <option value="Informatique, Système D’Information, Internet">Informatique, Système D’Information, Internet</option>
                                            <option value="Télécommunication, Réseau">Télécommunication, Réseau</option>
                                            <option value="Métier BTP, Architecture">Métier BTP, Architecture</option>
                                            <option value="Ingénierie, Études, Projets">Ingénierie, Études, Projets</option>
                                            <option value="Logistique, Achat, Stock, Transport">Logistique, Achat, Stock, Transport</option>
                                            <option value="Production, Industrie, Méthode">Production, Industrie, Méthode</option>
                                            <option value="Maintenance, Entretien">Maintenance, Entretien</option>
                                            <option value="Qualité, Sécurité, Environnement">Qualité, Sécurité, Environnement</option>
                                            <option value="Ouvriers Qualifiés, Chauffeur">Ouvriers Qualifiés, Chauffeur</option>
                                            <option value="Hôtellerie, Loisirs">Hôtellerie, Loisirs</option>
                                            <option value="Autres">Autres</option>
                                </select>
                            </div>

                            <!-- Filtre Diplôme -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-graduation-cap"></i> <span data-fr="Diplôme" data-en="Degree" data-ar="Diplôme">Diplôme</span>
                                </label>
                                <select id="recruteurDiplomeFilter" class="form-control recruteur-filter" multiple style="height: auto;">
                                    <option value="Sans Diplôme">Sans Diplôme</option>
                                    <option value="bac">Baccalauréat</option>
                                    <option value="licence">Licence</option>
                                    <option value="master">Master</option>
                                    <option value="ingenieur">Ingénieur</option>
                                    <option value="doctorat">Doctorat</option>
                                    <option value="technicien">Technicien Supérieur</option>
                                </select>
                            </div>

                            <!-- Filtre Permis -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-id-card"></i> <span data-fr="Type de Permis" data-en="License Type" data-ar="Type de Permis">Type de Permis</span>
                                </label>
                                <select id="recruteurPermisFilter" class="form-control recruteur-filter" multiple style="height: auto;">
                                    <option value="B">Permis A</option>
                                    <option value="B">Permis B</option>
                                    <option value="C">Permis C</option>
                                    <option value="D">Permis D</option>
                                    <option value="aucun">Aucun</option>
                                </select>
                            </div>

                            <!-- Filtre Wilaya -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-map-marker-alt"></i> <span data-fr="Wilaya" data-en="Province" data-ar="Wilaya">Wilaya</span>
                                </label>
                                <!-- FIX: candidate-filter-sync - Enhanced mobile scrolling -->
                                <select id="recruteurWilayaFilter" class="form-control recruteur-filter" multiple style="height: auto; min-height: 150px; max-height: 60vh; overflow-y: auto; padding-bottom: 16px;">
                                            <option value="01">Adrar</option>
                                            <option value="02">Chlef</option>
                                            <option value="03">Laghouat</option>
                                            <option value="04">Oum El Bouaghi</option>
                                            <option value="05">Batna</option>
                                            <option value="06">Béjaïa</option>
                                            <option value="07">Biskra</option>
                                            <option value="08">Béchar</option>
                                            <option value="09">Blida</option>
                                            <option value="10">Bouira</option>
                                            <option value="11">Tamanrasset</option>
                                            <option value="12">Tébessa</option>
                                            <option value="13">Tlemcen</option>
                                            <option value="14">Tiaret</option>
                                            <option value="15">Tizi Ouzou</option>
                                            <option value="16">Alger</option>
                                            <option value="17">Djelfa</option>
                                            <option value="18">Jijel</option>
                                            <option value="19">Sétif</option>
                                            <option value="20">Saïda</option>
                                            <option value="21">Skikda</option>
                                            <option value="22">Sidi Bel Abbès</option>
                                            <option value="23">Annaba</option>
                                            <option value="24">Guelma</option>
                                            <option value="25">Constantine</option>
                                            <option value="26">Médéa</option>
                                            <option value="27">Mostaganem</option>
                                            <option value="28">M'Sila</option>
                                            <option value="29">Mascara</option>
                                            <option value="30">Ouargla</option>
                                            <option value="31">Oran</option>
                                            <option value="32">El Bayadh</option>
                                            <option value="33">Illizi</option>
                                            <option value="34">Bordj Bou Arreridj</option>
                                            <option value="35">Boumerdès</option>
                                            <option value="36">El Tarf</option>
                                            <option value="37">Tindouf</option>
                                            <option value="38">Tissemsilt</option>
                                            <option value="39">El Oued</option>
                                            <option value="40">Khenchela</option>
                                            <option value="41">Souk Ahras</option>
                                            <option value="42">Tipaza</option>
                                            <option value="43">Mila</option>
                                            <option value="44">Aïn Defla</option>
                                            <option value="45">Naâma</option>
                                            <option value="46">Aïn Témouchent</option>
                                            <option value="47">Ghardaïa</option>
                                            <option value="48">Relizane</option>
                                            <option value="49">Timimoun</option>
                                            <option value="50">Bordj Badji Mokhtar</option>
                                            <option value="51">Ouled Djellal</option>
                                            <option value="52">Béni Abbès</option>
                                            <option value="53">In Salah</option>
                                            <option value="54">In Guezzam</option>
                                            <option value="55">Touggourt</option>
                                            <option value="56">Djanet</option>
                                            <!-- FIX: candidate-filter-sync - Unified spelling -->
                                            <option value="57">El M'Ghair</option>
                                            <option value="58">El Meniaa</option>
                                </select>
                            </div>

                            <!-- Filtre Âge -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-calendar"></i> <span data-fr="Âge" data-en="Age" data-ar="Âge">Âge</span>
                                </label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="number" id="recruteurAgeMin" class="form-control recruteur-filter" placeholder="Min" min="18" max="65" style="width: 80px;">
                                    <span>-</span>
                                    <input type="number" id="recruteurAgeMax" class="form-control recruteur-filter" placeholder="Max" min="18" max="65" style="width: 80px;">
                                    <span data-fr="ans" data-en="years" data-ar="سنوات">ans</span>
                                </div>
                            </div>

                            <!-- Filtre Préavis -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-clock"></i> <span data-fr="Préavis" data-en="Notice Period" data-ar="مدة الإشعار المسبق">Préavis</span>
                                </label>
                                <select id="recruteurPreavisFilter" class="form-control recruteur-filter">
                                    <option value="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</option>
                                    <option value="immediat">Immédiat</option>
                                    <option value="1mois">1 mois</option>
                                    <option value="2mois">2 mois</option>
                                    <option value="3mois">3 mois et +</option>
                                </select>
                            </div>

                            <!-- Filtre Expérience -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-briefcase"></i> <span data-fr="Expérience" data-en="Experience" data-ar="الخبرة">Expérience</span>
                                </label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="number" id="recruteurExperienceMin" class="form-control recruteur-filter" placeholder="Min" min="0" max="40" style="width: 80px;">
                                    <span>-</span>
                                    <input type="number" id="recruteurExperienceMax" class="form-control recruteur-filter" placeholder="Max" min="0" max="40" style="width: 80px;">
                                    <span data-fr="ans" data-en="years" data-ar="سنوات">ans</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Boutons d'export -->
                    <div style="display: flex; gap: 12px; margin-bottom: var(--spacing-md); flex-wrap: wrap;">
                        <button class="btn btn-primary functional-btn" onclick="exportRecruteurFilteredCandidates('pdf')">
                            <i class="fas fa-file-pdf"></i> <span data-fr="Exporter PDF" data-en="Export PDF" data-ar="تصدير PDF">Exporter PDF</span>
                        </button>
                        <button class="btn btn-success functional-btn" onclick="exportRecruteurFilteredCandidates('excel')">
                            <i class="fas fa-file-excel"></i> <span data-fr="Exporter Excel" data-en="Export Excel" data-ar="تصدير Excel">Exporter Excel</span>
                        </button>
                        <span id="recruteurFilterCount" style="display: flex; align-items: center; padding: 8px 16px; background: var(--info); color: white; border-radius: var(--border-radius-lg); font-weight: 600;">
                            <i class="fas fa-list"></i>&nbsp; <span id="recruteurFilterCountNumber">0</span> <span data-fr=" candidatures" data-en=" applications" data-ar=" candidatures"> candidatures</span>
                        </span>
                    </div>

                    <div id="recruteurCandidatures">
                        <!-- Applications will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== PAGE LECTEUR DASHBOARD (NOUVEAU RÔLE LECTURE SEULE) ===== -->
        <section class="page-section" id="lecteur-page" data-page="lecteur">
            <button class="btn-logout functional-btn" onclick="logoutUser()">
                <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                <span data-fr="Déconnexion" data-en="Logout" data-ar="تسجيل الخروج">Déconnexion</span>
            </button>
            <div class="lecteur-header">
                <h2><i class="fas fa-eye" aria-hidden="true"></i> <span data-fr="Dashboard Lecteur" data-en="Reader Dashboard" data-ar="Dashboard Lecteur">Dashboard Lecteur</span></h2>
                <div class="admin-user-info">
                    <span id="lecteurCurrentUser">Lecteur</span>
                    <span class="lecteur-badge" data-fr="Accès Lecture Seule" data-en="Read-Only Access" data-ar="Accès Lecture Seule">Accès Lecture Seule</span>
                </div>
            </div>
            <div class="lecteur-container">
                <div class="lecteur-note">
                    <i class="fas fa-info-circle" aria-hidden="true"></i>
                    <strong data-fr="Mode Lecteur:" data-en="Reader Mode:" data-ar="Mode Lecteur:">Mode Lecteur:</strong> <span data-fr="Vous avez accès uniquement à la consultation et au téléchargement des CV. Aucune modification n'est autorisée." data-en="You only have access to viewing and downloading CVs. No modifications are allowed." data-ar="Vous avez accès uniquement à la consultation et au téléchargement des CV. Aucune modification n'est autorisée.">Vous avez accès uniquement à la consultation et au téléchargement des CV. Aucune modification n'est autorisée.</span>
                </div>

                <div class="lecteur-restrictions">
                    <h4><i class="fas fa-exclamation-triangle" aria-hidden="true"></i> <span data-fr="Restrictions d'accès:" data-en="Access restrictions:" data-ar="Restrictions d'accès:">Restrictions d'accès:</span></h4>
                    <ul>
                        <li data-fr="❌ Création d'offres d'emploi" data-en="❌ Job offer creation" data-ar="❌ Création d'offres d'emploi">❌ Création d'offres d'emploi</li>
                        <li data-fr="❌ Modification d'offres d'emploi" data-en="❌ Job offer modification" data-ar="❌ Modification d'offres d'emploi">❌ Modification d'offres d'emploi</li>
                        <li data-fr="❌ Suppression d'offres d'emploi" data-en="❌ Job offer deletion" data-ar="❌ Suppression d'offres d'emploi">❌ Suppression d'offres d'emploi</li>
                        <li data-fr="❌ Modification des paramètres" data-en="❌ Settings modification" data-ar="❌ Modification des paramètres">❌ Modification des paramètres</li>
                        <li data-fr="✅ Consultation des CV" data-en="✅ CV viewing" data-ar="✅ Consultation des CV">✅ Consultation des CV</li>
                        <li data-fr="✅ Téléchargement des CV" data-en="✅ CV download" data-ar="✅ Téléchargement des CV">✅ Téléchargement des CV</li>
                        <li data-fr="✅ Export des données CV" data-en="✅ CV data export" data-ar="✅ Export des données CV">✅ Export des données CV</li>
                    </ul>
                </div>
                
                <div class="recruteur-overview">
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="lecteurTotalJobs">0</div>
                        <div class="recruteur-stat-label" data-fr="Offres Totales" data-en="Total Offers" data-ar="Offres Totales">Offres Totales</div>
                    </div>
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="lecteurTotalApplications">0</div>
                        <div class="recruteur-stat-label" data-fr="CV Disponibles" data-en="Available CVs" data-ar="CV Disponibles">CV Disponibles</div>
                    </div>
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="lecteurProcessed">0</div>
                        <div class="recruteur-stat-label" data-fr="CV Traités" data-en="Processed CVs" data-ar="CV Traités">CV Traités</div>
                    </div>
                    <div class="recruteur-stat-card">
                        <div class="recruteur-stat-number" id="lecteurPending">0</div>
                        <div class="recruteur-stat-label" data-fr="CV En attente" data-en="Pending CVs" data-ar="CV En attente">CV En attente</div>
                    </div>
                </div>

                <div class="admin-section">
                    <h3><i class="fas fa-database" aria-hidden="true"></i> <span data-fr="Base de données CV (Lecture seule)" data-en="CV Database (Read-only)" data-ar="Base de données CV (Lecture seule)">Base de données CV (Lecture seule)</span></h3>

                    <!-- /* ADD: candidate-filter-by-response */ -->
                    <!-- Barre de recherche textuelle -->
                    <div style="margin-bottom: var(--spacing-md);">
                        <input type="text" id="lecteurSearchBar" class="form-control" placeholder="🔍 Rechercher un candidat, un poste ou un diplôme..." style="width: 100%; padding: 12px 16px; font-size: var(--font-size-base); border-radius: var(--border-radius-lg);">
                    </div>

                    <!-- Panneau de filtres multi-critères (identique au Dashboard Recruteur) -->
                    <div style="background: var(--glass-bg); border: 2px solid var(--border); border-radius: var(--border-radius-xl); padding: var(--spacing-lg); margin-bottom: var(--spacing-lg); backdrop-filter: var(--backdrop-blur);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--spacing-md);">
                            <h4 style="display: flex; align-items: center; gap: 8px; margin: 0;">
                                <i class="fas fa-filter"></i>
                                <span data-fr="Filtres Avancés" data-en="Advanced Filters" data-ar="Filtres Avancés">Filtres Avancés</span>
                            </h4>
                            <!-- /* ADD: candidate-filter-buttons */ -->
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-sm btn-primary functional-btn" onclick="applyLecteurFilters()" style="font-size: var(--font-size-sm);">
                                    <i class="fas fa-search"></i> <span data-fr="Rechercher" data-en="Search" data-ar="Rechercher">Rechercher</span>
                                </button>
                                <button class="btn btn-sm btn-outline functional-btn" onclick="resetLecteurFilters()" style="font-size: var(--font-size-sm);">
                                    <i class="fas fa-redo"></i> <span data-fr="Réinitialiser" data-en="Reset" data-ar="Réinitialiser">Réinitialiser</span>
                                </button>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-md);">
                            <!-- Filtre Statut -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-toggle-on"></i> <span data-fr="Statut" data-en="Status" data-ar="Statut">Statut</span>
                                </label>
                                <select id="lecteurStatusFilter" class="form-control lecteur-filter">
                                    <option value="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</option>
                                    <option value="pending" data-fr="En attente" data-en="Pending" data-ar="En attente">En attente</option>
                                    <option value="processed" data-fr="Traités" data-en="Processed" data-ar="Traités">Traités</option>
                                </select>
                            </div>

                            <!-- Filtre Domaine -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-briefcase"></i> <span data-fr="Domaine" data-en="Domain" data-ar="Domaine">Domaine</span>
                                </label>
                                <select id="lecteurDomaineFilter" class="form-control lecteur-filter" multiple style="height: auto;">
                                    <option value="Administration, Moyens Généraux">Administration, Moyens Généraux</option>
                                            <option value="Comptabilité, Finance">Comptabilité, Finance</option>
                                            <option value="Banques Et Assurances">Banques Et Assurances</option>
                                            <option value="RH, Formation">RH, Formation</option>
                                            <option value="Commercial, Vente">Commercial, Vente</option>
                                            <option value="Marketing, Création, Design">Marketing, Création, Design</option>
                                            <option value="Informatique, Système D’Information, Internet">Informatique, Système D’Information, Internet</option>
                                            <option value="Télécommunication, Réseau">Télécommunication, Réseau</option>
                                            <option value="Métier BTP, Architecture">Métier BTP, Architecture</option>
                                            <option value="Ingénierie, Études, Projets">Ingénierie, Études, Projets</option>
                                            <option value="Logistique, Achat, Stock, Transport">Logistique, Achat, Stock, Transport</option>
                                            <option value="Production, Industrie, Méthode">Production, Industrie, Méthode</option>
                                            <option value="Maintenance, Entretien">Maintenance, Entretien</option>
                                            <option value="Qualité, Sécurité, Environnement">Qualité, Sécurité, Environnement</option>
                                            <option value="Ouvriers Qualifiés, Chauffeur">Ouvriers Qualifiés, Chauffeur</option>
                                            <option value="Hôtellerie, Loisirs">Hôtellerie, Loisirs</option>
                                            <option value="Autres">Autres</option>
                                </select>
                            </div>

                            <!-- Filtre Diplôme -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-graduation-cap"></i> <span data-fr="Diplôme" data-en="Degree" data-ar="Diplôme">Diplôme</span>
                                </label>
                                <select id="lecteurDiplomeFilter" class="form-control lecteur-filter" multiple style="height: auto;">
                                    <option value="Sans Diplôme">Sans Diplôme</option>
                                    <option value="bac">Baccalauréat</option>
                                    <option value="licence">Licence</option>
                                    <option value="master">Master</option>
                                    <option value="ingenieur">Ingénieur</option>
                                    <option value="doctorat">Doctorat</option>
                                    <option value="technicien">Technicien Supérieur</option>
                                </select>
                            </div>

                            <!-- Filtre Permis -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-id-card"></i> <span data-fr="Type de Permis" data-en="License Type" data-ar="Type de Permis">Type de Permis</span>
                                </label>
                                <select id="lecteurPermisFilter" class="form-control lecteur-filter" multiple style="height: auto;">
                                    <option value="B">Permis A</option>
                                    <option value="B">Permis B</option>
                                    <option value="C">Permis C</option>
                                    <option value="D">Permis D</option>
                                    <option value="aucun">Aucun</option>
                                </select>
                            </div>

                            <!-- Filtre Wilaya -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-map-marker-alt"></i> <span data-fr="Wilaya" data-en="Province" data-ar="Wilaya">Wilaya</span>
                                </label>
                                <!-- FIX: candidate-filter-sync - Enhanced mobile scrolling -->
                                <select id="lecteurWilayaFilter" class="form-control lecteur-filter" multiple style="height: auto; min-height: 150px; max-height: 60vh; overflow-y: auto; padding-bottom: 16px;">
                                            <option value="01">Adrar</option>
                                            <option value="02">Chlef</option>
                                            <option value="03">Laghouat</option>
                                            <option value="04">Oum El Bouaghi</option>
                                            <option value="05">Batna</option>
                                            <option value="06">Béjaïa</option>
                                            <option value="07">Biskra</option>
                                            <option value="08">Béchar</option>
                                            <option value="09">Blida</option>
                                            <option value="10">Bouira</option>
                                            <option value="11">Tamanrasset</option>
                                            <option value="12">Tébessa</option>
                                            <option value="13">Tlemcen</option>
                                            <option value="14">Tiaret</option>
                                            <option value="15">Tizi Ouzou</option>
                                            <option value="16">Alger</option>
                                            <option value="17">Djelfa</option>
                                            <option value="18">Jijel</option>
                                            <option value="19">Sétif</option>
                                            <option value="20">Saïda</option>
                                            <option value="21">Skikda</option>
                                            <option value="22">Sidi Bel Abbès</option>
                                            <option value="23">Annaba</option>
                                            <option value="24">Guelma</option>
                                            <option value="25">Constantine</option>
                                            <option value="26">Médéa</option>
                                            <option value="27">Mostaganem</option>
                                            <option value="28">M'Sila</option>
                                            <option value="29">Mascara</option>
                                            <option value="30">Ouargla</option>
                                            <option value="31">Oran</option>
                                            <option value="32">El Bayadh</option>
                                            <option value="33">Illizi</option>
                                            <option value="34">Bordj Bou Arreridj</option>
                                            <option value="35">Boumerdès</option>
                                            <option value="36">El Tarf</option>
                                            <option value="37">Tindouf</option>
                                            <option value="38">Tissemsilt</option>
                                            <option value="39">El Oued</option>
                                            <option value="40">Khenchela</option>
                                            <option value="41">Souk Ahras</option>
                                            <option value="42">Tipaza</option>
                                            <option value="43">Mila</option>
                                            <option value="44">Aïn Defla</option>
                                            <option value="45">Naâma</option>
                                            <option value="46">Aïn Témouchent</option>
                                            <option value="47">Ghardaïa</option>
                                            <option value="48">Relizane</option>
                                            <option value="49">Timimoun</option>
                                            <option value="50">Bordj Badji Mokhtar</option>
                                            <option value="51">Ouled Djellal</option>
                                            <option value="52">Béni Abbès</option>
                                            <option value="53">In Salah</option>
                                            <option value="54">In Guezzam</option>
                                            <option value="55">Touggourt</option>
                                            <option value="56">Djanet</option>
                                            <!-- FIX: candidate-filter-sync - Unified spelling -->
                                            <option value="57">El M'Ghair</option>
                                            <option value="58">El Meniaa</option>
                                </select>
                            </div>

                            <!-- Filtre Âge -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-calendar"></i> <span data-fr="Âge" data-en="Age" data-ar="Âge">Âge</span>
                                </label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="number" id="lecteurAgeMin" class="form-control lecteur-filter" placeholder="Min" min="18" max="65" style="width: 80px;">
                                    <span>-</span>
                                    <input type="number" id="lecteurAgeMax" class="form-control lecteur-filter" placeholder="Max" min="18" max="65" style="width: 80px;">
                                    <span data-fr="ans" data-en="years" data-ar="سنوات">ans</span>
                                </div>
                            </div>

                            <!-- Filtre Préavis -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-clock"></i> <span data-fr="Préavis" data-en="Notice Period" data-ar="مدة الإشعار المسبق">Préavis</span>
                                </label>
                                <select id="lecteurPreavisFilter" class="form-control lecteur-filter">
                                    <option value="all" data-fr="Tous" data-en="All" data-ar="الكل">Tous</option>
                                    <option value="immediat">Immédiat</option>
                                    <option value="1mois">1 mois</option>
                                    <option value="2mois">2 mois</option>
                                    <option value="3mois">3 mois et +</option>
                                </select>
                            </div>

                            <!-- Filtre Expérience -->
                            <div class="form-group" style="margin: 0;">
                                <label style="font-weight: 600; margin-bottom: 8px; display: block;">
                                    <i class="fas fa-briefcase"></i> <span data-fr="Expérience" data-en="Experience" data-ar="الخبرة">Expérience</span>
                                </label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="number" id="lecteurExperienceMin" class="form-control lecteur-filter" placeholder="Min" min="0" max="40" style="width: 80px;">
                                    <span>-</span>
                                    <input type="number" id="lecteurExperienceMax" class="form-control lecteur-filter" placeholder="Max" min="0" max="40" style="width: 80px;">
                                    <span data-fr="ans" data-en="years" data-ar="سنوات">ans</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Boutons d'export -->
                    <div style="display: flex; gap: 12px; margin-bottom: var(--spacing-md); flex-wrap: wrap;">
                        <button class="btn btn-primary functional-btn" onclick="exportLecteurFilteredCandidates('pdf')">
                            <i class="fas fa-file-pdf"></i> <span data-fr="Exporter PDF" data-en="Export PDF" data-ar="تصدير PDF">Exporter PDF</span>
                        </button>
                        <button class="btn btn-success functional-btn" onclick="exportLecteurFilteredCandidates('excel')">
                            <i class="fas fa-file-excel"></i> <span data-fr="Exporter Excel" data-en="Export Excel" data-ar="تصدير Excel">Exporter Excel</span>
                        </button>
                        <span id="lecteurFilterCount" style="display: flex; align-items: center; padding: 8px 16px; background: var(--info); color: white; border-radius: var(--border-radius-lg); font-weight: 600;">
                            <i class="fas fa-list"></i>&nbsp; <span id="lecteurFilterCountNumber">0</span> <span data-fr=" CV" data-en=" CVs" data-ar=" سيرة ذاتية"> CV</span>
                        </span>
                    </div>

                    <div id="lecteurCvDatabase">
                        <!-- CV database will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Custom Pages Container -->
        <div id="customPagesSections">
            <!-- Les pages personnalisées seront ajoutées ici -->
        </div>
    </main>

    <!-- Footer AMÉLIORÉ avec contact adapté et adresses parfaitement alignées SANS CARTES - DUPLICATION EMAIL SUPPRIMÉE -->
    <footer id="mainFooter" role="contentinfo">
        <div class="footer-background" id="footerBackground">
            <video autoplay muted loop playsinline id="footerVideo" style="display: none;">
                <source src="" type="video/mp4" id="footerVideoSource">
            </video>
        </div>
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div style="margin-bottom: var(--spacing-md);">
                        <img src="https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=150&h=50&fit=crop" alt="AE2I Logo" id="footerLogo" style="height: 70px;" loading="lazy">
                    </div>
                    <p data-fr="Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure." data-en="Industrial expertise serving innovation and performance." data-ar="Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure.">"Nous vous accompagnons dans vos projets grâce à nos services en assistance technique, gestion administrative et ressources humaines, portage salarial, recrutement de talents et logistique sur mesure."</p>
                    <div class="footer-social" style="margin-top: var(--spacing-md);" id="footerSocialLinks">
                        <a href="#" class="social-btn functional-btn" aria-label="LinkedIn" data-network="linkedin"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                        <a href="#" class="social-btn functional-btn" aria-label="Twitter" data-network="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                        <a href="#" class="social-btn functional-btn" aria-label="Facebook" data-network="facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                        <a href="#" class="social-btn functional-btn" aria-label="Instagram" data-network="instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                        <a href="#" class="social-btn functional-btn" aria-label="YouTube" data-network="youtube"><i class="fab fa-youtube" aria-hidden="true"></i></a>
                        <a href="#" class="social-btn functional-btn" aria-label="TikTok" data-network="tiktok"><i class="fab fa-tiktok" aria-hidden="true"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4><i class="fas fa-compass" aria-hidden="true"></i> <span data-fr="Navigation" data-en="Navigation" data-ar="التنقل">Navigation</span></h4>
                    <ul>
                        <li><a href="#home" class="nav-link functional-btn" data-page="home"><i class="fas fa-chevron-right" aria-hidden="true"></i> <span data-fr="Accueil" data-en="Home" data-ar="الرئيسية">Accueil</span></a></li>
                        <li><a href="#about" class="nav-link functional-btn" data-page="about"><i class="fas fa-chevron-right" aria-hidden="true"></i> <span data-fr="À propos" data-en="About" data-ar="من نحن">À propos</span></a></li>
                        <li><a href="#services" class="nav-link functional-btn" data-page="services"><i class="fas fa-chevron-right" aria-hidden="true"></i> <span data-fr="Services" data-en="Services" data-ar="خدماتنا">Services</span></a></li>
                        <li><a href="#qualite" class="nav-link functional-btn" data-page="qualite"><i class="fas fa-chevron-right" aria-hidden="true"></i> <span data-fr="Politique Qualité" data-en="Quality Policy" data-ar="سياسة الجودة">Politique Qualité</span></a></li>
                        <li><a href="#carriere" class="nav-link functional-btn" data-page="carriere"><i class="fas fa-chevron-right" aria-hidden="true"></i> <span data-fr="Carrière" data-en="Career" data-ar="الوظائف">Carrière</span></a></li>
                        <li><a href="#contact" class="nav-link functional-btn" data-page="contact"><i class="fas fa-chevron-right" aria-hidden="true"></i> <span data-fr="Contact" data-en="Contact" data-ar="اتصل بنا">Contact</span></a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4><i class="fas fa-cogs" aria-hidden="true"></i> <span data-fr="Services" data-en="Services" data-ar="خدماتنا">Services</span></h4>
                    <ul id="footerServices">
                        <!-- Services links will be populated by JavaScript -->
                    </ul>
                </div>
                <div class="footer-col">
                    <h4><i class="fas fa-envelope" aria-hidden="true"></i> <span data-fr="Contact" data-en="Contact" data-ar="اتصل بنا">Contact</span></h4>
                    <div class="footer-contact-details">
                        <!-- Section Adresses avec icônes et alignement parfait SANS CARTES -->
                        <div class="footer-contact-section">
                            <div class="footer-contact-section-title">
                                <i class="fas fa-map-marker-alt"></i>
                                <span data-fr="Nos Adresses" data-en="Our Addresses" data-ar="عناويننا">Nos Adresses</span>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-item-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <div>
                                    <div class="footer-contact-item-label">Siège Alger</div>
                                    <div class="footer-contact-item-text">126 Coopérative ESSALEM 2 Birkhadem 16029 - Alger</div>
                                </div>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-item-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <div>
                                    <div class="footer-contact-item-label">Siège Oran</div>
                                    <div class="footer-contact-item-text">06,07 zone de siéges usto Oran</div>
                                </div>
                            </div>
                        </div>

                        <!-- Section Téléphones avec icônes et alignement parfait SANS CARTES -->
                        <div class="footer-contact-section">
                            <div class="footer-contact-section-title">
                                <i class="fas fa-phone"></i>
                                <span data-fr="Nos Téléphones" data-en="Our Phones" data-ar="هواتفنا">Nos Téléphones</span>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-item-icon">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div>
                                    <div class="footer-contact-item-label">Alger</div>
                                    <div class="footer-contact-item-text">0770 – 284 - 828 / 0770 – 431 - 516</div>
                                </div>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-item-icon">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div>
                                    <div class="footer-contact-item-label">Oran</div>
                                    <div class="footer-contact-item-text">0770 - 177 - 776 / 046 - 821 - 393</div>
                                </div>
                            </div>
                        </div>

                        <!-- Section Email avec icône et alignement parfait SANS CARTES - DUPLICATION SUPPRIMÉE -->
                        <div class="footer-contact-section">
                            <div class="footer-contact-section-title">
                                <i class="fas fa-envelope"></i>
                                <span data-fr="Email" data-en="Email" data-ar="البريد الإلكتروني">Email</span>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-item-icon">
                                    <i class="fas fa-at"></i>
                                </div>
                                <div>
                                    <div class="footer-contact-item-text">
                                        <a href="mailto:ae2i.algerie@ae2i-aerh.com">ae2i.algerie@ae2i-aerh.com</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <!-- ADD: Link to AE2I France in footer as requested -->
                <div class="footer-copyright" data-fr="© 2025 AE2I Algérie. Tous droits réservés. Conformité Loi 18-07." data-en="© 2025 AE2I Algeria. All rights reserved. Law 18-07 Compliance." data-ar="© 2025 AE2I الجزائر. جميع الحقوق محفوظة. الامتثال للقانون 18-07.">
                    © 2025 AE2I Algérie. Tous droits réservés. Conformité Loi 18-07. | Filiale de <a href="https://www.ae2i-ingenierie.com/" target="_blank" rel="noopener noreferrer" style="color: white; text-decoration: underline; font-weight: 600;">AE2I FRANCE</a>
                </div>
                <div class="footer-social">
                    <a href="#" class="social-btn functional-btn" aria-label="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                    <a href="#" class="social-btn functional-btn" aria-label="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                    <a href="#" class="social-btn functional-btn" aria-label="Facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                    <a href="#" class="social-btn functional-btn" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                </div>
            </div>

            <!-- ===== BOUTON LOGIN DISCRET DANS LE FOOTER ===== -->
            <div class="bottom-login-container">
                <button class="bottom-login-btn functional-btn" id="loginBtn" aria-label="Connexion" aria-expanded="false">
                    <i class="fas fa-user" aria-hidden="true"></i>
                    <span data-fr="Se connecter" data-en="Login" data-ar="تسجيل الدخول">Se connecter</span>
                </button>
                <div class="user-dropdown" id="userDropdown" role="menu" aria-labelledby="loginBtn" style="display: none;">
                    <a href="#" class="user-dropdown-item functional-btn" id="adminPanelLink" role="menuitem">
                        <i class="fas fa-cogs" aria-hidden="true"></i>
                        <span data-fr="Panneau d'administration" data-en="Administration Panel" data-ar="لوحة التحكم">Panneau d'administration</span>
                    </a>
                    <a href="#" class="user-dropdown-item functional-btn" id="profileLink" style="display: none;" role="menuitem">
                        <i class="fas fa-user-circle" aria-hidden="true"></i>
                        <span data-fr="Mon profil" data-en="My Profile" data-ar="ملفي الشخصي">Mon profil</span>
                    </a>
                    <a href="#" class="user-dropdown-item functional-btn" id="logoutLink" style="display: none;" role="menuitem">
                        <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                        <span data-fr="Déconnexion" data-en="Logout" data-ar="تسجيل الخروج">Déconnexion</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- ===== MODALS ULTRA-SOPHISTIQUÉS ===== -->
    
    <!-- Consent Settings Modal -->
    <div class="consent-modal" id="consentModal" role="dialog" aria-labelledby="consentTitle" aria-hidden="true">
        <div class="consent-modal-content">
            <button class="close functional-btn" onclick="closeModal('consentModal')">&times;</button>
            <h2 id="consentTitle"><i class="fas fa-shield-alt" aria-hidden="true"></i> <span data-fr="Paramètres de Confidentialité" data-en="Privacy Settings" data-ar="Paramètres de Confidentialité">Paramètres de Confidentialité</span></h2>
            <div style="margin: 24px 0;">
                <h3 data-fr="Conformité à la Loi 18-07" data-en="Compliance with Law 18-07" data-ar="Conformité à la Loi 18-07">Conformité à la Loi 18-07</h3>
                <p style="color: var(--text-light); margin-bottom: 20px;" data-fr="En application de la loi n°18-07 du 10 juin 2018 relative à la protection des personnes physiques dans le traitement des données à caractère personnel, nous collectons et traitons vos données personnelles." data-en="In application of law n°18-07 of June 10, 2018 relating to the protection of natural persons with regard to the processing of personal data, we collect and process your personal data." data-ar="En application de la loi n°18-07 du 10 juin 2018 relative à la protection des personnes physiques dans le traitement des données à caractère personnel, nous collectons et traitons vos données personnelles.">
                    En application de la loi n°18-07 du 10 juin 2018 relative à la protection des personnes physiques 
                    dans le traitement des données à caractère personnel, nous collectons et traitons vos données personnelles.
                </p>
                
                <h4 style="margin-top: 24px; margin-bottom: 12px;" data-fr="Types de données collectées :" data-en="Types of data collected:" data-ar="Types de données collectées :">Types de données collectées :</h4>
                <ul style="margin-left: 20px; color: var(--text-light);">
                    <li data-fr="Données de navigation (cookies techniques)" data-en="Navigation data (technical cookies)" data-ar="Données de navigation (cookies techniques)">Données de navigation (cookies techniques)</li>
                    <li data-fr="Informations de contact (formulaires)" data-en="Contact information (forms)" data-ar="Informations de contact (formulaires)">Informations de contact (formulaires)</li>
                    <li data-fr="CV et lettres de motivation (candidatures)" data-en="CVs and cover letters (applications)" data-ar="CV et lettres de motivation (candidatures)">CV et lettres de motivation (candidatures)</li>
                    <li data-fr="Logs de connexion (sécurité)" data-en="Connection logs (security)" data-ar="Logs de connexion (sécurité)">Logs de connexion (sécurité)</li>
                </ul>
                
                <h4 style="margin-top: 24px; margin-bottom: 12px;" data-fr="Vos droits :" data-en="Your rights:" data-ar="Vos droits :">Vos droits :</h4>
                <ul style="margin-left: 20px; color: var(--text-light);">
                    <li data-fr="Droit d'accès à vos données" data-en="Right of access to your data" data-ar="Droit d'accès à vos données">Droit d'accès à vos données</li>
                    <li data-fr="Droit de rectification" data-en="Right of rectification" data-ar="Droit de rectification">Droit de rectification</li>
                    <li data-fr="Droit à l'effacement" data-en="Right to erasure" data-ar="Droit à l'effacement">Droit à l'effacement</li>
                    <li data-fr="Droit à la portabilité" data-en="Right to portability" data-ar="Droit à la portabilité">Droit à la portabilité</li>
                    <li data-fr="Droit d'opposition au traitement" data-en="Right to object to processing" data-ar="Droit d'opposition au traitement">Droit d'opposition au traitement</li>
                </ul>
                
                <div style="margin-top: 24px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 12px;">
                        <input type="checkbox" id="cookiesConsent" checked>
                        <span data-fr="Cookies techniques (nécessaires au fonctionnement)" data-en="Technical cookies (necessary for operation)" data-ar="Cookies techniques (nécessaires au fonctionnement)">Cookies techniques (nécessaires au fonctionnement)</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 12px;">
                        <input type="checkbox" id="analyticsConsent">
                        <span data-fr="Cookies d'analyse (amélioration de l'expérience)" data-en="Analytics cookies (experience improvement)" data-ar="Cookies d'analyse (amélioration de l'expérience)">Cookies d'analyse (amélioration de l'expérience)</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 12px;">
                        <input type="checkbox" id="formsConsent">
                        <span data-fr="Traitement des formulaires de contact et candidatures" data-en="Processing of contact and application forms" data-ar="Traitement des formulaires de contact et candidatures">Traitement des formulaires de contact et candidatures</span>
                    </label>
                </div>
            </div>
            <div style="display: flex; gap: 16px; justify-content: center; margin-top: 24px;">
                <button class="btn btn-primary functional-btn" onclick="saveConsentSettings()">
                    <i class="fas fa-save"></i> <span data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</span>
                </button>
                <button class="btn btn-outline functional-btn" onclick="closeModal('consentModal')">
                    <span data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</span>
                </button>
            </div>
        </div>
    </div>

    <!-- FORMULAIRE DE CANDIDATURE ULTRA-AMÉLIORÉ AVEC NOUVELLES QUESTIONS -->
    <div class="modal" id="applicationModal" role="dialog" aria-labelledby="applicationTitle" aria-hidden="true">
        <div class="modal-content">
            <span class="close functional-btn" id="closeApplicationModal" aria-label="Fermer">&times;</span>
            <h2 id="applicationTitle" data-fr="Formulaire de candidature" data-en="Application Form" data-ar="Formulaire de candidature">Formulaire de candidature</h2>
            <div id="consentRequired" style="background: rgba(230, 57, 70, 0.1); border: 2px solid var(--danger); border-radius: var(--border-radius); padding: 16px; margin-bottom: 20px; display: none;">
                <i class="fas fa-exclamation-triangle"></i> 
                <strong data-fr="Consentement requis :" data-en="Consent required:" data-ar="Consentement requis :">Consentement requis :</strong> <span data-fr="Vous devez accepter le traitement de vos données personnelles pour soumettre votre candidature." data-en="You must accept the processing of your personal data to submit your application." data-ar="Vous devez accepter le traitement de vos données personnelles pour soumettre votre candidature.">Vous devez accepter le traitement de vos données personnelles pour soumettre votre candidature.</span>
                <button class="btn btn-sm btn-primary functional-btn" onclick="openModal('consentModal')" style="margin-left: 12px;" data-fr="Gérer les paramètres" data-en="Manage settings" data-ar="Gérer les paramètres">
                    Gérer les paramètres
                </button>
            </div>
            
            <!-- Bouton LinkedIn pour se connecter -->
            <button class="linkedin-btn functional-btn" onclick="connectLinkedIn()" style="width: 100%; margin-bottom: var(--spacing-lg);">
                <i class="fab fa-linkedin" aria-hidden="true"></i>
                <span data-fr="Se connecter avec LinkedIn et préremplir" data-en="Connect with LinkedIn and prefill" data-ar="Se connecter avec LinkedIn et préremplir">Se connecter avec LinkedIn et préremplir</span>
            </button>
            
            <form id="applicationForm" novalidate>
                <!-- ADD: candidature-validation - Split name into Nom and Prénom -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
                    <div class="form-group">
                        <label for="applicantLastName" data-fr="Nom *" data-en="Last Name *" data-ar="Nom *">Nom *</label>
                        <input type="text" id="applicantLastName" name="applicantLastName" class="form-control" required autocomplete="family-name">
                    </div>
                    <div class="form-group">
                        <label for="applicantFirstName" data-fr="Prénom *" data-en="First Name *" data-ar="Prénom *">Prénom *</label>
                        <input type="text" id="applicantFirstName" name="applicantFirstName" class="form-control" required autocomplete="given-name">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
                    <div class="form-group">
                        <label for="applicantEmail" data-fr="Email *" data-en="Email *" data-ar="Email *">Email *</label>
                        <input type="email" id="applicantEmail" name="applicantEmail" class="form-control" required autocomplete="email">
                    </div>
                    <div class="form-group">
                        <label for="applicantPhone" data-fr="Téléphone *" data-en="Phone *" data-ar="Téléphone *">Téléphone *</label>
                        <input type="tel" id="applicantPhone" name="applicantPhone" class="form-control" required autocomplete="tel">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="applicantPosition" data-fr="Poste actuel (optionnel)" data-en="Current position (optional)" data-ar="Poste actuel (optionnel)">Poste actuel (optionnel)</label>
                    <input type="text" id="applicantPosition" name="applicantPosition" class="form-control">
                </div>

                <!-- NOUVELLES QUESTIONS OBLIGATOIRES -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
                    <div class="form-group">
                        <label for="expectedSalary" data-fr="Salaire souhaité (DA) *" data-en="Expected salary (DA) *" data-ar="Salaire souhaité (DA) *">Salaire souhaité (DA) *</label>
                        <input type="number" id="expectedSalary" name="expectedSalary" class="form-control" required placeholder="Ex: 80000" min="0" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="yearsExperience" data-fr="Combien d'années d'expérience possédez-vous pour ce poste ? *" data-en="How many years of experience do you have for this position? *" data-ar="Combien d'années d'expérience possédez-vous pour ce poste ? *">Combien d'années d'expérience possédez-vous pour ce poste ? *</label>
                        <select id="yearsExperience" name="yearsExperience" class="form-control" required>
                            <option value="" data-fr="Sélectionnez" data-en="Select" data-ar="Sélectionnez">Sélectionnez</option>
                            <option value="0" data-fr="Débutant (0 an)" data-en="Beginner (0 year)" data-ar="Débutant (0 an)">Débutant (0 an)</option>
                            <option value="1" data-fr="1 an" data-en="1 year" data-ar="1 an">1 an</option>
                            <option value="2" data-fr="2 ans" data-en="2 years" data-ar="2 ans">2 ans</option>
                            <option value="3" data-fr="3 ans" data-en="3 years" data-ar="3 ans">3 ans</option>
                            <option value="4" data-fr="4 ans" data-en="4 years" data-ar="4 ans">4 ans</option>
                            <option value="5" data-fr="5 ans" data-en="5 years" data-ar="5 ans">5 ans</option>
                            <option value="6-10" data-fr="6-10 ans" data-en="6-10 years" data-ar="6-10 ans">6-10 ans</option>
                            <option value="10+" data-fr="Plus de 10 ans" data-en="More than 10 years" data-ar="Plus de 10 ans">Plus de 10 ans</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label data-fr="Êtes-vous en poste actuellement ? *" data-en="Are you currently employed? *" data-ar="Êtes-vous en poste actuellement ? *">Êtes-vous en poste actuellement ? *</label>
                    <div class="form-radio-group">
                        <label class="form-radio-item">
                            <input type="radio" name="currentlyEmployed" value="yes" required onchange="toggleNoticeField(this.value)">
                            <span data-fr="Oui" data-en="Yes" data-ar="Oui">Oui</span>
                        </label>
                        <label class="form-radio-item">
                            <input type="radio" name="currentlyEmployed" value="no" required onchange="toggleNoticeField(this.value)">
                            <span data-fr="Non" data-en="No" data-ar="Non">Non</span>
                        </label>
                    </div>
                </div>

                <!-- ADD: preavis-negociable-visual - Enhanced préavis field with negotiable option -->
                <div class="form-group conditional-field" id="noticeField">
                    <div class="form-checkbox-item">
                        <input type="checkbox" id="inNotice" name="inNotice" onchange="toggleNoticeDaysField(this.checked)">
                        <span data-fr="Êtes-vous actuellement en préavis ?" data-en="Are you currently in notice period?" data-ar="Êtes-vous actuellement en préavis ?">Êtes-vous actuellement en préavis ?</span>
                    </div>

                    <div class="conditional-field" id="noticeDaysField">
                        <label for="noticeDays" data-fr="Combien de jours de préavis ?" data-en="How many days of notice?" data-ar="Combien de jours de préavis ?">Combien de jours de préavis ?</label>
                        <div style="display: flex; gap: var(--spacing-md); align-items: center;">
                            <input type="number" id="noticeDays" name="noticeDays" class="form-control notice-days-input" placeholder="Ex: 30" min="1" max="365" style="flex: 1;">
                            <label class="form-checkbox-item" style="margin: 0; white-space: nowrap;">
                                <input type="checkbox" id="noticeDaysNegotiable" name="noticeDaysNegotiable" onchange="toggleNoticeDaysNegotiable(this.checked)">
                                <span data-fr="Négociable" data-en="Negotiable" data-ar="Négociable">Négociable</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
                    <div class="form-group">
                        <label for="lastJobDate" data-fr="À quand remonte votre dernier poste ? *" data-en="When was your last position? *" data-ar="À quand remonte votre dernier poste ? *">À quand remonte votre dernier poste ? *</label>
                        <select id="lastJobDate" name="lastJobDate" class="form-control" required>
                            <option value="" data-fr="Sélectionnez" data-en="Select" data-ar="Sélectionnez">Sélectionnez</option>
                            <option value="current" data-fr="Actuellement en poste" data-en="Currently employed" data-ar="Actuellement en poste">Actuellement en poste</option>
                            <option value="less-1-month" data-fr="Moins d'1 mois" data-en="Less than 1 month" data-ar="Moins d'1 mois">Moins d'1 mois</option>
                            <option value="1-3-months" data-fr="1 à 3 mois" data-en="1 to 3 months" data-ar="1 à 3 mois">1 à 3 mois</option>
                            <option value="3-6-months" data-fr="3 à 6 mois" data-en="3 to 6 months" data-ar="3 à 6 mois">3 à 6 mois</option>
                            <option value="more-6-months" data-fr="Plus de 6 mois" data-en="More than 6 months" data-ar="Plus de 6 mois">Plus de 6 mois</option>
                            <option value="more-1-year" data-fr="Plus d'1 an" data-en="More than 1 year" data-ar="Plus d'1 an">Plus d'1 an</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-fr="Type de votre dernier contrat *" data-en="Type of your last contract *" data-ar="Type de votre dernier contrat *">Type de votre dernier contrat *</label>
                        <div class="form-radio-group">
                            <label class="form-radio-item">
                                <input type="radio" name="lastContractType" value="cdi" required>
                                <span>CDI</span>
                            </label>
                            <label class="form-radio-item">
                                <input type="radio" name="lastContractType" value="cdd" required>
                                <span>CDD</span>
                            </label>
                            <label class="form-radio-item">
                                <input type="radio" name="lastContractType" value="stage" required>
                                <span data-fr="Stage" data-en="Internship" data-ar="Stage">Stage</span>
                            </label>
                            <label class="form-radio-item">
                                <input type="radio" name="lastContractType" value="freelance" required>
                                <span>Freelance</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- ADD: New required fields as requested -->
                <div class="form-group">
                    <label for="applicantDiploma" data-fr="Quel est votre diplôme ? *" data-en="What is your diploma? *" data-ar="Quel est votre diplôme ? *">Quel est votre diplôme ? *</label>
                    <input type="text" id="applicantDiploma" name="applicantDiploma" class="form-control" required placeholder="Ex: Master en Génie Électrique">
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
                    <div class="form-group">
                        <label for="applicantAge" data-fr="Âge *" data-en="Age *" data-ar="Âge *">Âge *</label>
                        <input type="number" id="applicantAge" name="applicantAge" class="form-control" required placeholder="Ex: 28" min="16" max="70">
                    </div>
                    <div class="form-group">
                        <label for="applicantDiploma2" data-fr="Spécialité du diplôme" data-en="Diploma specialization" data-ar="Spécialité du diplôme">Spécialité du diplôme</label>
                        <input type="text" id="applicantDiploma2" name="applicantDiploma2" class="form-control" placeholder="Ex: Électrotechnique">
                    </div>
                </div>

                <!-- Driver license section - SAME STRUCTURE AS PRÉAVIS -->
                <div class="form-group">
                    <label data-fr="Possédez-vous un permis de conduire ? *" data-en="Do you have a driver's license? *" data-ar="Possédez-vous un permis de conduire ? *">Possédez-vous un permis de conduire ? *</label>
                    <div class="form-radio-group">
                        <label class="form-radio-item">
                            <input type="radio" name="hasDriverLicense" value="yes" required onchange="toggleDriverLicenseField(this.value)">
                            <span data-fr="Oui" data-en="Yes" data-ar="Oui">Oui</span>
                        </label>
                        <label class="form-radio-item">
                            <input type="radio" name="hasDriverLicense" value="no" required onchange="toggleDriverLicenseField(this.value)">
                            <span data-fr="Non" data-en="No" data-ar="Non">Non</span>
                        </label>
                    </div>
                </div>

                <!-- Conditional fields for driver license - SAME STRUCTURE AS PRÉAVIS -->
                <div class="form-group conditional-field" id="driverLicenseFields">
                    <div class="form-group">
                        <label data-fr="Type(s) de permis *" data-en="License type(s) *" data-ar="Type(s) de permis *">Type(s) de permis *</label>
                        <div class="form-checkbox-group" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;">
                            <label class="form-checkbox-item">
                                <input type="checkbox" name="licenseTypes" value="A">
                                <span>Permis A</span>
                            </label>
                            <label class="form-checkbox-item">
                                <input type="checkbox" name="licenseTypes" value="B">
                                <span>Permis B</span>
                            </label>
                            <label class="form-checkbox-item">
                                <input type="checkbox" name="licenseTypes" value="C">
                                <span>Permis C</span>
                            </label>
                            <label class="form-checkbox-item">
                                <input type="checkbox" name="licenseTypes" value="D">
                                <span>Permis D</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label data-fr="Possédez-vous un véhicule ? *" data-en="Do you own a vehicle? *" data-ar="Possédez-vous un véhicule ? *">Possédez-vous un véhicule ? *</label>
                        <div class="form-radio-group">
                            <label class="form-radio-item">
                                <input type="radio" name="hasVehicle" value="yes">
                                <span data-fr="Oui" data-en="Yes" data-ar="Oui">Oui</span>
                            </label>
                            <label class="form-radio-item">
                                <input type="radio" name="hasVehicle" value="no">
                                <span data-fr="Non" data-en="No" data-ar="Non">Non</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label data-fr="Êtes-vous un homme ou une femme ? *" data-en="Are you male or female? *" data-ar="Êtes-vous un homme ou une femme ? *">Êtes-vous un homme ou une femme ? *</label>
                    <div class="form-radio-group">
                        <label class="form-radio-item">
                            <input type="radio" name="gender" value="male" required>
                            <span data-fr="Homme" data-en="Male" data-ar="Homme">Homme</span>
                        </label>
                        <label class="form-radio-item">
                            <input type="radio" name="gender" value="female" required>
                            <span data-fr="Femme" data-en="Female" data-ar="Femme">Femme</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="applicantCV" data-fr="CV (PDF) *" data-en="CV (PDF) *" data-ar="CV (PDF) *">CV (PDF) *</label>
                    <input type="file" id="applicantCV" name="applicantCV" class="form-control" accept=".pdf" required>
                </div>

                <!-- Custom question from recruiter (shown after submission) -->
                <div class="form-group" id="customQuestionField" style="display: none;">
                    <label id="customQuestionLabel" style="font-weight: 600; color: var(--primary);"></label>
                    <textarea id="customQuestionAnswer" name="customQuestionAnswer" class="form-control" rows="4" placeholder="Votre réponse..."></textarea>
                </div>

                <button type="submit" class="btn btn-primary functional-btn" style="width: 100%; margin-top: var(--spacing-md); padding: 20px; font-size: var(--font-size-lg);">
                    <i class="fas fa-paper-plane" aria-hidden="true"></i>
                    <span data-fr="Envoyer la candidature" data-en="Submit application" data-ar="Envoyer la candidature">Envoyer la candidature</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Modals -->
    <div class="admin-modal" id="serviceModal" role="dialog" aria-hidden="true">
        <div class="admin-modal-content">
            <button class="close functional-btn" onclick="closeModal('serviceModal')">&times;</button>
            <h2><i class="fas fa-cogs" aria-hidden="true"></i> <span data-fr="Ajouter/Modifier Service" data-en="Add/Edit Service" data-ar="Ajouter/Modifier Service">Ajouter/Modifier Service</span></h2>
            <form id="serviceForm">
                <div class="form-group">
                    <label for="serviceTitle" data-fr="Titre (Français)" data-en="Title (French)" data-ar="Titre (Français)">Titre (Français)</label>
                    <input type="text" id="serviceTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="serviceTitleEn" data-fr="Titre (English)" data-en="Title (English)" data-ar="Titre (English)">Titre (English)</label>
                    <input type="text" id="serviceTitleEn" class="form-control">
                </div>
                <div class="form-group">
                    <label for="serviceIcon" data-fr="Icône" data-en="Icon" data-ar="Icône">Icône</label>
                    <input type="text" id="serviceIcon" class="form-control" placeholder="⚙️">
                </div>
                <div class="form-group">
                    <label for="serviceDescription" data-fr="Description (Français)" data-en="Description (French)" data-ar="Description (Français)">Description (Français)</label>
                    <textarea id="serviceDescription" class="form-control" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="serviceDescriptionEn" data-fr="Description (English)" data-en="Description (English)" data-ar="Description (English)">Description (English)</label>
                    <textarea id="serviceDescriptionEn" class="form-control" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="serviceImage" data-fr="Image" data-en="Image" data-ar="Image">Image</label>
                    <input type="file" id="serviceImage" class="form-control" accept="image/*">
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button type="button" class="btn btn-outline functional-btn" onclick="closeModal('serviceModal')" data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</button>
                    <button type="submit" class="btn btn-primary functional-btn" data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <div class="admin-modal" id="clientModal" role="dialog" aria-hidden="true">
        <div class="admin-modal-content">
            <button class="close functional-btn" onclick="closeModal('clientModal')">&times;</button>
            <h2><i class="fas fa-handshake" aria-hidden="true"></i> <span data-fr="Ajouter/Modifier Client" data-en="Add/Edit Client" data-ar="Ajouter/Modifier Client">Ajouter/Modifier Client</span></h2>
            <form id="clientForm">
                <div class="form-group">
                    <label for="clientName" data-fr="Nom du client" data-en="Client name" data-ar="Nom du client">Nom du client</label>
                    <input type="text" id="clientName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="clientLogo" data-fr="Logo" data-en="Logo" data-ar="Logo">Logo</label>
                    <input type="file" id="clientLogo" class="form-control" accept="image/*">
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button type="button" class="btn btn-outline functional-btn" onclick="closeModal('clientModal')" data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</button>
                    <button type="submit" class="btn btn-primary functional-btn" data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <div class="admin-modal" id="testimonialModal" role="dialog" aria-hidden="true">
        <div class="admin-modal-content">
            <button class="close functional-btn" onclick="closeModal('testimonialModal')">&times;</button>
            <h2><i class="fas fa-quote-left" aria-hidden="true"></i> <span data-fr="Ajouter/Modifier Témoignage" data-en="Add/Edit Testimonial" data-ar="Ajouter/Modifier Témoignage">Ajouter/Modifier Témoignage</span></h2>
            <form id="testimonialForm">
                <div class="form-group">
                    <label for="testimonialName" data-fr="Nom" data-en="Name" data-ar="Nom">Nom</label>
                    <input type="text" id="testimonialName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="testimonialPosition" data-fr="Position (Français)" data-en="Position (French)" data-ar="Position (Français)">Position (Français)</label>
                    <input type="text" id="testimonialPosition" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="testimonialPositionEn" data-fr="Position (English)" data-en="Position (English)" data-ar="Position (English)">Position (English)</label>
                    <input type="text" id="testimonialPositionEn" class="form-control">
                </div>
                <div class="form-group">
                    <label for="testimonialText" data-fr="Témoignage (Français)" data-en="Testimonial (French)" data-ar="Témoignage (Français)">Témoignage (Français)</label>
                    <textarea id="testimonialText" class="form-control" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="testimonialTextEn" data-fr="Témoignage (English)" data-en="Testimonial (English)" data-ar="Témoignage (English)">Témoignage (English)</label>
                    <textarea id="testimonialTextEn" class="form-control" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="testimonialRating" data-fr="Note" data-en="Rating" data-ar="Note">Note</label>
                    <select id="testimonialRating" class="form-control">
                        <option value="5" data-fr="5 étoiles" data-en="5 stars" data-ar="5 étoiles">5 étoiles</option>
                        <option value="4" data-fr="4 étoiles" data-en="4 stars" data-ar="4 étoiles">4 étoiles</option>
                        <option value="3" data-fr="3 étoiles" data-en="3 stars" data-ar="3 étoiles">3 étoiles</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="testimonialAvatar" data-fr="Photo" data-en="Photo" data-ar="Photo">Photo</label>
                    <input type="file" id="testimonialAvatar" class="form-control" accept="image/*">
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button type="button" class="btn btn-outline functional-btn" onclick="closeModal('testimonialModal')" data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</button>
                    <button type="submit" class="btn btn-primary functional-btn" data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <div class="admin-modal" id="jobModal" role="dialog" aria-hidden="true">
        <div class="admin-modal-content">
            <button class="close functional-btn" onclick="closeModal('jobModal')">&times;</button>
            <h2><i class="fas fa-briefcase" aria-hidden="true"></i> <span data-fr="Ajouter/Modifier Offre" data-en="Add/Edit Job Offer" data-ar="Ajouter/Modifier Offre">Ajouter/Modifier Offre</span></h2>
            <form id="jobForm">
                <div class="form-group">
                    <label for="jobTitle" data-fr="Titre du poste (Français)" data-en="Job title (French)" data-ar="Titre du poste (Français)">Titre du poste (Français)</label>
                    <input type="text" id="jobTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="jobTitleEn" data-fr="Titre du poste (English)" data-en="Job title (English)" data-ar="Titre du poste (English)">Titre du poste (English)</label>
                    <input type="text" id="jobTitleEn" class="form-control">
                </div>
                <div class="form-group">
                    <label for="jobType" data-fr="Type de contrat" data-en="Contract type" data-ar="Type de contrat">Type de contrat</label>
                    <select id="jobType" class="form-control" required>
                        <option value="" data-fr="Sélectionner" data-en="Select" data-ar="Sélectionner">Sélectionner</option>
                        <option value="cdi">CDI</option>
                        <option value="cdd">CDD</option>
                        <option value="stage" data-fr="Stage" data-en="Internship" data-ar="Stage">Stage</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="jobLocation" data-fr="Localisation" data-en="Location" data-ar="Localisation">Localisation</label>
                    <input type="text" id="jobLocation" class="form-control" value="Alger, Algérie" required>
                </div>
                <div class="form-group">
                    <label for="jobDescription" data-fr="Description (Français)" data-en="Description (French)" data-ar="Description (Français)">Description (Français)</label>
                    <textarea id="jobDescription" class="form-control" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="jobDescriptionEn" data-fr="Description (English)" data-en="Description (English)" data-ar="Description (English)">Description (English)</label>
                    <textarea id="jobDescriptionEn" class="form-control" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="jobRequirements" data-fr="Exigences (Français)" data-en="Requirements (French)" data-ar="Exigences (Français)">Exigences (Français)</label>
                    <textarea id="jobRequirements" class="form-control" rows="2" required></textarea>
                </div>
                <div class="form-group">
                    <label for="jobRequirementsEn" data-fr="Exigences (English)" data-en="Requirements (English)" data-ar="Exigences (English)">Exigences (English)</label>
                    <textarea id="jobRequirementsEn" class="form-control" rows="2"></textarea>
                </div>

                <!-- Custom question fields (optional) -->
                <div style="background: rgba(0, 86, 179, 0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                    <h3 style="margin: 0 0 15px 0; font-size: var(--font-size-base); color: var(--primary);">
                        <i class="fas fa-question-circle"></i>
                        <span data-fr="Question personnalisée (facultative)" data-en="Custom Question (optional)" data-ar="Question personnalisée (facultative)">Question personnalisée (facultative)</span>
                    </h3>
                    <p style="font-size: var(--font-size-sm); color: var(--text-light); margin-bottom: 15px;" data-fr="Cette question apparaîtra dans le formulaire de candidature pour cette offre uniquement." data-en="This question will appear in the application form for this offer only." data-ar="Cette question apparaîtra dans le formulaire de candidature pour cette offre uniquement.">
                        Cette question apparaîtra dans le formulaire de candidature pour cette offre uniquement.
                    </p>
                    <div class="form-group">
                        <label for="jobCustomQuestion" data-fr="Question (Français)" data-en="Question (French)" data-ar="Question (Français)">Question (Français)</label>
                        <textarea id="jobCustomQuestion" class="form-control" rows="2" placeholder="Ex: Décrivez votre expérience la plus significative..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="jobCustomQuestionEn" data-fr="Question (English)" data-en="Question (English)" data-ar="Question (English)">Question (English)</label>
                        <textarea id="jobCustomQuestionEn" class="form-control" rows="2" placeholder="Ex: Describe your most significant experience..."></textarea>
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button type="button" class="btn btn-outline functional-btn" onclick="closeModal('jobModal')" data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</button>
                    <button type="submit" class="btn btn-primary functional-btn" data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <div class="admin-modal" id="pageModal" role="dialog" aria-hidden="true">
        <div class="admin-modal-content" style="max-width: 900px;">
            <button class="close functional-btn" onclick="closeModal('pageModal')">&times;</button>
            <h2><i class="fas fa-file-plus" aria-hidden="true"></i> <span data-fr="Créer/Modifier Page" data-en="Create/Edit Page" data-ar="Créer/Modifier Page">Créer/Modifier Page</span></h2>
            <form id="pageForm">
                <div class="form-group">
                    <label for="pageTitle" data-fr="Titre de la page" data-en="Page title" data-ar="Titre de la page">Titre de la page</label>
                    <input type="text" id="pageTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="pageSlug" data-fr="URL (slug)" data-en="URL (slug)" data-ar="URL (slug)">URL (slug)</label>
                    <input type="text" id="pageSlug" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="pageContent" data-fr="Contenu" data-en="Content" data-ar="Contenu">Contenu</label>
                    <textarea id="pageContentTinyMCE" class="form-control"></textarea>
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button type="button" class="btn btn-outline functional-btn" onclick="closeModal('pageModal')" data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</button>
                    <button type="submit" class="btn btn-primary functional-btn" data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <div class="admin-modal" id="userModal" role="dialog" aria-hidden="true">
        <div class="admin-modal-content">
            <button class="close functional-btn" onclick="closeModal('userModal')">&times;</button>
            <h2><i class="fas fa-user-plus" aria-hidden="true"></i> <span data-fr="Ajouter/Modifier Utilisateur" data-en="Add/Edit User" data-ar="Ajouter/Modifier Utilisateur">Ajouter/Modifier Utilisateur</span></h2>
            <form id="userForm">
                <div class="form-group">
                    <label for="userName" data-fr="Nom d'utilisateur" data-en="Username" data-ar="اسم المستخدم">Nom d'utilisateur</label>
                    <input type="text" id="userName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="userEmail" data-fr="Email" data-en="Email" data-ar="البريد الإلكتروني">Email</label>
                    <input type="email" id="userEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="userRole" data-fr="Rôle" data-en="Role" data-ar="Rôle">Rôle</label>
                    <select id="userRole" class="form-control" required onchange="updateRoleDescription()">
                        <option value="" data-fr="Sélectionner" data-en="Select" data-ar="Sélectionner">Sélectionner</option>
                        <option value="admin" data-fr="Administrateur" data-en="Administrator" data-ar="Administrateur">Administrateur</option>
                        <option value="recruiter" data-fr="Recruteur" data-en="Recruiter" data-ar="Recruteur">Recruteur</option>
                        <option value="reader" data-fr="Lecteur" data-en="Reader" data-ar="Lecteur">Lecteur</option>
                        <option value="editor" data-fr="Éditeur" data-en="Editor" data-ar="Éditeur">Éditeur</option>
                    </select>
                </div>
                <div id="roleDescription" style="background: var(--bg-alt); padding: 16px; border-radius: var(--border-radius); margin: 16px 0; font-size: var(--font-size-sm); color: var(--text-light); border-left: 4px solid var(--primary);">
                    <!-- Role description will be populated by JavaScript -->
                </div>
                <div class="form-group">
                    <label for="userPassword" data-fr="Mot de passe" data-en="Password" data-ar="كلمة المرور">Mot de passe</label>
                    <input type="password" id="userPassword" class="form-control" required>
                </div>
                <div style="display: flex; gap: 12px; margin-top: 20px;">
                    <button type="button" class="btn btn-outline functional-btn" onclick="closeModal('userModal')" data-fr="Annuler" data-en="Cancel" data-ar="Annuler">Annuler</button>
                    <button type="submit" class="btn btn-primary functional-btn" data-fr="Sauvegarder" data-en="Save" data-ar="Sauvegarder">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <!-- CV Preview Modal -->
    <div class="cv-preview-modal" id="cvPreviewModal" role="dialog" aria-hidden="true">
        <div class="cv-preview-content">
            <button class="close functional-btn" onclick="closeModal('cvPreviewModal')">&times;</button>
            <h2><i class="fas fa-file-alt" aria-hidden="true"></i> <span data-fr="Aperçu CV" data-en="CV Preview" data-ar="Aperçu CV">Aperçu CV</span></h2>
            <div id="cvPreviewContent">
                <!-- CV content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- ===== SCRIPTS GLOBAUX ULTRA-AMÉLIORÉS AVEC SAUVEGARDE FORCÉE OPÉRATIONNELLE ET CORRECTION DES BUGS ===== -->
    <script id="global-scripts">
        /* SECTION: VARIABLES GLOBALES */
        let currentPage = 'home';
        let currentUser = { username: 'guest', role: 'guest', isLoggedIn: false };
        console.log('🚀 [INIT] currentUser initial:', JSON.stringify(currentUser));
        let consentStatus = { accepted: false, analytics: false, forms: false, timestamp: null };
        let currentEditingIndex = -1;
        let currentEditingType = '';
        let currentTestimonialIndex = 0;
        let testimonialAutoSlide = null;
        let notificationQueue = [];
        let currentJobsPage = 1;
        let jobsPerPage = 12;
        let saveInProgress = false;
        let lastNotificationMessage = '';
        let lastNotificationTime = 0;
        let processingJobSave = false;

        /* SECTION: DONNÉES DU SITE AVEC FALLBACK LOCAL */
        let siteData = {
            settings: {
                title: 'AE2I Algérie – Des solutions pratiques, adaptées et accessibles à tous',
                slogan: 'Votre partenaire de confiance, vous accompagne avec une expertise technique, administrative et logistique sur-mesure.',
                description: 'AE2I Algérie - Votre partenaire de confiance, vous accompagne avec une expertise technique, administrative et logistique sur-mesure. et de la performance depuis 2009.',
                logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=150&h=50&fit=crop',
                favicon: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=32&h=32&fit=crop',
                defaultLanguage: 'fr',
                enableMultilingual: true,
                darkMode: false,
                primaryColor: '#008fb3',
                secondaryColor: '#e63946',
                maintenanceMode: false,
                maintenanceMessage: 'Nous effectuons actuellement une maintenance pour améliorer votre expérience.',
                sectionsEnabled: {
                    home: true,
                    about: true,
                    services: true,
                    qualite: true,
                    carriere: true,
                    contact: true,
                    testimonials: true
                },
                contact: {
                    addressAlger: '126 Coopérative ESSALEM 2 Birkhadem 16029 - Alger',
                    addressOran: '06,07 zone de siéges usto Oran',
                    phoneAlger: '0770 – 284- 828 / 0770 – 431- 516',
                    phoneOran: '0770 - 177 - 776 / 046 - 821 - 393',
                    email: 'ae2i.algerie@ae2i-aerh.com',
                    hours: 'Dim-Jeu: 09h00 - 17h00',
                    googleMapsUrl: '',
                    socialLinks: {
                        linkedin: 'https://www.linkedin.com/company/ae2i-algerie',
                        facebook: 'https://www.facebook.com/ae2ialgerie',
                        twitter: 'https://twitter.com/ae2i_algerie',
                        instagram: 'https://www.instagram.com/ae2i.algerie',
                        youtube: 'https://www.youtube.com/@ae2ialgerie',
                        tiktok: 'https://www.tiktok.com/@ae2i.algerie'
                    }
                },
                recruitmentEmails: ['recrutement@ae2i-aerh.com']
            },
            titleGradient: {
                start: '#008fb3',
                end: '#003d82',
                gradient: 'linear-gradient(135deg, #008fb3 0%, #003d82 100%)'
            },
            sloganGradient: {
                start: '#ffffff',
                end: '#e2e8f0',
                gradient: 'linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%)'
            },
            descriptionGradient: {
                start: '#64748b',
                end: '#94a3b8',
                gradient: 'linear-gradient(135deg, #64748b 0%, #94a3b8 100%)'
            },
            services: [
                {
                    id: 1,
                    icon: '⚙️',
                    title: { fr: 'Ingénierie de Projets', en: 'Project Engineering' },
                    description: { 
                        fr: 'Nous vous accompagnons dans la réalisation de vos projets nationaux et internationaux. Nos missions s\'étendent à l\'ensemble des métiers de l\'ingénierie.',
                        en: 'We support you in the implementation of your national and international projects. Our missions extend to all engineering professions.'
                    },
                    image: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&fit=crop',
                    active: true
                },
                {
                    id: 2,
                    icon: '🏗️',
                    title: { fr: 'Ingénierie d\'Installation', en: 'Installation Engineering' },
                    description: { 
                        fr: 'Conception et supervision d\'installations électriques pour projets industriels complexes.',
                        en: 'Design and supervision of electrical installations for complex industrial projects.'
                    },
                    image: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&fit=crop',
                    active: true
                },
                {
                    id: 3,
                    icon: '⚡',
                    title: { fr: 'Études Électriques', en: 'Electrical Studies' },
                    description: { 
                        fr: 'Conception et dimensionnement d\'installations électriques industrielles selon les normes.',
                        en: 'Design and sizing of industrial electrical installations according to standards.'
                    },
                    image: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&fit=crop',
                    active: true
                }
            ],
            clients: [
                { id: 1, name: 'Sonatrach', logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop', active: true },
                { id: 2, name: 'TotalEnergies', logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop', active: true },
                { id: 3, name: 'Schneider Electric', logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop', active: true },
                { id: 4, name: 'Siemens', logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop', active: true },
                { id: 5, name: 'ABB', logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop', active: true },
                { id: 6, name: 'General Electric', logo: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop', active: true }
            ],
            testimonials: [
                {
                    id: 1,
                    name: 'Jean Dupont',
                    position: { fr: 'Directeur Technique, Sonatrach', en: 'Technical Director, Sonatrach' },
                    avatar: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop',
                    rating: 5,
                    text: { 
                        fr: 'L\'équipe AE2I a su s\'adapter à nos contraintes spécifiques et proposer des solutions innovantes.',
                        en: 'The AE2I team adapted to our specific constraints and proposed innovative solutions.'
                    },
                    active: true
                },
                {
                    id: 2,
                    name: 'Marie Dubois',
                    position: { fr: 'Responsable Projet, TotalEnergies', en: 'Project Manager, TotalEnergies' },
                    avatar: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop',
                    rating: 5,
                    text: { 
                        fr: 'Professionnalisme et expertise technique de premier plan. AE2I a livré notre projet dans les délais.',
                        en: 'Top-tier professionalism and technical expertise. AE2I delivered our project on time.'
                    },
                    active: true
                },
                {
                    id: 3,
                    name: 'Ahmed Benali',
                    position: { fr: 'Ingénieur Principal, Schneider Electric', en: 'Principal Engineer, Schneider Electric' },
                    avatar: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop',
                    rating: 5,
                    text: { 
                        fr: 'Une collaboration exceptionnelle avec des résultats dépassant nos attentes.',
                        en: 'Exceptional collaboration with results exceeding our expectations.'
                    },
                    active: true
                }
            ],
            jobs: [
                {
                    id: 1,
                    type: 'cdi',
                    title: { fr: 'Ingénieur Électrotechnique Senior', en: 'Senior Electrical Engineer' },
                    location: 'Alger, Algérie',
                    description: {
                        fr: 'AE2I Algérie recrute, et si c\'était vous ? d\'experts pour concevoir et superviser des installations électriques pour des projets industriels d\'envergure. Vous travaillerez sur des projets innovants dans le secteur de l\'énergie et contribuerez à l\'excellence technique de nos réalisations.',
                        en: 'Join our team of experts to design and supervise electrical installations for large-scale industrial projects. You will work on innovative projects in the energy sector and contribute to the technical excellence of our achievements.'
                    },
                    requirements: {
                        fr: 'Diplôme d\'ingénieur en électrotechnique, 5+ années d\'expérience en projets industriels, maîtrise des logiciels CAO (AutoCAD, EPLAN), anglais technique requis, certification PMP appréciée.',
                        en: 'Engineering degree in electrical engineering, 5+ years experience in industrial projects, CAD software proficiency (AutoCAD, EPLAN), technical English required, PMP certification appreciated.'
                    },
                    active: true,
                    createdBy: 'admin',
                    createdAt: new Date().toISOString(),
                    isNew: true,
                    premium: true,
                    customQuestion: { fr: 'Décrivez votre expérience la plus significative en gestion de projets électriques industriels', en: 'Describe your most significant experience in industrial electrical project management' }
                },
                {
                    id: 2,
                    type: 'cdi',
                    title: { fr: 'Chef de Projet Industriel', en: 'Industrial Project Manager' },
                    location: 'Alger, Algérie',
                    description: { 
                        fr: 'Pilotez des projets industriels complexes de A à Z. Coordonnez les équipes techniques multidisciplinaires et assurez le respect des délais, budgets et exigences qualité dans un environnement international.',
                        en: 'Lead complex industrial projects from A to Z. Coordinate multidisciplinary technical teams and ensure compliance with deadlines, budgets and quality requirements in an international environment.'
                    },
                    requirements: { 
                        fr: 'Master en ingénierie industrielle, 7+ années d\'expérience en gestion de projet, certification PMP obligatoire, maîtrise de l\'anglais et de l\'arabe, expérience internationale souhaitée.',
                        en: 'Master in industrial engineering, 7+ years of project management experience, PMP certification required, proficiency in English and Arabic, international experience desired.'
                    },
                    active: true,
                    createdBy: 'admin',
                    createdAt: new Date().toISOString(),
                    isNew: true,
                    premium: true
                },
                {
                    id: 3,
                    type: 'stage',
                    title: { fr: 'Stage Ingénieur Automatisation', en: 'Automation Engineer Internship' },
                    location: 'Alger, Algérie',
                    description: { 
                        fr: 'Stage de 6 mois dans notre équipe automatisation. Participez à des projets réels de programmation d\'automates et de supervision industrielle. Développez vos compétences techniques dans un environnement professionnel stimulant.',
                        en: '6-month internship in our automation team. Participate in real PLC programming and industrial supervision projects. Develop your technical skills in a stimulating professional environment.'
                    },
                    requirements: { 
                        fr: 'Étudiant en 5ème année ingénierie automatique/électronique, bases en programmation automates (Siemens, Schneider), motivation et curiosité technique, stage de fin d\'études.',
                        en: 'Student in 5th year automation/electronics engineering, basics in PLC programming (Siemens, Schneider), motivation and technical curiosity, final year internship.'
                    },
                    active: true,
                    createdBy: 'admin',
                    createdAt: new Date().toISOString(),
                    isNew: false
                }
            ],
            users: [
                { id: 1, username: 'admin', email: 'selmabdf@gmail.com', role: 'admin', password: 'Selma@2219', active: true },
                { id: 2, username: 'recruiter', email: 'recruiter@ae2i-algerie.com', role: 'recruiter', password: 'recruiter123', active: true },
                { id: 3, username: 'reader', email: 'reader@ae2i-algerie.com', role: 'reader', password: 'reader123', active: true }
            ],
            customPages: [],
            cvDatabase: [],
            contactMessages: [],
            consentLogs: [],
            gdprRequests: [],
            activityLog: [],
            trash: [],
            language: 'fr',
            theme: 'light'
        };

        /* SECTION: TRADUCTIONS COMPLÈTES FR/EN */
        const translations = {
            fr: {
                home: 'Accueil',
                about: 'À propos',
                services: 'Services',
                qualite: 'Politique Qualité',
                carriere: 'Carrière',
                contact: 'Contact',
                searchPlaceholder: 'Rechercher par poste, compétences, région...',
                applyBtn: 'Postuler',
                allJobs: 'Tous',
                cdi: 'CDI',
                cdd: 'CDD',
                stage: 'Stage',
                connectLinkedIn: 'Se connecter avec LinkedIn et préremplir',
                submitApplication: 'Envoyer la candidature',
                newOffer: 'NOUVEAU',
                location: 'Localisation',
                requirements: 'Exigences',
                description: 'Description',
                newApplication: 'Nouvelle candidature reçue!',
                applicationReceived: 'Candidature reçue pour',
                viewApplication: 'Voir la candidature',
                downloadCV: 'Télécharger CV',
                contactCandidate: 'Contacter le candidat',
                markProcessed: 'Marquer comme traité',
                region: 'Région',
                skills: 'Compétences',
                experience: 'Expérience',
                noResults: 'Aucun résultat trouvé',
                searchResults: 'résultats trouvés'
            },
            en: {
                home: 'Home',
                about: 'About',
                services: 'Services',
                qualite: 'Quality Policy',
                carriere: 'Career',
                contact: 'Contact',
                searchPlaceholder: 'Search by position, skills, region...',
                applyBtn: 'Apply',
                allJobs: 'All',
                cdi: 'Permanent',
                cdd: 'Fixed-term',
                stage: 'Internship',
                connectLinkedIn: 'Connect with LinkedIn and prefill',
                submitApplication: 'Submit application',
                newOffer: 'NEW',
                location: 'Location',
                requirements: 'Requirements',
                description: 'Description',
                newApplication: 'New application received!',
                applicationReceived: 'Application received for',
                viewApplication: 'View application',
                downloadCV: 'Download CV',
                contactCandidate: 'Contact candidate',
                markProcessed: 'Mark as processed',
                region: 'Region',
                skills: 'Skills',
                experience: 'Experience',
                noResults: 'No results found',
                searchResults: 'results found'
            },
            ar: {
                home: 'الرئيسية',
                about: 'من نحن',
                services: 'خدماتنا',
                qualite: 'سياسة الجودة',
                carriere: 'الوظائف',
                contact: 'اتصل بنا',
                searchPlaceholder: 'البحث عن منصب، مهارات، منطقة...',
                applyBtn: 'تقديم الطلب',
                allJobs: 'الكل',
                cdi: 'عقد دائم',
                cdd: 'عقد محدد المدة',
                stage: 'تدريب',
                connectLinkedIn: 'الاتصال بـ LinkedIn والتعبئة التلقائية',
                submitApplication: 'إرسال الطلب',
                newOffer: 'جديد',
                location: 'الموقع',
                requirements: 'المتطلبات',
                description: 'الوصف',
                newApplication: 'تم استلام طلب جديد!',
                applicationReceived: 'تم استلام الطلب لـ',
                viewApplication: 'عرض الطلب',
                downloadCV: 'تحميل السيرة الذاتية',
                contactCandidate: 'الاتصال بالمرشح',
                markProcessed: 'وضع علامة كمعالج',
                region: 'المنطقة',
                skills: 'المهارات',
                experience: 'الخبرة',
                noResults: 'لا توجد نتائج',
                searchResults: 'نتائج العثور عليها'
            }
        };

        // Descriptions des rôles utilisateur avec nouveau rôle "lecteur"
        const roleDescriptions = {
            fr: {
                admin: 'Accès complet : gestion de tous les contenus, utilisateurs, paramètres et maintenance du site.',
                recruiter: 'Accès recrutement : création/modification d\'offres d\'emploi, gestion des candidatures et CV.',
                reader: 'Accès lecture seule : consultation et téléchargement des CV uniquement, aucune modification possible.',
                editor: 'Accès éditorial : gestion des contenus (services, témoignages, pages) sans accès aux utilisateurs.'
            },
            en: {
                admin: 'Full access: management of all content, users, settings and site maintenance.',
                recruiter: 'Recruitment access: create/edit job offers, manage applications and CVs.',
                reader: 'Read-only access: view and download CVs only, no modifications allowed.',
                editor: 'Editorial access: manage content (services, testimonials, pages) without user access.'
            }
        };

        // Système de notifications ultra-amélioré OPÉRATIONNEL avec sauvegarde forcée
        /* FIX: Add deduplication system to prevent multiple identical notifications */
        const notificationHistory = new Map();

        function showNotification(message, type = 'success', duration = 4000, actions = null) {
            const container = document.getElementById('notificationContainer');
            if (!container) return;

            // FIX: Check if identical notification was shown recently (within 2 seconds)
            const notificationKey = `${type}-${message}`;
            const now = Date.now();
            if (notificationHistory.has(notificationKey)) {
                const lastShown = notificationHistory.get(notificationKey);
                if (now - lastShown < 2000) {
                    console.log('Notification deduplicated:', message);
                    return; // Skip duplicate
                }
            }
            notificationHistory.set(notificationKey, now);

            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.setAttribute('role', 'alert');
            
            let icon = 'info-circle';
            if (type === 'success') icon = 'check-circle';
            else if (type === 'error') icon = 'times-circle';
            else if (type === 'warning') icon = 'exclamation-triangle';
            else if (type === 'candidate-alert') icon = 'user-plus';
            
            notification.innerHTML = `
                <i class="fas fa-${icon}"></i> 
                <div style="flex-grow: 1;">
                    <div style="font-weight: 600; margin-bottom: 4px;">${message}</div>
                    ${actions ? `<div style="display: flex; gap: 8px; margin-top: 8px;">${actions}</div>` : ''}
                </div>
                <button class="notification-close functional-btn" onclick="this.parentElement.remove()">×</button>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => notification.classList.add('show'), 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 300);
            }, duration);

            const notifications = container.querySelectorAll('.notification');
            if (notifications.length > 5) {
                notifications[0].remove();
            }

            // Force save after notification si utilisateur connecté
            if (currentUser.isLoggedIn && type === 'success') {
                setTimeout(() => {
                    forceSaveData();
                }, 100);
            }
        }

        function showCandidateNotification(candidateName, jobTitle, cvId) {
            const actions = `
                <button class="btn btn-sm btn-outline functional-btn" onclick="previewCV(${cvId})" style="background: rgba(255,255,255,0.2); border-color: rgba(255,255,255,0.3); color: white; font-size: 11px; padding: 4px 8px;">
                    ${translations[siteData.language].viewApplication}
                </button>
                <button class="btn btn-sm btn-outline functional-btn" onclick="contactApplicant('${candidateName}')" style="background: rgba(255,255,255,0.2); border-color: rgba(255,255,255,0.3); color: white; font-size: 11px; padding: 4px 8px;">
                    ${translations[siteData.language].contactCandidate}
                </button>
            `;

            showNotification(
                `${translations[siteData.language].newApplication}\n${translations[siteData.language].applicationReceived} ${jobTitle}`,
                'candidate-alert',
                10000,
                actions
            );
        }

        // Système de consentement Loi 18-07
        function initConsentSystem() {
            const savedConsent = localStorage.getItem('ae2i_consent');
            
            if (savedConsent) {
                consentStatus = JSON.parse(savedConsent);
                if (consentStatus.accepted) {
                    return;
                }
            }

            setTimeout(() => {
                document.getElementById('consentBanner').classList.add('show');
            }, 2000);
        }

        function handleConsentResponse(accepted) {
            consentStatus = {
                accepted: accepted,
                analytics: accepted,
                forms: accepted,
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                ip: 'masked-for-privacy'
            };

            localStorage.setItem('ae2i_consent', JSON.stringify(consentStatus));
            
            if (!siteData.consentLogs) siteData.consentLogs = [];
            siteData.consentLogs.push({
                id: Date.now(),
                action: accepted ? 'accepted' : 'declined',
                timestamp: consentStatus.timestamp,
                details: consentStatus
            });

            document.getElementById('consentBanner').classList.remove('show');
            
            const message = accepted ? 
                (siteData.language === 'en' ? 'Consent recorded. Thank you for your trust.' : 'Consentement enregistré. Merci pour votre confiance.') : 
                (siteData.language === 'en' ? 'Consent declined. Some features may be limited.' : 'Consentement refusé. Certaines fonctionnalités peuvent être limitées.');
            
            showNotification(message, accepted ? 'success' : 'info');
            logActivity('visitor', `Consentement ${accepted ? 'accepté' : 'refusé'}`);
            forceSaveData();
        }

        function checkConsentRequired(action) {
            if (!consentStatus.accepted || (action === 'forms' && !consentStatus.forms)) {
                document.getElementById('consentRequired').style.display = 'block';
                return false;
            }
            return true;
        }

        function saveConsentSettings() {
            const cookies = document.getElementById('cookiesConsent').checked;
            const analytics = document.getElementById('analyticsConsent').checked;
            const forms = document.getElementById('formsConsent').checked;

            consentStatus = {
                accepted: cookies,
                analytics: analytics,
                forms: forms,
                timestamp: new Date().toISOString()
            };

            localStorage.setItem('ae2i_consent', JSON.stringify(consentStatus));
            
            if (!siteData.consentLogs) siteData.consentLogs = [];
            siteData.consentLogs.push({
                id: Date.now(),
                action: 'settings_updated',
                timestamp: consentStatus.timestamp,
                details: consentStatus
            });

            closeModal('consentModal');
            showNotification(siteData.language === 'en' ? 'Privacy settings saved' : 'Paramètres de confidentialité sauvegardés', 'success');
            logActivity('visitor', 'Paramètres consentement modifiés');
            forceSaveData();
        }

        // Système de navigation multipage
        function showPage(pageId, addToHistory = true) {
            if (siteData.settings.maintenanceMode && currentUser.role !== 'admin' && pageId !== 'maintenance') {
                pageId = 'maintenance';
            }

            if (!checkPageAccess(pageId)) {
                return;
            }

            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active', 'fade-in');
            });

            const targetSection = document.getElementById(`${pageId}-page`);
            if (targetSection) {
                targetSection.classList.add('active', 'fade-in');
                currentPage = pageId;

                updateNavigation(pageId);

                if (addToHistory) {
                    window.history.pushState({ page: pageId }, '', `#${pageId}`);
                }

                window.scrollTo({ top: 0, behavior: 'smooth' });

                triggerPageScript(pageId);

                logActivity(currentUser.username || 'visitor', `Navigation vers page ${pageId}`);
            }
        }

        function updateNavigation(activePageId) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('current-page');
                if (link.getAttribute('data-page') === activePageId) {
                    link.classList.add('current-page');
                }
            });
        }

        function triggerPageScript(pageId) {
            switch (pageId) {
                case 'home':
                    executeHomeScript();
                    break;
                case 'about':
                    executeAboutScript();
                    break;
                case 'services':
                    executeServicesScript();
                    break;
                case 'qualite':
                    executeQualiteScript();
                    break;
                case 'carriere':
                    executeCarriereScript();
                    break;
                case 'contact':
                    executeContactScript();
                    break;
                case 'admin':
                    executeAdminScript();
                    break;
                case 'recruteur':
                    executeRecruteurScript();
                    break;
                case 'lecteur':
                    executeLecteurScript();
                    break;
            }
        }

        /* FIX: Add missing translatePage function */
        function translatePage(lang) {
            // Stub function to prevent errors - actual translations handled inline
            console.log('🌐 translatePage called with lang:', lang);
            // No-op for now as translations are handled via siteData.language checks
        }

        function checkPageAccess(pageId) {
            console.log('🔍 [ACCESS CHECK] Page:', pageId, 'currentUser:', JSON.stringify(currentUser));

            if (siteData.settings.maintenanceMode && currentUser.role !== 'admin' && pageId !== 'maintenance') {
                console.log('❌ [ACCESS CHECK] Bloqué par mode maintenance');
                return false;
            }

            if (siteData.settings.sectionsEnabled && siteData.settings.sectionsEnabled[pageId] === false) {
                console.log('❌ [ACCESS CHECK] Section désactivée');
                showNotification(siteData.language === 'en' ? 'This section is temporarily disabled' : 'Cette section est temporairement désactivée', 'warning');
                return false;
            }

            /* FIX: Ajouter logs d\u00e9taill\u00e9s pour debug acc\u00e8s admin */
            if (pageId === 'admin' && currentUser.role !== 'admin') {
                console.log('\u274c [ACCESS CHECK] Pas admin - Role actuel:', currentUser.role, 'isLoggedIn:', currentUser.isLoggedIn);
                console.log('\u274c [ACCESS CHECK] currentUser complet:', JSON.stringify(currentUser));
                console.log('\u274c [ACCESS CHECK] Session localStorage:', localStorage.getItem('ae2i_current_user'));
                showNotification(siteData.language === 'en' ? 'Administrator access required' : 'Acc\u00e8s administrateur requis', 'error');
                showPage('home');
                return false;
            }
            
            if (pageId === 'recruteur' && currentUser.role !== 'recruiter' && currentUser.role !== 'recruteur' && currentUser.role !== 'admin') {
                showNotification(siteData.language === 'en' ? 'Recruiter access required' : 'Accès recruteur requis', 'error');
                showPage('home');
                return false;
            }

            if (pageId === 'lecteur' && currentUser.role !== 'reader' && currentUser.role !== 'lecteur' && currentUser.role !== 'admin') {
                showNotification(siteData.language === 'en' ? 'Reader access required' : 'Accès lecteur requis', 'error');
                showPage('home');
                return false;
            }
            
            return true;
        }

        // Setup navigation globale
        function setupNavigation() {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    if (pageId) {
                        showPage(pageId);
                    }
                });
            });

            window.addEventListener('popstate', function(e) {
                if (e.state && e.state.page) {
                    showPage(e.state.page, false);
                } else {
                    const hash = window.location.hash.substring(1);
                    if (hash) {
                        showPage(hash, false);
                    }
                }
            });

            const initialHash = window.location.hash.substring(1);
            if (initialHash && document.getElementById(`${initialHash}-page`)) {
                showPage(initialHash, false);
            } else {
                showPage('home', false);
            }
        }

        // Setup login system avec nouveau rôle "lecteur"
        function setupLoginSystem() {
            const loginBtn = document.getElementById('loginBtn');
            const loginModal = document.getElementById('loginModal');
            const loginClose = document.getElementById('loginClose');
            const loginForm = document.getElementById('loginForm');
            const userDropdown = document.getElementById('userDropdown');
            const adminPanelLink = document.getElementById('adminPanelLink');
            const logoutLink = document.getElementById('logoutLink');

            /* FIX: logout-system - Récupération des nouveaux boutons */
            const headerLogoutBtn = document.getElementById('headerLogoutBtn');
            const mobileDashboardBtn = document.getElementById('mobileDashboardBtn');
            const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');

            loginBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (currentUser.isLoggedIn) {
                    // Si connecté, rediriger vers le dashboard approprié
                    console.log('🔍 [LOGIN BTN CLICK] Utilisateur connecté:', currentUser.role);
                    if (currentUser.role === 'admin') {
                        showPage('admin');
                    } else if (currentUser.role === 'recruiter' || currentUser.role === 'recruteur') {
                        showPage('recruteur');
                    } else if (currentUser.role === 'reader' || currentUser.role === 'lecteur') {
                        showPage('lecteur');
                    }
                } else {
                    // Si non connecté, afficher la modale de connexion
                    loginModal.classList.add('show');
                    setTimeout(() => document.getElementById('loginUsername').focus(), 300);
                }
            });

            loginClose.addEventListener('click', function() {
                loginModal.classList.remove('show');
            });

            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('loginUsername').value;
                const password = document.getElementById('loginPassword').value;

                console.log('🔍 Tentative connexion:', username);
                console.log('📋 Total utilisateurs:', siteData.users.length);
                console.log('📋 Utilisateurs disponibles:', siteData.users.map(u => ({
                    username: u.username,
                    email: u.email,
                    role: u.role,
                    active: u.active,
                    passwordLength: u.password?.length
                })));

                const user = siteData.users.find(u => (u.username === username || u.email === username) && u.password === password && u.active);

                if (user) {
                    console.log('✅ Utilisateur trouvé:', user.username, 'Role:', user.role);

                    currentUser = {
                        username: user.username,
                        email: user.email,
                        role: user.role,
                        isLoggedIn: true
                    };

                    user.lastLogin = new Date().toISOString();

                    // Sauvegarder la session dans localStorage
                    localStorage.setItem('ae2i_current_user', JSON.stringify(currentUser));

                    // Force save immediately after login avec vérification
                    if (forceSaveData()) {
                        // Mettre à jour immédiatement le bouton et le statut
                        updateLoginButton();
                        updateLoginStatus();
                        loginModal.classList.remove('show');
                        loginForm.reset();

                        const welcomeMsg = siteData.language === 'en' ? 
                            `Welcome, ${user.username}!` :
                            `Bienvenue, ${user.username}!`;
                        
                        showNotification(welcomeMsg, 'success');
                        logActivity(user.username, `Connexion réussie (rôle: ${user.role})`);

                        // Rediriger vers le dashboard approprié
                        if (user.role === 'admin') {
                            showPage('admin');
                        } else if (user.role === 'recruiter' || user.role === 'recruteur') {
                            showPage('recruteur');
                        } else if (user.role === 'reader' || user.role === 'lecteur') {
                            showPage('lecteur');
                        }
                    } else {
                        showNotification('Échec de sauvegarde - Veuillez réessayer', 'error');
                    }
                } else {
                    console.log('❌ Échec connexion - Vérification:', {
                        tentativeUsername: username,
                        tentativePasswordLength: password.length,
                        correspondanceUsername: siteData.users.some(u => u.username === username || u.email === username),
                        correspondancePassword: siteData.users.some(u => u.password === password),
                        correspondanceActive: siteData.users.some(u => u.active && (u.username === username || u.email === username))
                    });
                    showNotification(siteData.language === 'en' ? 'Incorrect credentials' : 'Identifiants incorrects', 'error');
                }
            });

            adminPanelLink.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('🔍 [CLICK] adminPanelLink cliqué - currentUser:', JSON.stringify(currentUser));
                if (currentUser.role === 'admin') {
                    console.log('✅ [CLICK] Admin détecté, showPage(admin)');
                    showPage('admin');
                } else if (currentUser.role === 'recruiter' || currentUser.role === 'recruteur') {
                    console.log('✅ [CLICK] Recruteur détecté, showPage(recruteur)');
                    showPage('recruteur');
                } else if (currentUser.role === 'reader' || currentUser.role === 'lecteur') {
                    console.log('✅ [CLICK] Lecteur détecté, showPage(lecteur)');
                    showPage('lecteur');
                } else {
                    console.log('❌ [CLICK] Rôle non reconnu:', currentUser.role);
                }
                userDropdown.classList.remove('show');
            });

            logoutLink.addEventListener('click', function(e) {
                e.preventDefault();
                logout();
            });

            /* FIX: logout-system - Event listeners pour les nouveaux boutons */
            if (headerLogoutBtn) {
                headerLogoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    logoutUser();
                });
            }

            if (mobileDashboardBtn) {
                mobileDashboardBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('🔍 [MOBILE DASHBOARD] Clic détecté - currentUser:', JSON.stringify(currentUser));
                    if (currentUser.role === 'admin') {
                        showPage('admin');
                    } else if (currentUser.role === 'recruiter' || currentUser.role === 'recruteur') {
                        showPage('recruteur');
                    } else if (currentUser.role === 'reader' || currentUser.role === 'lecteur') {
                        showPage('lecteur');
                    }
                    // Fermer le menu mobile après navigation
                    const mobileMenuPanel = document.getElementById('mobileMenuPanel');
                    const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
                    if (mobileMenuPanel) mobileMenuPanel.classList.remove('show');
                    if (mobileMenuOverlay) mobileMenuOverlay.classList.remove('show');
                });
            }

            if (mobileLogoutBtn) {
                mobileLogoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    logoutUser();
                });
            }

            document.addEventListener('click', function(e) {
                if (!loginBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                    userDropdown.classList.remove('show');
                }
            });
        }

        // Fonction centralisée pour mettre à jour le bouton Login/Dashboard
        function updateLoginButton() {
            const loginBtn = document.getElementById('loginBtn');
            if (!loginBtn) return;

            if (currentUser.isLoggedIn) {
                loginBtn.classList.add('logged-in');

                // Adapter le texte selon le rôle
                let dashboardText = 'Mon tableau de bord';
                let dashboardTextEn = 'My Dashboard';
                let dashboardTextAr = 'لوحة التحكم';
                let iconClass = 'fa-tachometer-alt';

                if (currentUser.role === 'recruiter' || currentUser.role === 'recruteur') {
                    dashboardText = 'Espace Recruteur';
                    dashboardTextEn = 'Recruiter Dashboard';
                    dashboardTextAr = 'لوحة المُوظّف';
                    iconClass = 'fa-users';
                } else if (currentUser.role === 'reader' || currentUser.role === 'lecteur') {
                    dashboardText = 'Espace Lecteur';
                    dashboardTextEn = 'Reader Dashboard';
                    dashboardTextAr = 'لوحة القارئ';
                    iconClass = 'fa-eye';
                } else if (currentUser.role === 'admin') {
                    dashboardText = 'Dashboard Admin';
                    dashboardTextEn = 'Admin Dashboard';
                    dashboardTextAr = 'لوحة الإدارة';
                    iconClass = 'fa-cogs';
                }

                loginBtn.innerHTML = `<i class="fas ${iconClass}"></i><span data-fr="${dashboardText}" data-en="${dashboardTextEn}" data-ar="${dashboardTextAr}">${dashboardText}</span>`;
                loginBtn.setAttribute('aria-label', dashboardText);
                loginBtn.title = dashboardText;
            } else {
                loginBtn.classList.remove('logged-in');
                loginBtn.innerHTML = `<i class="fas fa-user"></i><span data-fr="Se connecter" data-en="Login" data-ar="تسجيل الدخول">Se connecter</span>`;
                loginBtn.setAttribute('aria-label', 'Se connecter');
                loginBtn.title = 'Se connecter';
            }

            console.log('🔄 [UPDATE BTN] Bouton mis à jour - isLoggedIn:', currentUser.isLoggedIn, 'Role:', currentUser.role);
        }

        function updateLoginStatus() {
            const loginBtn = document.getElementById('loginBtn');
            const userDropdown = document.getElementById('userDropdown');
            const adminPanelLink = document.getElementById('adminPanelLink');
            const profileLink = document.getElementById('profileLink');
            const logoutLink = document.getElementById('logoutLink');

            /* FIX: logout-system - Récupération des nouveaux éléments */
            const headerLogoutBtn = document.getElementById('headerLogoutBtn');
            const mobileDashboardLink = document.getElementById('mobileDashboardLink');
            const mobileLogoutLink = document.getElementById('mobileLogoutLink');
            const mobileDashboardBtn = document.getElementById('mobileDashboardBtn');

            console.log('🔄 [UPDATE STATUS] currentUser:', JSON.stringify(currentUser));

            // Mettre à jour le bouton login
            updateLoginButton();

            if (currentUser.isLoggedIn) {
                /* FIX: logout-system - Afficher les boutons de déconnexion */
                if (headerLogoutBtn) {
                    headerLogoutBtn.style.display = 'flex';
                }
                if (mobileDashboardLink) {
                    mobileDashboardLink.style.display = 'block';
                }
                if (mobileLogoutLink) {
                    mobileLogoutLink.style.display = 'block';
                }

                if (adminPanelLink) {
                    adminPanelLink.style.display = 'flex';
                }
                if (profileLink) {
                    profileLink.style.display = 'flex';
                }
                if (logoutLink) {
                    logoutLink.style.display = 'flex';
                }

                // Adapter le texte selon le rôle
                let dashboardText = 'Mon tableau de bord';
                let dashboardTextEn = 'My Dashboard';
                let dashboardTextAr = 'لوحة التحكم';
                let iconClass = 'fa-tachometer-alt';

                if (currentUser.role === 'recruiter' || currentUser.role === 'recruteur') {
                    adminPanelLink.innerHTML = `<i class="fas fa-users"></i><span data-fr="Espace Recruteur" data-en="Recruiter Area" data-ar="منطقة المُوظّف">Espace Recruteur</span>`;
                    dashboardText = 'Espace Recruteur';
                    dashboardTextEn = 'Recruiter Dashboard';
                    dashboardTextAr = 'لوحة المُوظّف';
                    iconClass = 'fa-users';
                } else if (currentUser.role === 'reader' || currentUser.role === 'lecteur') {
                    adminPanelLink.innerHTML = `<i class="fas fa-eye"></i><span data-fr="Espace Lecteur" data-en="Reader Area" data-ar="منطقة القارئ">Espace Lecteur</span>`;
                    dashboardText = 'Espace Lecteur';
                    dashboardTextEn = 'Reader Dashboard';
                    dashboardTextAr = 'لوحة القارئ';
                    iconClass = 'fa-eye';
                } else if (currentUser.role === 'admin') {
                    adminPanelLink.innerHTML = `<i class="fas fa-cogs"></i><span data-fr="Panneau d'administration" data-en="Administration Panel" data-ar="لوحة الإدارة">Panneau d'administration</span>`;
                    dashboardText = 'Dashboard Admin';
                    dashboardTextEn = 'Admin Dashboard';
                    dashboardTextAr = 'لوحة الإدارة';
                    iconClass = 'fa-cogs';
                }

                /* FIX: logout-system - Mettre à jour le texte du bouton dashboard mobile */
                if (mobileDashboardBtn) {
                    mobileDashboardBtn.innerHTML = `<i class="fas ${iconClass}"></i><span data-fr="${dashboardText}" data-en="${dashboardTextEn}" data-ar="${dashboardTextAr}">${dashboardText}</span>`;
                }

                document.body.setAttribute('data-user-role', currentUser.role);
            } else {
                /* FIX: logout-system - Masquer les boutons de déconnexion */
                if (headerLogoutBtn) {
                    headerLogoutBtn.style.display = 'none';
                }
                if (mobileDashboardLink) {
                    mobileDashboardLink.style.display = 'none';
                }
                if (mobileLogoutLink) {
                    mobileLogoutLink.style.display = 'none';
                }

                if (userDropdown) {
                    userDropdown.classList.remove('show');
                }

                if (adminPanelLink) {
                    adminPanelLink.style.display = 'none';
                }
                if (profileLink) {
                    profileLink.style.display = 'none';
                }
                if (logoutLink) {
                    logoutLink.style.display = 'none';
                }

                document.body.setAttribute('data-user-role', 'guest');
            }
        }

        function logout() {
            console.log('🔴 [LOGOUT] Fonction logout() appelée');
            logActivity(currentUser.username, 'Déconnexion');

            currentUser = { username: 'guest', role: 'guest', isLoggedIn: false };
            localStorage.removeItem('ae2i_current_user');
            sessionStorage.clear();

            updateLoginButton();
            updateLoginStatus();
            showPage('home');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            showNotification(siteData.language === 'en' ? 'Successfully logged out' : 'Déconnexion réussie', 'success');
            console.log('✅ [LOGOUT] Déconnexion réussie');
        }

        // Fonction globale pour déconnexion depuis les dashboards
        function logoutUser() {
            console.log('🔴 [LOGOUT] Déconnexion en cours...');

            if (currentUser && currentUser.username) {
                logActivity(currentUser.username, 'Déconnexion');
            }

            // Réinitialiser l'utilisateur courant
            currentUser = { username: 'guest', role: 'guest', isLoggedIn: false };

            // Nettoyer le stockage
            localStorage.removeItem('ae2i_current_user');
            sessionStorage.clear();

            /* FIX: logout-system - Fermer tous les menus et dropdowns */
            const userDropdown = document.getElementById('userDropdown');
            if (userDropdown) {
                userDropdown.classList.remove('show');
            }

            // Fermer le menu mobile si ouvert
            const mobileMenuPanel = document.getElementById('mobileMenuPanel');
            const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
            if (mobileMenuPanel) {
                mobileMenuPanel.classList.remove('show');
            }
            if (mobileMenuOverlay) {
                mobileMenuOverlay.classList.remove('show');
            }

            // Mettre à jour le bouton immédiatement
            updateLoginButton();
            updateLoginStatus();

            // Rediriger vers l'accueil
            showPage('home');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Notification de succès
            showNotification(siteData.language === 'en' ? 'Successfully logged out' : 'Déconnexion réussie', 'success');

            console.log('✅ [LOGOUT] Déconnexion réussie - currentUser:', JSON.stringify(currentUser));
        }

        // Expose functions to window for onclick handlers and global access
        window.logoutUser = logoutUser;
        window.updateLoginButton = updateLoginButton;

        // Setup consent system
        function setupConsentSystem() {
            const consentAccept = document.getElementById('consentAccept');
            const consentDecline = document.getElementById('consentDecline');
            const consentSettings = document.getElementById('consentSettings');

            consentAccept.addEventListener('click', () => handleConsentResponse(true));
            consentDecline.addEventListener('click', () => handleConsentResponse(false));
            consentSettings.addEventListener('click', () => {
                openModal('consentModal');
                document.getElementById('consentBanner').classList.remove('show');
            });
        }

        // Theme toggle
        function setupThemeToggle() {
            const themeToggle = document.getElementById('themeToggle');
            
            themeToggle.addEventListener('click', function() {
                if (document.body.classList.contains('dark-mode')) {
                    document.body.classList.remove('dark-mode');
                    this.innerHTML = '<i class="fas fa-moon"></i>';
                    siteData.theme = 'light';
                } else {
                    document.body.classList.add('dark-mode');
                    this.innerHTML = '<i class="fas fa-sun"></i>';
                    siteData.theme = 'dark';
                }
                localStorage.setItem('ae2i_theme', siteData.theme);
                logActivity(currentUser.username || 'visitor', `Thème changé: ${siteData.theme}`);
                forceSaveData();
            });

            const savedTheme = localStorage.getItem('ae2i_theme');
            if (savedTheme === 'dark' || siteData.settings.darkMode) {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        // Setup language switching (FR/EN/AR)
        function setupLanguageSwitch() {
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');

                    document.querySelectorAll('.language-btn').forEach(b => {
                        b.classList.remove('active');
                        b.setAttribute('aria-pressed', 'false');
                    });
                    this.classList.add('active');
                    this.setAttribute('aria-pressed', 'true');

                    // Set HTML lang and dir attributes
                    document.documentElement.lang = lang;
                    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

                    siteData.language = lang;
                    updateLanguageContent(lang);
                    logActivity(currentUser.username || 'visitor', `Langue changée: ${lang}`);
                    forceSaveData();
                });
            });
        }

        function updateLanguageContent(lang) {
            const notificationMsg = lang === 'en' ? 'Language changed: ' : lang === 'ar' ? 'تم تغيير اللغة: ' : 'Langue changée: ';
            showNotification(`${notificationMsg}${lang.toUpperCase()}`, 'info');

            // Update elements with data attributes (support ar)
            document.querySelectorAll('[data-fr][data-en]').forEach(element => {
                const text = element.getAttribute(`data-${lang}`);
                if (text) {
                    element.textContent = text;
                }
            });

            // Also support elements with data-ar attribute
            document.querySelectorAll('[data-ar]').forEach(element => {
                const text = element.getAttribute(`data-${lang}`);
                if (text) {
                    element.textContent = text;
                }
            });

            const searchInput = document.getElementById('jobSearchInput');
            if (searchInput && translations[lang]) {
                searchInput.placeholder = translations[lang].searchPlaceholder;
            }

            if (currentPage === 'home') executeHomeScript();
            if (currentPage === 'services') executeServicesScript();
            if (currentPage === 'carriere') executeCarriereScript();
        }

        // Arabic Translations Dictionary (comprehensive)
                const arTranslations = {
            "About": "من نحن",
            "Access your administration area": "ادخل إلى لوحة التحكم",
            "Accueil": "الرئيسية",
            "Accédez à votre espace d'administration": "ادخل إلى لوحة التحكم",
            "Administration Panel": "لوحة التحكم",
            "All wilayas": "جميع الولايات",
            "Career": "الوظائف",
            "Carrière": "الوظائف",
            "Connexion Sécurisée": "تسجيل دخول آمن",
            "Contact": "اتصل بنا",
            "Contact Us": "اتصل بنا",
            "Contact the administrator if you have forgotten your credentials": "اتصل بالمسؤول إذا نسيت بيانات الدخول",
            "Contactez l'administrateur si vous avez oublié vos identifiants": "اتصل بالمسؤول إذا نسيت بيانات الدخول",
            "Contactez-nous": "اتصل بنا",
            "Création": "التأسيس",
            "Déconnexion": "تسجيل الخروج",
            "Email": "البريد الإلكتروني",
            "Espace Lecteur": "مساحة القارئ",
            "Espace Recruteur": "مساحة التوظيف",
            "Established": "التأسيس",
            "Home": "الرئيسية",
            "I accept": "أوافق",
            "I decline": "أرفض",
            "J'accepte": "أوافق",
            "Je refuse": "أرفض",
            "Login": "تسجيل الدخول",
            "Logout": "تسجيل الخروج",
            "Mon profil": "ملفي الشخصي",
            "Mot de passe": "كلمة المرور",
            "My Profile": "ملفي الشخصي",
            "National & International": "وطني ودولي",
            "Navigation": "التنقل",
            "Nom d'utilisateur": "اسم المستخدم",
            "Nos Adresses": "عناويننا",
            "Nos Services": "خدماتنا",
            "Nos Téléphones": "هواتفنا",
            "Our Addresses": "عناويننا",
            "Our Phones": "هواتفنا",
            "Our Services": "خدماتنا",
            "Panneau d'administration": "لوحة التحكم",
            "Paramètres": "الإعدادات",
            "Password": "كلمة المرور",
            "Politique Qualité": "سياسة الجودة",
            "Protection de vos données personnelles": "حماية بياناتكم الشخصية",
            "Protection of your personal data": "حماية بياناتكم الشخصية",
            "Quality Policy": "سياسة الجودة",
            "Reader Area": "مساحة القارئ",
            "Recruiter Area": "مساحة التوظيف",
            "Se connecter": "تسجيل الدخول",
            "Secure Login": "تسجيل دخول آمن",
            "Services": "خدماتنا",
            "Settings": "الإعدادات",
            "Sign in": "تسجيل الدخول",
            "Site Under Maintenance": "الموقع قيد الصيانة",
            "Site en Maintenance": "الموقع قيد الصيانة",
            "Site en maintenance - Fonctionnalités limitées": "الموقع قيد الصيانة - وظائف محدودة",
            "Site under maintenance - Limited functionality": "الموقع قيد الصيانة - وظائف محدودة",
            "Technical & Administrative": "تقنية وإدارية",
            "Technique & Administrative": "تقنية وإدارية",
            "Toutes les wilayas": "جميع الولايات",
            "Username": "اسم المستخدم",
            "À propos": "من نحن"
        };

        // Auto-add data-ar attributes based on FR/EN translations
        function addArabicTranslations() {
            document.querySelectorAll('[data-fr][data-en]').forEach(element => {
                if (!element.hasAttribute('data-ar')) {
                    const frText = element.getAttribute('data-fr');
                    const enText = element.getAttribute('data-en');

                    // Try to match from dictionary
                    let arText = arTranslations[frText] || arTranslations[enText] || frText;
                    element.setAttribute('data-ar', arText);
                }
            });
        }

        // Scroll to top
        function setupScrollToTop() {
            const scrollToTopBtn = document.getElementById('scrollToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.classList.add('show');
                } else {
                    scrollToTopBtn.classList.remove('show');
                }
            });

            scrollToTopBtn.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
                logActivity(currentUser.username || 'visitor', 'Scroll vers le haut');
            });
        }

        /* FIX: responsive-menu-toggle - Mobile menu with overlay and panel */
        function setupMobileMenu() {
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const mobileOverlay = document.getElementById('mobileMenuOverlay');
            const mobilePanel = document.getElementById('mobileMenuPanel');
            const mobileClose = document.getElementById('mobileMenuClose');

            if (!mobileToggle || !mobileOverlay || !mobilePanel) {
                console.warn('Mobile menu elements not found');
                return;
            }

            // Toggle menu open
            mobileToggle.addEventListener('click', function() {
                mobileOverlay.classList.add('show');
                mobilePanel.classList.add('show');
                this.setAttribute('aria-expanded', 'true');
                document.body.style.overflow = 'hidden';
            });

            // Close menu via close button
            if (mobileClose) {
                mobileClose.addEventListener('click', closeMobileMenu);
            }

            // Close menu via overlay click
            mobileOverlay.addEventListener('click', closeMobileMenu);

            // Close menu when clicking navigation links
            const mobileNavLinks = document.querySelectorAll('#mobileNavigationLinks a');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    closeMobileMenu();
                });
            });

            function closeMobileMenu() {
                mobileOverlay.classList.remove('show');
                mobilePanel.classList.remove('show');
                mobileToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
            }
        }

        // Modal management
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('show');
                modal.setAttribute('aria-hidden', 'false');
                
                const firstInput = modal.querySelector('input, textarea, select');
                if (firstInput) {
                    setTimeout(() => firstInput.focus(), 300);
                }
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('show');
                modal.setAttribute('aria-hidden', 'true');
                
                const form = modal.querySelector('form');
                if (form) form.reset();
            }
        }

        // Activity logging
        function logActivity(username, action) {
            const logEntry = {
                id: Date.now(),
                timestamp: new Date().toISOString(),
                username: username,
                action: action,
                userRole: currentUser.role || 'guest',
                page: currentPage,
                userAgent: navigator.userAgent.substring(0, 100)
            };
            
            if (!siteData.activityLog) siteData.activityLog = [];
            siteData.activityLog.unshift(logEntry);
            
            if (siteData.activityLog.length > 500) {
                siteData.activityLog = siteData.activityLog.slice(0, 500);
            }
            
            console.log(`[${new Date().toLocaleString()}] ${username}: ${action}`);
        }

        /* ADD: safeSerialize-implementation */
        /* FIX: saveSiteData-optimization */
        // Fonction de sérialisation sécurisée pour éviter les erreurs de stockage
        function safeSerialize(data) {
            console.log('[QA] Starting safeSerialize...');
            try {
                const cleanedData = JSON.parse(JSON.stringify(data, (key, value) => {
                    // Supprimer les DataURLs volumineuses (data:)
                    if (typeof value === 'string' && value.startsWith('data:')) {
                        const sizeKB = (value.length * 0.75) / 1024; // Estimation base64
                        console.log(`[QA] Removed DataURL for key "${key}" (${sizeKB.toFixed(2)} KB)`);
                        return {
                            type: 'file',
                            name: key,
                            size: sizeKB,
                            uploaded: false,
                            note: 'DataURL removed for storage optimization'
                        };
                    }
                    return value;
                }));
                console.log('[QA] safeSerialize completed successfully');
                return cleanedData;
            } catch (error) {
                console.error('[QA] Error in safeSerialize:', error);
                throw error;
            }
        }

        /* FIX: Préserver currentUser lors de la sauvegarde */
        // SYSTÈME DE SAUVEGARDE FORCÉE ULTRA-AMÉLIORÉ ET CORRECTION COMPLÈTE DES BUGS
        function forceSaveData() {
            console.log('[QA] Saving siteData...');
            if (saveInProgress) {
                console.log('⏳ Sauvegarde déjà en cours, attente...');
                return false;
            }

            saveInProgress = true;

            try {
                /* FIX: Sauvegarder currentUser AVANT toute opération */
                localStorage.setItem('ae2i_current_user', JSON.stringify(currentUser));
                console.log('💾 [SAVE] Session préservée:', currentUser.username, currentUser.role);

                // Validation des données avant sauvegarde
                if (!siteData || typeof siteData !== 'object') {
                    throw new Error('Données invalides');
                }

                // Créer une copie profonde avec safeSerialize pour éviter les données volumineuses
                console.log('[QA] Applying safeSerialize to siteData...');
                const dataToSave = safeSerialize(siteData);
                
                // Nettoyer les données si nécessaire
                if (dataToSave.activityLog && dataToSave.activityLog.length > 1000) {
                    dataToSave.activityLog = dataToSave.activityLog.slice(0, 500);
                    console.log('🧹 Nettoyage automatique des logs anciens');
                }

                const serializedData = JSON.stringify(dataToSave);
                
                // Vérifier la taille des données avant sauvegarde
                const dataSize = new Blob([serializedData]).size;
                const maxSize = 8 * 1024 * 1024; // 8MB limit pour localStorage
                
                if (dataSize > maxSize) {
                    console.warn('⚠️ Données volumineuses détectées, compression...');
                    
                    // Compression des données volumineuses
                    if (dataToSave.cvDatabase && dataToSave.cvDatabase.length > 100) {
                        dataToSave.cvDatabase = dataToSave.cvDatabase.slice(0, 100);
                        console.log('🗜️ Base CV compressée à 100 entrées');
                    }
                    
                    if (dataToSave.activityLog && dataToSave.activityLog.length > 200) {
                        dataToSave.activityLog = dataToSave.activityLog.slice(0, 200);
                        console.log('🗜️ Logs compressés à 200 entrées');
                    }
                }
                
                // Tentative de sauvegarde principale
                localStorage.setItem('ae2i_site_data', JSON.stringify(dataToSave));
                
                // Double vérification de la sauvegarde
                const savedData = localStorage.getItem('ae2i_site_data');
                if (!savedData) {
                    throw new Error('Échec de vérification de sauvegarde');
                }
                
                // Test de parsing pour s'assurer que les données sont valides
                const parsedData = JSON.parse(savedData);
                if (!parsedData || !parsedData.settings) {
                    throw new Error('Données sauvegardées corrompues');
                }
                
                // Sauvegarde de secours dans sessionStorage
                sessionStorage.setItem('ae2i_backup_data', JSON.stringify(dataToSave));
                
                // Mettre à jour le timestamp de dernière sauvegarde
                localStorage.setItem('ae2i_last_save', new Date().toISOString());

                /* FIX: Re-sauvegarder currentUser APRÈS la sauvegarde */
                localStorage.setItem('ae2i_current_user', JSON.stringify(currentUser));

                console.log('✅ Données sauvegardées avec succès (vérifiées)');
                console.log('✅ Session préservée après sauvegarde:', currentUser.username, currentUser.role);
                saveInProgress = false;
                return true;
                
            } catch (error) {
                console.error('❌ Erreur sauvegarde critique:', error);
                saveInProgress = false;
                
                // Tentative de sauvegarde de secours
                try {
                    const minimalData = {
                        settings: siteData.settings,
                        users: siteData.users,
                        timestamp: new Date().toISOString()
                    };
                    sessionStorage.setItem('ae2i_emergency_backup', JSON.stringify(minimalData));
                    console.log('🆘 Sauvegarde d\'urgence effectuée');
                    showNotification('Sauvegarde d\'urgence effectuée - Données critiques préservées', 'warning', 6000);
                    return false;
                } catch (backupError) {
                    console.error('❌ Échec sauvegarde d\'urgence:', backupError);
                    showNotification('ERREUR CRITIQUE: Impossible de sauvegarder les données', 'error', 10000);
                    return false;
                }
            }
        }

        // Alias pour compatibilité
        function saveSiteData() {
            return forceSaveData();
        }

        function loadSiteData() {
            try {
                const savedData = localStorage.getItem('ae2i_site_data');
                if (savedData) {
                    const parsed = JSON.parse(savedData);

                    // Validation des données chargées
                    if (parsed && parsed.settings) {
                        siteData = { ...siteData, ...parsed };

                        // Garantir que les utilisateurs par défaut existent toujours
                        const defaultUsers = [
                            { id: 1, username: 'admin', email: 'selmabdf@gmail.com', role: 'admin', password: 'Selma@2219', active: true },
                            { id: 2, username: 'recruiter', email: 'recruiter@ae2i-algerie.com', role: 'recruiter', password: 'recruiter123', active: true },
                            { id: 3, username: 'reader', email: 'reader@ae2i-algerie.com', role: 'reader', password: 'reader123', active: true }
                        ];

                        if (!siteData.users || siteData.users.length === 0) {
                            siteData.users = defaultUsers;
                            console.log('🔧 Utilisateurs par défaut restaurés (seront sauvegardés plus tard)');
                        } else {
                            // Vérifier et corriger l'utilisateur admin si nécessaire
                            const adminUser = siteData.users.find(u => u.username === 'admin');
                            if (adminUser) {
                                // Mettre à jour le mot de passe admin si différent
                                if (adminUser.password !== 'Selma@2219') {
                                    adminUser.password = 'Selma@2219';
                                    adminUser.email = 'selmabdf@gmail.com';
                                    adminUser.role = 'admin';
                                    adminUser.active = true;
                                    console.log('🔧 Mot de passe admin corrigé (sera sauvegardé plus tard)');
                                }
                            } else {
                                // Ajouter l'admin s'il n'existe pas
                                siteData.users.unshift(defaultUsers[0]);
                                console.log('🔧 Utilisateur admin ajouté (sera sauvegardé plus tard)');
                            }
                        }

                        // Restaurer la session utilisateur si elle existe
                        const savedSession = localStorage.getItem('ae2i_current_user');
                        if (savedSession) {
                            try {
                                const sessionData = JSON.parse(savedSession);
                                if (sessionData && sessionData.isLoggedIn) {
                                    currentUser = sessionData;
                                    console.log('✅ Session restaurée:', currentUser.username, 'Role:', currentUser.role);
                                }
                            } catch (e) {
                                console.error('❌ Erreur restauration session:', e);
                                localStorage.removeItem('ae2i_current_user');
                            }
                        }

                        console.log('✅ Données chargées avec succès');

                        /* FIX: Sauvegarder corrections sans déclencher boucle infinie */
                        // Sauvegarder les corrections éventuelles après le chargement complet
                        setTimeout(() => {
                            const needsFix = siteData.users.find(u => u.username === 'admin' && u.password === 'Selma@2219');
                            const alreadyFixed = localStorage.getItem('ae2i_admin_fixed');

                            if (needsFix && !alreadyFixed && currentUser.isLoggedIn) {
                                console.log('💾 [FIX] Sauvegarde corrections avec session active:', currentUser.username);
                                // Re-sauvegarder session avant forceSaveData
                                localStorage.setItem('ae2i_current_user', JSON.stringify(currentUser));
                                forceSaveData();
                                localStorage.setItem('ae2i_admin_fixed', 'true');
                                console.log('💾 Corrections sauvegardées');
                            }
                        }, 100);

                        return true;
                    } else {
                        throw new Error('Données corrompues détectées');
                    }
                } else {
                    // Tentative de récupération depuis la sauvegarde de secours
                    const backupData = sessionStorage.getItem('ae2i_backup_data');
                    if (backupData) {
                        const parsed = JSON.parse(backupData);
                        siteData = { ...siteData, ...parsed };
                        console.log('✅ Données récupérées depuis la sauvegarde de secours');
                        forceSaveData(); // Restaurer dans localStorage
                        return true;
                    }
                    
                    // Tentative de récupération d'urgence
                    const emergencyData = sessionStorage.getItem('ae2i_emergency_backup');
                    if (emergencyData) {
                        const parsed = JSON.parse(emergencyData);
                        siteData.settings = { ...siteData.settings, ...parsed.settings };
                        siteData.users = parsed.users || siteData.users;
                        console.log('🆘 Données d\'urgence récupérées');
                        showNotification('Données d\'urgence récupérées - Veuillez vérifier vos paramètres', 'warning');
                        return true;
                    }
                }
                
                console.log('ℹ️ Aucune donnée sauvegardée trouvée - Utilisation des données par défaut');
                return false;
            } catch (error) {
                console.error('❌ Erreur chargement critique:', error);
                showNotification('Erreur de chargement des données - Utilisation des paramètres par défaut', 'error');
                return false;
            }
        }

        // Maintenance mode
        function toggleMaintenanceMode() {
            const enabled = document.getElementById('maintenanceMode').checked;
            siteData.settings.maintenanceMode = enabled;
            
            if (forceSaveData()) {
                if (enabled) {
                    document.body.classList.add('maintenance-mode');
                    document.getElementById('maintenanceNotice').style.display = 'block';
                    showNotification(siteData.language === 'en' ? 'Maintenance mode enabled' : 'Mode maintenance activé', 'warning');
                } else {
                    document.body.classList.remove('maintenance-mode');
                    document.getElementById('maintenanceNotice').style.display = 'none';
                    showNotification(siteData.language === 'en' ? 'Maintenance mode disabled' : 'Mode maintenance désactivé', 'success');
                }

                logActivity(currentUser.username, `Mode maintenance ${enabled ? 'activé' : 'désactivé'}`);
            } else {
                showNotification('Échec de sauvegarde du mode maintenance', 'error');
                document.getElementById('maintenanceMode').checked = !enabled; // Revert checkbox
            }
        }

        /* FIX: remove-loading-screen */

        // LinkedIn Integration
        /* FIX: linkedin-auth-redirect */
        /* ADD: linkedin-form-autofill */
        /* FIX: linkedin-token-session */
        /* ADD: linkedin-profile-redirect */

        const LINKEDIN_CONFIG = {
            clientId: null,
            redirectUri: window.location.origin,
            scope: 'openid profile email',
            state: Math.random().toString(36).substring(7)
        };

        async function connectLinkedIn() {
            // Check if already connected
            const linkedInToken = sessionStorage.getItem('linkedin_access_token');
            if (linkedInToken) {
                showNotification(siteData.language === 'en' ? 'Already connected to LinkedIn' : 'Déjà connecté à LinkedIn', 'info');
                return;
            }

            try {
                // FIX: linkedin-backend-auth - Fetch client ID securely from backend
                const configResponse = await fetch('/.netlify/functions/getLinkedInKey');
                const config = await configResponse.json();

                if (!config.client_id) {
                    showNotification(siteData.language === 'en' ? 'LinkedIn configuration error' : 'Erreur de configuration LinkedIn', 'error');
                    return;
                }

                LINKEDIN_CONFIG.clientId = config.client_id;
                if (config.redirect_uri) {
                    LINKEDIN_CONFIG.redirectUri = config.redirect_uri;
                }

                // Build OAuth2 authorization URL
                const authUrl = new URL('https://www.linkedin.com/oauth/v2/authorization');
                authUrl.searchParams.append('response_type', 'code');
                authUrl.searchParams.append('client_id', LINKEDIN_CONFIG.clientId);
                authUrl.searchParams.append('redirect_uri', LINKEDIN_CONFIG.redirectUri);
                authUrl.searchParams.append('scope', LINKEDIN_CONFIG.scope);
                authUrl.searchParams.append('state', LINKEDIN_CONFIG.state);

                sessionStorage.setItem('linkedin_oauth_state', LINKEDIN_CONFIG.state);
                sessionStorage.setItem('linkedin_redirect_origin', 'application_form');

                // Redirect to LinkedIn OAuth
                window.location.href = authUrl.toString();
            } catch (error) {
                console.error('LinkedIn connection error:', error);
                showNotification(siteData.language === 'en' ? 'Failed to connect to LinkedIn' : 'Échec de connexion à LinkedIn', 'error');
            }
        }

        function disconnectLinkedIn() {
            sessionStorage.removeItem('linkedin_access_token');
            sessionStorage.removeItem('linkedin_profile_data');
            sessionStorage.removeItem('linkedin_oauth_state');
            sessionStorage.removeItem('linkedin_redirect_origin');

            // Clear form fields
            clearApplicationForm();

            // Update UI
            updateLinkedInButtonState(false);

            showNotification(siteData.language === 'en' ? 'Disconnected from LinkedIn' : 'Déconnecté de LinkedIn', 'success');
            logActivity(currentUser.username || 'visitor', 'Déconnexion LinkedIn');
        }

        async function handleLinkedInCallback() {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            const state = urlParams.get('state');
            const savedState = sessionStorage.getItem('linkedin_oauth_state');

            if (!code || !state || state !== savedState) {
                if (code) {
                    showNotification(siteData.language === 'en' ? 'LinkedIn authentication failed' : 'Échec de l\'authentification LinkedIn', 'error');
                }
                return;
            }

            try {
                showNotification(siteData.language === 'en' ? 'LinkedIn connection in progress...' : 'Connexion LinkedIn en cours...', 'info');

                // FIX: linkedin-backend-auth - Exchange code for token via backend
                const profileData = await fetchLinkedInProfile(code);

                if (profileData) {
                    sessionStorage.setItem('linkedin_profile_data', JSON.stringify(profileData));
                    sessionStorage.setItem('linkedin_access_token', profileData.accessToken);

                    // Prefill form with LinkedIn data
                    prefillFormWithLinkedInData(profileData);

                    // Update UI
                    updateLinkedInButtonState(true, profileData);

                    // ADD: linkedin-profile-redirect - Show button to view LinkedIn profile
                    const linkedInProfileBtn = document.createElement('a');
                    linkedInProfileBtn.href = profileData.publicProfileUrl;
                    linkedInProfileBtn.target = '_blank';
                    linkedInProfileBtn.rel = 'noopener noreferrer';
                    linkedInProfileBtn.className = 'btn btn-secondary functional-btn linkedin-profile-link';
                    linkedInProfileBtn.style.cssText = 'margin-bottom: var(--spacing-md); width: 100%; display: flex; align-items: center; justify-content: center; gap: var(--spacing-sm); background: #0077b5; border-color: #0077b5;';

                    // Multi-language support
                    const profileText = {
                        fr: 'Voir mon profil LinkedIn',
                        en: 'View my LinkedIn profile',
                        ar: 'عرض ملفي على LinkedIn'
                    };
                    const currentLang = siteData.language || 'fr';
                    linkedInProfileBtn.innerHTML = `<i class="fab fa-linkedin" aria-hidden="true"></i> <span>${profileText[currentLang]}</span>`;

                    const applicationForm = document.getElementById('applicationForm');
                    if (applicationForm && !document.querySelector('.linkedin-profile-link')) {
                        applicationForm.parentNode.insertBefore(linkedInProfileBtn, applicationForm);
                    }

                    showNotification(siteData.language === 'en' ? 'Successfully connected to LinkedIn!' : 'Connecté à LinkedIn avec succès !', 'success');
                    logActivity(currentUser.username || 'visitor', 'Connexion LinkedIn réussie');

                    // Clean URL
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            } catch (error) {
                console.error('LinkedIn authentication error:', error);
                showNotification(siteData.language === 'en' ? 'LinkedIn connection error' : 'Erreur de connexion LinkedIn', 'error');
            }
        }

        async function fetchLinkedInProfile(code) {
            // FIX: linkedin-token-exchange - Call backend API to exchange code for token
            // ADD: linkedin-user-profile-fetch - Backend fetches user profile data
            try {
                const response = await fetch('/.netlify/functions/linkedin_auth', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ code })
                });

                if (!response.ok) {
                    throw new Error('Failed to authenticate with LinkedIn');
                }

                const data = await response.json();

                if (data.error) {
                    throw new Error(data.error);
                }

                return {
                    firstName: data.firstName,
                    lastName: data.lastName,
                    email: data.email,
                    profilePicture: data.profilePicture,
                    publicProfileUrl: `https://www.linkedin.com/in/${data.sub}`,
                    accessToken: data.access_token
                };
            } catch (error) {
                console.error('LinkedIn profile fetch error:', error);
                throw error;
            }
        }

        function prefillFormWithLinkedInData(profileData) {
            /* ADD: linkedin-form-autofill */
            if (profileData.lastName) {
                document.getElementById('applicantLastName').value = profileData.lastName;
            }
            if (profileData.firstName) {
                document.getElementById('applicantFirstName').value = profileData.firstName;
            }
            if (profileData.email) {
                document.getElementById('applicantEmail').value = profileData.email;
            }
            if (profileData.headline) {
                document.getElementById('applicantPosition').value = profileData.headline;
            }

            // Trigger any conditional field displays
            const employedRadio = document.querySelector('input[name="currentlyEmployed"][value="yes"]');
            if (employedRadio) {
                employedRadio.checked = true;
                toggleNoticeField('yes');
            }
        }

        function updateLinkedInButtonState(isConnected, profileData = null) {
            const linkedInBtn = document.querySelector('.linkedin-btn');
            if (!linkedInBtn) return;

            if (isConnected && profileData) {
                linkedInBtn.innerHTML = `
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                    <span data-fr="Connecté : ${profileData.firstName} ${profileData.lastName}" data-en="Connected: ${profileData.firstName} ${profileData.lastName}" data-ar="Connecté : ${profileData.firstName} ${profileData.lastName}">
                        Connecté : ${profileData.firstName} ${profileData.lastName}
                    </span>
                `;
                linkedInBtn.onclick = () => window.open(profileData.publicProfileUrl, '_blank');
                linkedInBtn.style.background = '#00a000';

                // Add disconnect button
                const disconnectBtn = document.createElement('button');
                disconnectBtn.className = 'btn btn-outline functional-btn';
                disconnectBtn.innerHTML = `<i class="fas fa-sign-out-alt"></i> <span data-fr="Se déconnecter de LinkedIn" data-en="Disconnect from LinkedIn" data-ar="Se déconnecter de LinkedIn">Se déconnecter de LinkedIn</span>`;
                disconnectBtn.onclick = disconnectLinkedIn;
                disconnectBtn.style.width = '100%';
                disconnectBtn.style.marginBottom = 'var(--spacing-lg)';

                if (!document.getElementById('linkedin-disconnect-btn')) {
                    disconnectBtn.id = 'linkedin-disconnect-btn';
                    linkedInBtn.parentNode.insertBefore(disconnectBtn, linkedInBtn.nextSibling);
                }
            } else {
                linkedInBtn.innerHTML = `
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                    <span data-fr="Se connecter avec LinkedIn et préremplir" data-en="Connect with LinkedIn and prefill" data-ar="Se connecter avec LinkedIn et préremplir">
                        Se connecter avec LinkedIn et préremplir
                    </span>
                `;
                linkedInBtn.onclick = connectLinkedIn;
                linkedInBtn.style.background = 'var(--gradient-primary)';

                // Remove disconnect button if exists
                const disconnectBtn = document.getElementById('linkedin-disconnect-btn');
                if (disconnectBtn) {
                    disconnectBtn.remove();
                }
            }
        }

        function clearApplicationForm() {
            document.getElementById('applicantLastName').value = '';
            document.getElementById('applicantFirstName').value = '';
            document.getElementById('applicantEmail').value = '';
            document.getElementById('applicantPhone').value = '';
            document.getElementById('applicantPosition').value = '';
        }

        // Check for LinkedIn callback on page load
        if (window.location.search.includes('code=')) {
            handleLinkedInCallback();
        } else {
            // Check if already connected and update UI
            const savedProfile = sessionStorage.getItem('linkedin_profile_data');
            if (savedProfile) {
                try {
                    const profileData = JSON.parse(savedProfile);
                    updateLinkedInButtonState(true, profileData);
                    prefillFormWithLinkedInData(profileData);
                } catch (e) {
                    console.error('Error parsing LinkedIn profile data:', e);
                }
            }
        }

        // NOUVELLES FONCTIONS POUR LES CHAMPS CONDITIONNELS
        function toggleNoticeField(value) {
            const noticeField = document.getElementById('noticeField');
            if (value === 'yes') {
                noticeField.classList.add('show');
            } else {
                noticeField.classList.remove('show');
                // Reset les champs si on cache la section
                document.getElementById('inNotice').checked = false;
                toggleNoticeDaysField(false);
            }
        }

        function toggleNoticeDaysField(checked) {
            const noticeDaysField = document.getElementById('noticeDaysField');
            if (checked) {
                noticeDaysField.classList.add('show');
                document.getElementById('noticeDays').required = true;
            } else {
                noticeDaysField.classList.remove('show');
                document.getElementById('noticeDays').required = false;
                document.getElementById('noticeDays').value = '';
                // Reset negotiable checkbox
                document.getElementById('noticeDaysNegotiable').checked = false;
                toggleNoticeDaysNegotiable(false);
            }
        }

        /* ADD: preavis-negociable-visual - Toggle visual state for negotiable notice */
        function toggleNoticeDaysNegotiable(checked) {
            const noticeDaysInput = document.getElementById('noticeDays');
            if (checked) {
                noticeDaysInput.classList.add('negotiable');
                noticeDaysInput.setAttribute('data-negotiable-text', siteData.language === 'en' ? 'Negotiable' : 'Préavis flexible');
                noticeDaysInput.placeholder = siteData.language === 'en' ? 'Negotiable period' : 'Préavis flexible';
            } else {
                noticeDaysInput.classList.remove('negotiable');
                noticeDaysInput.placeholder = 'Ex: 30';
            }
        }

        /* Driver license toggle - SAME STRUCTURE AS PRÉAVIS */
        function toggleDriverLicenseField(value) {
            const driverLicenseFields = document.getElementById('driverLicenseFields');
            if (value === 'yes') {
                driverLicenseFields.classList.add('show');
            } else {
                driverLicenseFields.classList.remove('show');
                // Reset fields when hiding
                document.querySelectorAll('input[name="licenseTypes"]').forEach(cb => cb.checked = false);
                document.querySelectorAll('input[name="hasVehicle"]').forEach(radio => radio.checked = false);
            }
        }

        // Job Search Functionality ultra-améliorée avec filtres avancés
        function setupJobSearch() {
            const searchInput = document.getElementById('jobSearchInput');
            const searchBtn = document.getElementById('jobSearchBtn');
            const searchResults = document.getElementById('jobSearchResults');
            const regionFilter = document.getElementById('regionFilter');
            const experienceFilter = document.getElementById('experienceFilter');
            const fieldFilter = document.getElementById('fieldFilter');
            const educationFilter = document.getElementById('educationFilter');

            if (searchInput && searchBtn && searchResults) {
                function performAdvancedSearch() {
                    const query = searchInput.value.toLowerCase().trim();
                    const selectedRegion = regionFilter ? regionFilter.value : '';
                    const selectedExperience = experienceFilter ? experienceFilter.value : '';
                    const selectedField = fieldFilter ? fieldFilter.value : '';
                    const selectedEducation = educationFilter ? educationFilter.value : '';
                    
                    if (query.length < 2 && !selectedRegion && !selectedExperience && !selectedField && !selectedEducation) {
                        searchResults.classList.remove('show');
                        return;
                    }

                    const filteredJobs = siteData.jobs.filter(job => {
                        if (!job.active) return false;

                        let matchesQuery = true;
                        if (query.length >= 2) {
                            matchesQuery = 
                                job.title.fr.toLowerCase().includes(query) ||
                                job.title.en.toLowerCase().includes(query) ||
                                job.description.fr.toLowerCase().includes(query) ||
                                job.description.en.toLowerCase().includes(query) ||
                                job.requirements.fr.toLowerCase().includes(query) ||
                                job.requirements.en.toLowerCase().includes(query) ||
                                job.type.toLowerCase().includes(query) ||
                                job.location.toLowerCase().includes(query);
                        }

                        // Filtres avancés
                        let matchesFilters = true;
                        
                        if (selectedRegion) {
                            matchesFilters = matchesFilters && job.location.toLowerCase().includes(selectedRegion.toLowerCase());
                        }
                        
                        if (selectedExperience) {
                            matchesFilters = matchesFilters && (
                                job.requirements.fr.toLowerCase().includes(selectedExperience.toLowerCase()) ||
                                job.requirements.en.toLowerCase().includes(selectedExperience.toLowerCase())
                            );
                        }
                        
                        if (selectedField) {
                            matchesFilters = matchesFilters && (
                                job.title.fr.toLowerCase().includes(selectedField.toLowerCase()) ||
                                job.title.en.toLowerCase().includes(selectedField.toLowerCase()) ||
                                job.description.fr.toLowerCase().includes(selectedField.toLowerCase()) ||
                                job.description.en.toLowerCase().includes(selectedField.toLowerCase())
                            );
                        }

                        return matchesQuery && matchesFilters;
                    });

                    searchResults.innerHTML = '';
                    
                    if (filteredJobs.length > 0) {
                        const resultsHeader = document.createElement('div');
                        resultsHeader.style.cssText = 'padding: 20px 28px; background: var(--primary); color: white; font-weight: 700; font-size: var(--font-size-base);';
                        resultsHeader.innerHTML = `<i class="fas fa-search"></i> ${filteredJobs.length} ${translations[siteData.language].searchResults}`;
                        searchResults.appendChild(resultsHeader);

                        filteredJobs.forEach(job => {
                            const resultItem = document.createElement('div');
                            resultItem.className = 'search-result-item';
                            resultItem.innerHTML = `
                                <i class="fas fa-briefcase" style="color: var(--primary); font-size: var(--font-size-xl);"></i>
                                <div style="flex-grow: 1;">
                                    /* FIX: Removed Premium and New badges from search results */
                                    <div style="font-weight: 700; display: flex; align-items: center; gap: 12px; margin-bottom: 8px; font-size: var(--font-size-lg);">
                                        ${job.title[siteData.language] || job.title.fr}
                                    </div>
                                    <div style="font-size: var(--font-size-sm); color: var(--text-light); margin: 8px 0; display: flex; align-items: center; gap: 16px;">
                                        <span style="background: var(--primary); color: white; padding: 4px 12px; border-radius: var(--border-radius-sm); font-size: 11px; font-weight: 700;">${job.type.toUpperCase()}</span>
                                        <span><i class="fas fa-map-marker-alt" style="margin-right: 6px;"></i>${job.location}</span>
                                    </div>
                                    <div style="font-size: var(--font-size-sm); color: var(--text-lighter); line-height: 1.4;">
                                        ${(job.description[siteData.language] || job.description.fr).substring(0, 150)}...
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 8px;">
                                    <button class="btn btn-sm btn-primary functional-btn" onclick="openApplicationForm(${job.id}); document.getElementById('jobSearchResults').classList.remove('show');" style="font-size: 12px; padding: 6px 12px;">
                                        ${translations[siteData.language].applyBtn}
                                    </button>
                                </div>
                            `;
                            resultItem.addEventListener('click', () => {
                                openApplicationForm(job.id);
                                searchResults.classList.remove('show');
                                searchInput.value = '';
                            });
                            searchResults.appendChild(resultItem);
                        });
                        searchResults.classList.add('show');
                    } else {
                        searchResults.innerHTML = `<div class="search-result-item" style="text-align: center; color: var(--text-light);"><i class="fas fa-search" style="margin-right: 8px;"></i>${translations[siteData.language].noResults}</div>`;
                        searchResults.classList.add('show');
                    }

                    logActivity(currentUser.username || 'visitor', `Recherche emploi: ${query} (${filteredJobs.length} résultats)`);
                }

                searchInput.addEventListener('input', performAdvancedSearch);
                searchBtn.addEventListener('click', performAdvancedSearch);
                
                // Setup advanced filters
                [regionFilter, experienceFilter, fieldFilter, educationFilter].forEach(filter => {
                    if (filter) {
                        filter.addEventListener('change', performAdvancedSearch);
                    }
                });
                
                document.addEventListener('click', function(e) {
                    if (!searchInput.contains(e.target) && !searchResults.contains(e.target) && !searchBtn.contains(e.target)) {
                        searchResults.classList.remove('show');
                    }
                });
            }
        }

        // Global initialization
        /* FIX: Function to update ISO images dynamically */
        function updateIsoImages() {
            // Update public page ISO QR code
            const aboutIsoQrImg = document.querySelector('#aboutIsoQr img');
            if (aboutIsoQrImg && siteData.isoQr) {
                aboutIsoQrImg.src = siteData.isoQr;
            }

            // Update public page ISO certificate
            const aboutIsoPreviewImg = document.querySelector('#aboutIsoPreview img');
            if (aboutIsoPreviewImg && siteData.isoCert) {
                aboutIsoPreviewImg.src = siteData.isoCert;
            }

            // Update admin preview ISO QR
            const adminIsoQrPreview = document.getElementById('adminIsoQrPreview');
            if (adminIsoQrPreview && siteData.isoQr) {
                adminIsoQrPreview.src = siteData.isoQr;
            }

            // Update admin preview ISO certificate
            const adminIsoCertPreview = document.getElementById('adminIsoCertPreview');
            if (adminIsoCertPreview && siteData.isoCert) {
                adminIsoCertPreview.src = siteData.isoCert;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 [INIT] DOMContentLoaded - currentUser avant loadSiteData:', JSON.stringify(currentUser));
            loadSiteData();
            console.log('🚀 [INIT] Après loadSiteData - currentUser:', JSON.stringify(currentUser));
            updateIsoImages(); // FIX: Update ISO images after loading data
            setupNavigation();
            setupLoginSystem();
            updateLoginButton(); // Mettre à jour le bouton login immédiatement
            updateLoginStatus(); // Restore login status after loading session
            console.log('🚀 [INIT] Après updateLoginStatus - currentUser:', JSON.stringify(currentUser));
            setupConsentSystem();
            setupThemeToggle();
            setupLanguageSwitch();
            addArabicTranslations();
            loadSocialNetworkStates(); // Add Arabic translations automatically
            setupScrollToTop();
            setupMobileMenu();
            setupJobSearch();
            initConsentSystem();
            initializeSocialsState(); // FIX: Initialize social networks visibility on load
            updateMaintenanceStatus();
            /* FIX: remove-loading-screen */

            logActivity('system', 'Site chargé');

            /* FIX: event-delegation */
            /* ADD: qa-debug-logs */
            // Délégation d'événements globale pour optimiser les performances
            setupGlobalEventDelegation();
        });

        /* FIX: event-delegation - Centralisation des event listeners */
        function setupGlobalEventDelegation() {
            console.log('[QA] Setting up global event delegation...');

            // Délégation pour les effets hover sur les éléments dynamiques
            document.addEventListener('mouseenter', function(e) {
                const target = e.target;

                // Gestion des cartes et éléments avec effet hover
                if (target.closest('.service-item, .client-item, .testimonial-item, .job-item, .user-item, .log-item, .page-item, .cv-item, .message-item')) {
                    const element = target.closest('.service-item, .client-item, .testimonial-item, .job-item, .user-item, .log-item, .page-item, .cv-item, .message-item');
                    element.style.transform = 'translateY(-5px)';
                    element.style.boxShadow = 'var(--shadow-lg)';
                    element.style.borderColor = 'var(--primary)';
                }
            }, true);

            document.addEventListener('mouseleave', function(e) {
                const target = e.target;

                // Restauration du style par défaut
                if (target.closest('.service-item, .client-item, .testimonial-item, .job-item, .user-item, .log-item, .page-item, .cv-item, .message-item')) {
                    const element = target.closest('.service-item, .client-item, .testimonial-item, .job-item, .user-item, .log-item, .page-item, .cv-item, .message-item');
                    element.style.transform = 'translateY(0)';
                    element.style.boxShadow = 'var(--shadow-md)';
                    element.style.borderColor = 'var(--border)';
                }
            }, true);

            console.log('[QA] Global event delegation setup completed');
        }

        function updateMaintenanceStatus() {
            if (siteData.settings.maintenanceMode) {
                document.body.classList.add('maintenance-mode');
                document.getElementById('maintenanceNotice').style.display = 'block';
                
                if (currentUser.role !== 'admin') {
                    showPage('maintenance');
                }
            }
        }

        window.addEventListener('error', function(e) {
            console.error('Erreur JavaScript:', e.error);
            logActivity('system', `Erreur: ${e.message}`);
        });

        window.addEventListener('load', function() {
            const loadTime = performance.now();
            logActivity('system', `Site chargé en ${loadTime.toFixed(2)}ms`);
            
            if (document.getElementById('loadTime')) {
                document.getElementById('loadTime').textContent = `${loadTime.toFixed(2)}ms`;
            }
        });

        // Auto-save avec sauvegarde forcée toutes les 30 secondes OPÉRATIONNEL
        setInterval(function() {
            if (currentUser.isLoggedIn && !saveInProgress) {
                if (forceSaveData()) {
                    console.log('🔄 Auto-sauvegarde réussie');
                } else {
                    console.error('❌ Échec auto-sauvegarde');
                    showNotification('Échec de sauvegarde automatique', 'error', 2000);
                }
            }
        }, 30000);

        // Sauvegarde avant fermeture de page
        window.addEventListener('beforeunload', function(e) {
            if (currentUser.isLoggedIn && !saveInProgress) {
                forceSaveData();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case '1':
                        e.preventDefault();
                        showPage('home');
                        break;
                    case '2':
                        e.preventDefault();
                        showPage('about');
                        break;
                    case '3':
                        e.preventDefault();
                        showPage('services');
                        break;
                    case '4':
                        e.preventDefault();
                        showPage('qualite');
                        break;
                    case '5':
                        e.preventDefault();
                        showPage('carriere');
                        break;
                    case '6':
                        e.preventDefault();
                        showPage('contact');
                        break;
                    case 's':
                        if (currentUser.isLoggedIn) {
                            e.preventDefault();
                            if (forceSaveData()) {
                                showNotification('✅ Données sauvegardées manuellement', 'success');
                            }
                        }
                        break;
                }
            }
            
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.show, .login-modal.show, .admin-modal.show').forEach(modal => {
                    modal.classList.remove('show');
                });
            }
        });

        console.log('🚀 AE2I Enhanced Ultra-Professional Site - Multi-role System with Backend API Initialized');
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE ACCUEIL ULTRA-AMÉLIORÉ ===== -->
    <script id="index-script">
        function executeHomeScript() {
            console.log('🏠 Executing home page script');
            renderHomeContent();
            setupHomeInteractions();
            startTestimonialAutoSlide();
            applyCustomGradients();
        }

        function applyCustomGradients() {
            // Appliquer les dégradés personnalisés
            if (siteData.titleGradient) {
                const heroTitle = document.getElementById('heroTitle');
                if (heroTitle) {
                    heroTitle.style.background = siteData.titleGradient.gradient;
                    heroTitle.style.webkitBackgroundClip = 'text';
                    heroTitle.style.webkitTextFillColor = 'transparent';
                    heroTitle.style.backgroundClip = 'text';
                }
            }

            if (siteData.sloganGradient) {
                const heroSubtitle = document.getElementById('heroSubtitle');
                if (heroSubtitle) {
                    heroSubtitle.style.background = siteData.sloganGradient.gradient;
                    heroSubtitle.style.webkitBackgroundClip = 'text';
                    heroSubtitle.style.webkitTextFillColor = 'transparent';
                    heroSubtitle.style.backgroundClip = 'text';
                }
            }
        }

        function renderHomeContent() {
            const homeServicesGrid = document.getElementById('homeServicesGrid');
            if (homeServicesGrid) {
                homeServicesGrid.innerHTML = '';
                const activeServices = siteData.services.filter(s => s.active).slice(0, 3);
                
                activeServices.forEach(service => {
                    const serviceCard = document.createElement('div');
                    serviceCard.className = 'home-presentation-card';
                    serviceCard.innerHTML = `
                        <div class="home-presentation-icon">${service.icon}</div>
                        <h3 style="font-size: var(--font-size-xl); color: var(--text-dark); margin-bottom: var(--spacing-sm);">${service.title[siteData.language] || service.title.fr}</h3>
                        <p style="color: var(--text-light); line-height: var(--line-height-loose);">${service.description[siteData.language] || service.description.fr}</p>
                    `;
                    homeServicesGrid.appendChild(serviceCard);
                });
            }

            const homeJobsGrid = document.getElementById('homeJobsGrid');
            if (homeJobsGrid) {
                homeJobsGrid.innerHTML = '';
                const activeJobs = siteData.jobs.filter(j => j.active).slice(0, 3);
                
                activeJobs.forEach(job => {
                    const jobCard = document.createElement('div');
                    jobCard.className = 'home-presentation-card';
                    jobCard.innerHTML = `
                        <div class="home-presentation-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <h3 style="font-size: var(--font-size-xl); color: var(--text-dark); margin-bottom: var(--spacing-sm);">${job.title[siteData.language] || job.title.fr}</h3>
                        <p style="color: var(--text-light); line-height: var(--line-height-loose);">${(job.description[siteData.language] || job.description.fr).substring(0, 120)}...</p>
                        <div style="margin-top: var(--spacing-md);">
                            <span style="background: var(--primary); color: white; padding: 4px 12px; border-radius: var(--border-radius-full); font-size: var(--font-size-xs);">
                                ${job.type.toUpperCase()}
                            </span>
                        </div>
                    `;
                    homeJobsGrid.appendChild(jobCard);
                });
            }

            renderHomeClients();
            renderHomeTestimonials();
        }

        function renderHomeClients() {
            const homeClientsTrack = document.getElementById('homeClientsTrack');
            if (homeClientsTrack) {
                homeClientsTrack.innerHTML = '';
                const activeClients = siteData.clients.filter(c => c.active);
                const clientsToRender = [...activeClients, ...activeClients];
                
                clientsToRender.forEach(client => {
                    const clientLogo = document.createElement('div');
                    clientLogo.className = 'client-logo-item';
                    clientLogo.innerHTML = `<img src="${client.logo}" alt="${client.name}" style="max-height: 100px; max-width: 180px; filter: none;" loading="lazy">`;
                    homeClientsTrack.appendChild(clientLogo);
                });
            }
        }

        function renderHomeTestimonials() {
            const homeTestimonialsTrack = document.getElementById('homeTestimonialsTrack');
            const testimonialsDots = document.getElementById('testimonialsDots');
            
            if (homeTestimonialsTrack) {
                homeTestimonialsTrack.innerHTML = '';
                const activeTestimonials = siteData.testimonials.filter(t => t.active);
                
                activeTestimonials.forEach((testimonial, index) => {
                    const testimonialSlide = document.createElement('div');
                    testimonialSlide.className = 'testimonial-slide';
                    testimonialSlide.innerHTML = `
                        <div class="testimonial-card">
                            <div class="testimonial-avatar">
                                <img src="${testimonial.avatar}" alt="${testimonial.name}" loading="lazy">
                            </div>
                            <div class="testimonial-rating">
                                ${'★'.repeat(testimonial.rating)}${'☆'.repeat(5 - testimonial.rating)}
                            </div>
                            <p class="testimonial-text">
                                "${testimonial.text[siteData.language] || testimonial.text.fr}"
                            </p>
                            <div class="testimonial-name">${testimonial.name}</div>
                            <div class="testimonial-position">${testimonial.position[siteData.language] || testimonial.position.fr}</div>
                        </div>
                    `;
                    homeTestimonialsTrack.appendChild(testimonialSlide);
                });

                // Créer les dots de navigation
                if (testimonialsDots) {
                    testimonialsDots.innerHTML = '';
                    activeTestimonials.forEach((_, index) => {
                        const dot = document.createElement('div');
                        dot.className = `testimonial-dot ${index === 0 ? 'active' : ''}`;
                        dot.addEventListener('click', () => {
                            currentTestimonialIndex = index;
                            updateTestimonialCarousel();
                            updateTestimonialDots();
                            startTestimonialAutoSlide();
                        });
                        testimonialsDots.appendChild(dot);
                    });
                }

                updateTestimonialCarousel();
            }
        }

        function updateTestimonialCarousel() {
            const track = document.getElementById('homeTestimonialsTrack');
            const activeTestimonials = siteData.testimonials.filter(t => t.active);
            
            if (track && activeTestimonials.length > 0) {
                const translateX = -(currentTestimonialIndex * 100);
                track.style.transform = `translateX(${translateX}%)`;
            }
        }

        function updateTestimonialDots() {
            const dots = document.querySelectorAll('.testimonial-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentTestimonialIndex);
            });
        }

        function startTestimonialAutoSlide() {
            if (testimonialAutoSlide) {
                clearInterval(testimonialAutoSlide);
            }

            testimonialAutoSlide = setInterval(() => {
                const activeTestimonials = siteData.testimonials.filter(t => t.active);
                if (activeTestimonials.length > 1) {
                    currentTestimonialIndex = (currentTestimonialIndex + 1) % activeTestimonials.length;
                    updateTestimonialCarousel();
                    updateTestimonialDots();
                }
            }, 5000);
        }

        function setupHomeInteractions() {
            const homeBrochureDownload = document.getElementById('homeBrochureDownload');
            if (homeBrochureDownload) {
                homeBrochureDownload.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    if (siteData.brochure && siteData.brochure.url) {
                        const link = document.createElement('a');
                        link.href = siteData.brochure.url;
                        link.download = siteData.brochure.name || 'AE2I_Brochure_2025.pdf';
                        link.click();
                        
                        showNotification(siteData.language === 'en' ? 'AE2I 2025 brochure download started' : 'Téléchargement de la brochure AE2I 2025 démarré', 'success');
                        logActivity(currentUser.username || 'visitor', 'Brochure téléchargée depuis accueil');
                    } else {
                        showNotification(siteData.language === 'en' ? 'Brochure not available' : 'Brochure non disponible', 'warning');
                    }
                });
            }

            const homePrevTestimonial = document.getElementById('homePrevTestimonial');
            const homeNextTestimonial = document.getElementById('homeNextTestimonial');
            
            if (homePrevTestimonial) {
                homePrevTestimonial.addEventListener('click', function() {
                    const activeTestimonials = siteData.testimonials.filter(t => t.active);
                    if (activeTestimonials.length > 0) {
                        currentTestimonialIndex = (currentTestimonialIndex - 1 + activeTestimonials.length) % activeTestimonials.length;
                        updateTestimonialCarousel();
                        updateTestimonialDots();
                        startTestimonialAutoSlide();
                    }
                });
            }
            
            if (homeNextTestimonial) {
                homeNextTestimonial.addEventListener('click', function() {
                    const activeTestimonials = siteData.testimonials.filter(t => t.active);
                    if (activeTestimonials.length > 0) {
                        currentTestimonialIndex = (currentTestimonialIndex + 1) % activeTestimonials.length;
                        updateTestimonialCarousel();
                        updateTestimonialDots();
                        startTestimonialAutoSlide();
                    }
                });
            }
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE À PROPOS ===== -->
    <script id="about-script">
        function executeAboutScript() {
            console.log('📖 Executing about page script');
            setupAboutInteractions();
        }

        function setupAboutInteractions() {
            /* FIX: iso-hover-visibility + responsive-iso-hover + iso-touch-compatibility */
            window.showIsoPreview = function() {
                const preview = document.getElementById('aboutIsoPreview');
                if (preview) {
                    preview.classList.add('show');
                }
            };

            window.hideIsoPreview = function() {
                const preview = document.getElementById('aboutIsoPreview');
                if (preview) {
                    preview.classList.remove('show');
                }
            };

            /* ADD: iso-touch-compatibility - Support tap/clic mobile et tablette */
            const isoQr = document.getElementById('aboutIsoQr');
            const isoPreview = document.getElementById('aboutIsoPreview');

            if (isoQr && isoPreview) {
                let isPreviewOpen = false;

                // Clic/tap toggle pour mobile et tablette
                isoQr.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();

                    if (isPreviewOpen) {
                        hideIsoPreview();
                        isPreviewOpen = false;
                        isoQr.classList.remove('active');
                    } else {
                        showIsoPreview();
                        isPreviewOpen = true;
                        isoQr.classList.add('active');
                    }
                });

                // Fermer au clic en dehors
                document.addEventListener('click', function(e) {
                    if (isPreviewOpen && !isoQr.contains(e.target) && !isoPreview.contains(e.target)) {
                        hideIsoPreview();
                        isPreviewOpen = false;
                        isoQr.classList.remove('active');
                    }
                });

                // Sur PC: hover fonctionne normalement
                if (window.matchMedia('(hover: hover) and (pointer: fine)').matches) {
                    isoQr.addEventListener('mouseenter', function() {
                        if (!isPreviewOpen) {
                            showIsoPreview();
                        }
                    });

                    isoQr.addEventListener('mouseleave', function() {
                        if (!isPreviewOpen) {
                            hideIsoPreview();
                        }
                    });

                    // Hover sur le preview lui-m\u00eame
                    isoPreview.addEventListener('mouseenter', function() {
                        if (!isPreviewOpen) {
                            showIsoPreview();
                        }
                    });

                    isoPreview.addEventListener('mouseleave', function() {
                        if (!isPreviewOpen) {
                            hideIsoPreview();
                        }
                    });
                }
            }

            const statItems = document.querySelectorAll('.about-stat-item');
            statItems.forEach((item, index) => {
                item.style.animationDelay = `${index * 0.1}s`;
                item.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.05)';
                });
                item.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE SERVICES AVEC EFFET PRISM ===== -->
    <script id="services-script">
        function executeServicesScript() {
            console.log('🔧 Executing services page script');
            renderServicesPage();
            setupServicesInteractions();
        }

        function renderServicesPage() {
            const servicesGrid = document.getElementById('servicesGrid');
            if (servicesGrid) {
                servicesGrid.innerHTML = '';
                const activeServices = siteData.services.filter(s => s.active);
                
                activeServices.forEach(service => {
                    const serviceCard = document.createElement('div');
                    serviceCard.className = 'service-card';
                    serviceCard.innerHTML = `
                        <div class="service-icon">${service.icon}</div>
                        <img src="${service.image}" alt="${service.title[siteData.language] || service.title.fr}" class="service-image" loading="lazy">
                        <div style="flex-grow: 1; display: flex; flex-direction: column;">
                            <h3 class="service-title">${service.title[siteData.language] || service.title.fr}</h3>
                            <p class="service-description">${service.description[siteData.language] || service.description.fr}</p>
                            <a href="#contact" class="service-link functional-btn nav-link" data-page="contact">
                                <i class="fas fa-arrow-right"></i>
                                ${siteData.language === 'en' ? 'Learn more' : 'En savoir plus'}
                            </a>
                        </div>
                    `;
                    servicesGrid.appendChild(serviceCard);
                });
            }
        
        }

        function setupServicesInteractions() {
            document.querySelectorAll('.service-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-12px) scale(1.02)';
                    this.style.boxShadow = 'var(--shadow-2xl)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = 'var(--shadow-lg)';
                });
            });

            document.querySelectorAll('.service-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    showPage('contact');
                    showNotification(siteData.language === 'en' ? 'Contact us to learn more about this service!' : 'Contactez-nous pour en savoir plus sur ce service!', 'info');
                });
            });
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE QUALITÉ AVEC EFFET PRISM ===== -->
    <script id="qualite-script">
        function executeQualiteScript() {
            console.log('🏆 Executing qualite page script');
            setupQualiteInteractions();
            initializePrismEffect();
        }

        function initializePrismEffect() {
            const qualiteSections = document.querySelectorAll('.qualite-section');
            
            qualiteSections.forEach((section, index) => {
                section.addEventListener('mouseenter', function() {
                    const prism = document.querySelector('.prism');
                    if (prism) {
                        prism.style.animationDuration = '10s';
                    }
                });
                
                section.addEventListener('mouseleave', function() {
                    const prism = document.querySelector('.prism');
                    if (prism) {
                        prism.style.animationDuration = '20s';
                    }
                });
            });
        }

        function setupQualiteInteractions() {
            document.querySelectorAll('.qualite-engagement-item').forEach((item, index) => {
                item.style.animationDelay = `${index * 0.2}s`;
                
                item.addEventListener('click', function() {
                    const title = this.querySelector('.qualite-engagement-title').textContent;
                    showNotification(`${siteData.language === 'en' ? 'Commitment:' : 'Engagement:'} ${title}`, 'info');
                    logActivity(currentUser.username || 'visitor', `Engagement qualité consulté: ${title}`);
                });
            });
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE CARRIÈRE ULTRA-PROFESSIONNEL POUR 20+ OFFRES AVEC CARTES HORIZONTALES COMPACTES ===== -->
    <script id="carriere-script">
        function executeCarriereScript() {
            console.log('💼 Executing carriere page script');
            renderCarriereJobs();
            setupCarriereFilters();
            setupCarriereInteractions();
            setupAdvancedJobSearch();
            setupJobsPagination();
        }

        /* ADD: Multi-select filter functions */
        function toggleMultiFilter(filterId) {
            const dropdown = document.getElementById(filterId + 'Dropdown');
            const button = dropdown.previousElementSibling;
            const container = dropdown.closest('.filter-multiselect-container');
            const filterGroup = dropdown.closest('.search-filter-group');

            // Close all other dropdowns and remove active classes
            document.querySelectorAll('.filter-multiselect-dropdown').forEach(d => {
                if (d.id !== filterId + 'Dropdown') {
                    d.style.display = 'none';
                    d.previousElementSibling.classList.remove('active');
                    const parentContainer = d.closest('.filter-multiselect-container');
                    if (parentContainer) parentContainer.classList.remove('active');
                    const parentGroup = d.closest('.search-filter-group');
                    if (parentGroup) parentGroup.classList.remove('filter-active');
                }
            });

            // Toggle current dropdown
            if (dropdown.style.display === 'none' || dropdown.style.display === '') {
                dropdown.style.display = 'block';
                button.classList.add('active');
                if (container) container.classList.add('active');
                if (filterGroup) filterGroup.classList.add('filter-active');
            } else {
                dropdown.style.display = 'none';
                button.classList.remove('active');
                if (container) container.classList.remove('active');
                if (filterGroup) filterGroup.classList.remove('filter-active');
            }
        }

        function updateMultiFilterDisplay(filterId) {
            const dropdown = document.getElementById(filterId + 'Dropdown');
            const button = dropdown.previousElementSibling;
            const checkboxes = dropdown.querySelectorAll('input[type="checkbox"]:checked');
            const buttonText = button.querySelector('span');

            if (checkboxes.length === 0) {
                // Show default text
                const filterLabels = {
                    'regionFilter': { fr: 'Toutes les wilayas', en: 'All wilayas' },
                    'experienceFilter': { fr: 'Toute expérience', en: 'Any experience' },
                    'fieldFilter': { fr: 'Tous les domaines', en: 'All fields' },
                    'educationFilter': { fr: 'Tous niveaux', en: 'All levels' }
                };
                buttonText.textContent = filterLabels[filterId][siteData.language];
            } else if (checkboxes.length === 1) {
                buttonText.textContent = checkboxes[0].nextElementSibling.textContent;
            } else {
                buttonText.textContent = `${checkboxes.length} sélectionné(s)`;
            }
        }

        function getSelectedFilterValues(filterName) {
            const checkboxes = document.querySelectorAll(`input[name="${filterName}"]:checked`);
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function applyMultiFilters() {
            const selectedRegions = getSelectedFilterValues('region');
            const selectedExperience = getSelectedFilterValues('experience');
            const selectedFields = getSelectedFilterValues('field');
            const selectedEducation = getSelectedFilterValues('education');

            const jobsGrid = document.getElementById('carriereJobsGrid');
            if (!jobsGrid) return;

            let filteredJobs = siteData.jobs.filter(j => j.active);

            // Filter by regions (wilayas)
            if (selectedRegions.length > 0) {
                filteredJobs = filteredJobs.filter(job => {
                    return selectedRegions.some(region =>
                        job.location.toLowerCase().includes(region.toLowerCase().split('-')[1])
                    );
                });
            }

            // Filter by experience (placeholder - would need job.experience field)
            if (selectedExperience.length > 0) {
                filteredJobs = filteredJobs.filter(job => {
                    if (!job.experience) return false;
                    return selectedExperience.includes(job.experience);
                });
            }

            // Filter by field/domain (placeholder - would need job.field)
            if (selectedFields.length > 0) {
                filteredJobs = filteredJobs.filter(job => {
                    if (!job.field) return false;
                    return selectedFields.includes(job.field);
                });
            }

            // Filter by education (placeholder - would need job.education)
            if (selectedEducation.length > 0) {
                filteredJobs = filteredJobs.filter(job => {
                    if (!job.education) return false;
                    return selectedEducation.includes(job.education);
                });
            }

            // Display results
            jobsGrid.innerHTML = '';
            if (filteredJobs.length === 0) {
                jobsGrid.innerHTML = `<p style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--text-light);">${siteData.language === 'fr' ? 'Aucune offre ne correspond à vos critères' : 'No offers match your criteria'}</p>`;
            } else {
                filteredJobs.forEach(job => {
                    const jobCard = document.createElement('div');
                    jobCard.className = 'carriere-job-card';
                    jobCard.setAttribute('data-type', job.type);

                    jobCard.innerHTML = `
                        <div class="carriere-job-content">
                            <h3 class="carriere-job-title" style="font-size: var(--font-size-2xl); font-weight: 700; margin-bottom: var(--spacing-md);">${job.title[siteData.language] || job.title.fr}</h3>
                            <div class="carriere-job-location" style="margin-bottom: var(--spacing-md);">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${job.location}</span>
                            </div>
                            <div class="carriere-job-details">
                                <div class="carriere-job-detail-section">
                                    <h4><i class="fas fa-info-circle"></i> ${translations[siteData.language].description}:</h4>
                                    <p>${job.description[siteData.language] || job.description.fr}</p>
                                </div>
                                <div class="carriere-job-detail-section requirements">
                                    <h4><i class="fas fa-list-check"></i> ${translations[siteData.language].requirements}:</h4>
                                    <p>${job.requirements[siteData.language] || job.requirements.fr}</p>
                                </div>
                            </div>
                            <div class="carriere-job-footer" style="display: flex; justify-content: space-between; align-items: center; margin-top: var(--spacing-lg); padding-top: var(--spacing-md); border-top: 2px solid var(--border);">
                                <div class="carriere-job-type" style="background: var(--primary); color: white; padding: 8px 20px; border-radius: var(--border-radius); font-weight: 700; font-size: var(--font-size-sm);">${job.type.toUpperCase()}</div>
                                <button class="carriere-btn-apply functional-btn" data-job-id="${job.id}" onclick="openApplicationForm(${job.id})" style="background: linear-gradient(135deg, #008fb3 0%, #003d82 100%); color: white; padding: 14px 32px; border-radius: var(--border-radius-lg); font-weight: 700; font-size: var(--font-size-base); box-shadow: 0 4px 15px rgba(0, 86, 179, 0.3); transition: all 0.3s ease; border: none;">
                                    <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
                                    ${translations[siteData.language].applyBtn}
                                </button>
                            </div>
                        </div>
                    `;
                    jobsGrid.appendChild(jobCard);
                });
            }

            showNotification(
                `${filteredJobs.length} ${siteData.language === 'fr' ? 'offre(s) trouvée(s)' : 'offer(s) found'}`,
                'success'
            );
        }

        function resetMultiFilters() {
            // Uncheck all checkboxes
            document.querySelectorAll('.filter-multiselect-dropdown input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });

            // Reset all button texts
            ['regionFilter', 'experienceFilter', 'fieldFilter', 'educationFilter'].forEach(filterId => {
                updateMultiFilterDisplay(filterId);
            });

            // Show all jobs
            renderCarriereJobs();

            showNotification(
                siteData.language === 'fr' ? 'Filtres réinitialisés' : 'Filters reset',
                'success'
            );
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.filter-multiselect-container')) {
                document.querySelectorAll('.filter-multiselect-dropdown').forEach(dropdown => {
                    dropdown.style.display = 'none';
                    dropdown.previousElementSibling.classList.remove('active');
                });
            }
        });

        function renderCarriereJobs() {
            const jobsGrid = document.getElementById('carriereJobsGrid');
            if (jobsGrid) {
                jobsGrid.innerHTML = '';
                const activeJobs = siteData.jobs.filter(j => j.active);
                
                // Pagination pour 20+ offres
                const startIndex = (currentJobsPage - 1) * jobsPerPage;
                const endIndex = startIndex + jobsPerPage;
                const jobsToShow = activeJobs.slice(startIndex, endIndex);
                
                jobsToShow.forEach(job => {
                    const jobCard = document.createElement('div');
                    /* FIX: Removed premium class */
                    jobCard.className = 'carriere-job-card';
                    jobCard.setAttribute('data-type', job.type);
                    if (job.isNew) jobCard.setAttribute('data-new', 'true');
                    
                    /* FIX: Restructured card - large title at top, job type badge at bottom, redesigned apply button */
                    jobCard.innerHTML = `
                        <div class="carriere-job-content">
                            <h3 class="carriere-job-title" style="font-size: var(--font-size-2xl); font-weight: 700; margin-bottom: var(--spacing-md);">${job.title[siteData.language] || job.title.fr}</h3>
                            <div class="carriere-job-location" style="margin-bottom: var(--spacing-md);">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${job.location}</span>
                            </div>
                            <div class="carriere-job-details">
                                <div class="carriere-job-detail-section">
                                    <h4><i class="fas fa-info-circle"></i> ${translations[siteData.language].description}:</h4>
                                    <p>${job.description[siteData.language] || job.description.fr}</p>
                                </div>
                                <div class="carriere-job-detail-section requirements">
                                    <h4><i class="fas fa-list-check"></i> ${translations[siteData.language].requirements}:</h4>
                                    <p>${job.requirements[siteData.language] || job.requirements.fr}</p>
                                </div>
                            </div>
                            <div class="carriere-job-footer" style="display: flex; justify-content: space-between; align-items: center; margin-top: var(--spacing-lg); padding-top: var(--spacing-md); border-top: 2px solid var(--border);">
                                <div class="carriere-job-type" style="background: var(--primary); color: white; padding: 8px 20px; border-radius: var(--border-radius); font-weight: 700; font-size: var(--font-size-sm);">${job.type.toUpperCase()}</div>
                                <button class="carriere-btn-apply functional-btn" data-job-id="${job.id}" onclick="openApplicationForm(${job.id})" style="background: linear-gradient(135deg, #008fb3 0%, #003d82 100%); color: white; padding: 14px 32px; border-radius: var(--border-radius-lg); font-weight: 700; font-size: var(--font-size-base); box-shadow: 0 4px 15px rgba(0, 86, 179, 0.3); transition: all 0.3s ease; border: none;">
                                    <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
                                    ${translations[siteData.language].applyBtn}
                                </button>
                            </div>
                        </div>
                    `;
                    jobsGrid.appendChild(jobCard);
                });

                // Afficher la pagination si nécessaire
                updatePagination(activeJobs.length);
            }
        }

        function setupJobsPagination() {
            const prevBtn = document.getElementById('prevPage');
            const nextBtn = document.getElementById('nextPage');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', function() {
                    if (currentJobsPage > 1) {
                        currentJobsPage--;
                        renderCarriereJobs();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', function() {
                    const totalJobs = siteData.jobs.filter(j => j.active).length;
                    const totalPages = Math.ceil(totalJobs / jobsPerPage);
                    
                    if (currentJobsPage < totalPages) {
                        currentJobsPage++;
                        renderCarriereJobs();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                });
            }
        }

        function updatePagination(totalJobs) {
            const pagination = document.getElementById('carrierePagination');
            const paginationInfo = document.getElementById('paginationInfo');
            const totalPages = Math.ceil(totalJobs / jobsPerPage);
            
            if (totalPages > 1) {
                pagination.style.display = 'flex';
                paginationInfo.textContent = `Page ${currentJobsPage} sur ${totalPages}`;
                
                const prevBtn = document.getElementById('prevPage');
                const nextBtn = document.getElementById('nextPage');
                
                if (prevBtn) {
                    prevBtn.disabled = currentJobsPage === 1;
                    prevBtn.style.opacity = currentJobsPage === 1 ? '0.5' : '1';
                }
                
                if (nextBtn) {
                    nextBtn.disabled = currentJobsPage === totalPages;
                    nextBtn.style.opacity = currentJobsPage === totalPages ? '0.5' : '1';
                }
            } else {
                pagination.style.display = 'none';
            }
        }

        function setupAdvancedJobSearch() {
            const searchInput = document.getElementById('jobSearchInput');
            const regionFilter = document.getElementById('regionFilter');
            const experienceFilter = document.getElementById('experienceFilter');
            const fieldFilter = document.getElementById('fieldFilter');
            const educationFilter = document.getElementById('educationFilter');
            
            // Setup advanced search with all filters
            [regionFilter, experienceFilter, fieldFilter, educationFilter].forEach(filter => {
                if (filter) {
                    filter.addEventListener('change', function() {
                        // Reset pagination when filtering
                        currentJobsPage = 1;
                        
                        // Trigger search if there's a query or any filter is selected
                        const hasQuery = searchInput && searchInput.value.trim().length >= 2;
                        const hasFilters = [regionFilter, experienceFilter, fieldFilter, educationFilter].some(f => f && f.value);
                        
                        if (hasQuery || hasFilters) {
                            // Trigger the search function from global script
                            if (window.performAdvancedSearch) {
                                window.performAdvancedSearch();
                            }
                        }
                    });
                }
            });
        }

        function setupCarriereFilters() {
            document.querySelectorAll('.carriere-filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.carriere-filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    currentJobsPage = 1; // Reset pagination
                    
                    const jobCards = document.querySelectorAll('.carriere-job-card');
                    
                    jobCards.forEach((card, index) => {
                        if (filter === 'all' || card.getAttribute('data-type') === filter) {
                            card.style.display = 'flex';
                            card.style.animation = `fadeInUp 0.5s ease-out ${index * 0.1}s forwards`;
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    
                    // Recalculer la pagination
                    const visibleJobs = siteData.jobs.filter(j => j.active && (filter === 'all' || j.type === filter));
                    updatePagination(visibleJobs.length);
                    
                    logActivity(currentUser.username || 'visitor', `Filtrage emplois: ${filter}`);
                });
            });
        }

        function setupCarriereInteractions() {
            document.querySelectorAll('.carriere-job-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px) scale(1.01)';
                    this.style.boxShadow = 'var(--shadow-xl)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = 'var(--shadow-lg)';
                });
            });
        }

        function openApplicationForm(jobId) {
            if (!checkConsentRequired('forms')) {
                return;
            }

            const job = siteData.jobs.find(j => j.id == jobId);
            if (job) {
                document.getElementById('applicationTitle').textContent = `${siteData.language === 'en' ? 'Application for' : 'Candidature pour'} ${job.title[siteData.language] || job.title.fr}`;
                document.getElementById('applicationForm').dataset.jobId = jobId;

                // Show custom question if exists
                const customQuestionField = document.getElementById('customQuestionField');
                const customQuestionLabel = document.getElementById('customQuestionLabel');
                const customQuestionAnswer = document.getElementById('customQuestionAnswer');

                if (job.customQuestion && job.customQuestion[siteData.language]) {
                    customQuestionLabel.textContent = job.customQuestion[siteData.language];
                    customQuestionAnswer.value = '';
                    customQuestionField.style.display = 'block';
                } else {
                    customQuestionField.style.display = 'none';
                    customQuestionAnswer.value = '';
                }

                openModal('applicationModal');
                logActivity(currentUser.username || 'visitor', `Formulaire candidature ouvert: ${job.title.fr}`);

                /* FIX: Setup driver license event listeners when modal opens */
                setTimeout(function() {
                    const licenseRadios = document.querySelectorAll('input[name="hasDriverLicense"]');
                    console.log('Modal opened - setting up license radios, found:', licenseRadios.length);

                    licenseRadios.forEach(radio => {
                        // Remove old listeners first
                        radio.removeEventListener('change', handleLicenseChange);
                        // Add new listener
                        radio.addEventListener('change', handleLicenseChange);
                    });
                }, 100);
            }
        }

        /* FIX: Handler function for license change */
        function handleLicenseChange() {
            console.log('License radio changed, value:', this.value);
            if (window.toggleDriverLicenseFields) {
                window.toggleDriverLicenseFields(this.value);
            } else {
                console.error('toggleDriverLicenseFields function not found!');
            }
        }

        const fadeInUpKeyframes = `
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        
        const style = document.createElement('style');
        style.textContent = fadeInUpKeyframes;
        document.head.appendChild(style);
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE CONTACT ===== -->
    <script id="contact-script">
        function executeContactScript() {
            console.log('📞 Executing contact page script');
            setupContactForm();
            setupContactInteractions();
            updateContactPageInfo();
        }

        function updateContactPageInfo() {
            if (siteData.settings.contact) {
                const addressEl = document.getElementById('contactPageAddress');
                const phoneEl = document.getElementById('contactPagePhone');
                const emailEl = document.getElementById('contactPageEmail');

                if (addressEl) addressEl.textContent = siteData.settings.contact.address;
                if (phoneEl) phoneEl.textContent = siteData.settings.contact.phone;
                if (emailEl) {
                    emailEl.textContent = siteData.settings.contact.email;
                    emailEl.href = `mailto:${siteData.settings.contact.email}`;
                }

                if (siteData.settings.contact.googleMapsUrl) {
                    const iframe = document.querySelector('.google-maps iframe');
                    if (iframe) {
                        iframe.src = siteData.settings.contact.googleMapsUrl;
                    }
                }
            }
        }

        function setupContactForm() {
            const contactForm = document.getElementById('contactPageForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    if (!checkConsentRequired('forms')) {
                        showNotification(siteData.language === 'en' ? 'Consent required to send a message' : 'Consentement requis pour envoyer un message', 'warning');
                        return;
                    }
                    
                    const formData = new FormData(this);
                    const name = formData.get('name');
                    const email = formData.get('email');
                    const subject = formData.get('subject');
                    const message = formData.get('message');
                    const phone = formData.get('phone');
                    
                    if (!name || !email || !subject || !message) {
                        showNotification(siteData.language === 'en' ? 'Please fill in all required fields' : 'Veuillez remplir tous les champs obligatoires', 'error');
                        return;
                    }
                    
                    const contactMessage = {
                        id: Date.now(),
                        name: name,
                        email: email,
                        phone: phone,
                        subject: subject,
                        message: message,
                        timestamp: new Date().toISOString(),
                        status: 'unread',
                        consentGiven: consentStatus.accepted
                    };
                    
                    if (!siteData.contactMessages) siteData.contactMessages = [];
                    siteData.contactMessages.unshift(contactMessage);
                    
                    if (forceSaveData()) {
                        const successMsg = siteData.language === 'en' ? 
                            `Thank you ${name}! Your message has been sent successfully.` :
                            `Merci ${name}! Votre message a été envoyé avec succès.`;
                        
                        showNotification(successMsg, 'success');
                        this.reset();
                        
                        logActivity(currentUser.username || 'visitor', `Message de contact envoyé: ${subject}`);
                    } else {
                        showNotification('Échec d\'envoi du message', 'error');
                    }
                });
            }
        }

        function setupContactInteractions() {
            document.querySelectorAll('.contact-item').forEach(item => {
                item.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateX(8px)';
                    this.style.boxShadow = 'var(--shadow-md)';
                    this.style.borderLeft = '4px solid var(--primary)';

                    const icon = this.querySelector('.contact-icon');
                    if (icon) {
                        icon.style.background = 'var(--primary-light)';
                        icon.style.transform = 'scale(1.1)';
                        icon.style.boxShadow = 'var(--shadow-lg)';
                    }
                });

                item.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateX(0)';
                    this.style.boxShadow = '';
                    this.style.borderLeft = '';

                    const icon = this.querySelector('.contact-icon');
                    if (icon) {
                        icon.style.background = 'var(--primary)';
                        icon.style.transform = 'scale(1)';
                        icon.style.boxShadow = '';
                    }
                });
            });

            const contactEmail = document.getElementById('contactPageEmail');
            if (contactEmail) {
                contactEmail.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.location.href = `mailto:${siteData.settings.contact.email}?subject=${siteData.language === 'en' ? 'AE2I Information Request' : 'Demande d\'information AE2I'}`;
                    logActivity(currentUser.username || 'visitor', 'Email de contact cliqué');
                });
            }
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE ADMIN DASHBOARD ULTRA-AMÉLIORÉ AVEC SAUVEGARDE FORCÉE ET SECTION HERO ET CORRECTION DES BUGS ===== -->
    <script id="admin-script">
        function executeAdminScript() {
            console.log('⚙️ Executing admin dashboard script');
            setupAdminTabs();
            renderAdminContent();
            setupAdminForms();
            setupTinyMCE();
            updateAnalytics();
            setupAdminFileUploads();
            initializeAdminSettings();
        }

        function setupAdminTabs() {
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    showAdminTab(tabId);
                });
            });
        }

        function showAdminTab(tabId) {
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.setAttribute('aria-selected', 'false');
            });

            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.classList.remove('active');
            });

            const selectedTab = document.querySelector(`.admin-tab[data-tab="${tabId}"]`);
            const selectedContent = document.getElementById(`admin-tab-${tabId}`);

            if (selectedTab && selectedContent) {
                selectedTab.classList.add('active');
                selectedTab.setAttribute('aria-selected', 'true');
                selectedContent.classList.add('active');

                if (tabId === 'analytics') {
                    updateAnalytics();
                } else if (tabId === 'contact') {
                    renderContactMessages();
                    updateContactStats();
                } else if (tabId === 'hero') {
                    initializeHeroSettings();
                }
            }
        }
        window.showAdminTab = showAdminTab;

        function initializeHeroSettings() {
            // Initialiser les valeurs des gradients
            if (siteData.titleGradient) {
                document.getElementById('titleGradientStart').value = siteData.titleGradient.start;
                document.getElementById('titleGradientEnd').value = siteData.titleGradient.end;
            }
            if (siteData.sloganGradient) {
                document.getElementById('sloganGradientStart').value = siteData.sloganGradient.start;
                document.getElementById('sloganGradientEnd').value = siteData.sloganGradient.end;
            }
            if (siteData.descriptionGradient) {
                document.getElementById('descriptionGradientStart').value = siteData.descriptionGradient.start;
                document.getElementById('descriptionGradientEnd').value = siteData.descriptionGradient.end;
            }
            updateGradientPreviews();
        }

        function initializeAdminSettings() {
            renderSectionsManager();
            renderRecruitmentEmails();
            renderContactSettings();
            renderSocialLinksManager();
            updateGradientPreviews();
            setupColorPickers();
        }

        function setupColorPickers() {
            // Setup color pickers avec affichage des valeurs
            const primaryColorPicker = document.getElementById('primaryColor');
            const secondaryColorPicker = document.getElementById('secondaryColor');
            
            if (primaryColorPicker) {
                primaryColorPicker.addEventListener('change', function() {
                    const value = this.value;
                    document.getElementById('primaryColorValue').textContent = value;
                    document.documentElement.style.setProperty('--primary', value);
                    siteData.settings.primaryColor = value;
                    forceSaveData();
                });
            }
            
            if (secondaryColorPicker) {
                secondaryColorPicker.addEventListener('change', function() {
                    const value = this.value;
                    document.getElementById('secondaryColorValue').textContent = value;
                    document.documentElement.style.setProperty('--secondary', value);
                    siteData.settings.secondaryColor = value;
                    forceSaveData();
                });
            }

            // Setup gradient color pickers
            ['titleGradientStart', 'titleGradientEnd', 'sloganGradientStart', 'sloganGradientEnd', 'descriptionGradientStart', 'descriptionGradientEnd', 'heroGradientStart', 'heroGradientEnd', 'footerGradientStart', 'footerGradientEnd'].forEach(id => {
                const picker = document.getElementById(id);
                if (picker) {
                    picker.addEventListener('change', updateGradientPreviews);
                }
            });
        }

        function renderSectionsManager() {
            Object.keys(siteData.settings.sectionsEnabled).forEach(section => {
                const toggle = document.querySelector(`.section-toggle[data-section="${section}"] .toggle-switch`);
                const container = document.querySelector(`.section-toggle[data-section="${section}"]`);

                if (toggle && container) {
                    const isEnabled = siteData.settings.sectionsEnabled[section];
                    toggle.classList.toggle('active', isEnabled);
                    container.classList.toggle('active', isEnabled);

                    if (section === 'testimonials') {
                        const testimonialsSection = document.getElementById('testimonials-section');
                        if (testimonialsSection) {
                            testimonialsSection.style.display = isEnabled ? 'block' : 'none';
                        }
                    }
                }
            });
        }

        function toggleSection(sectionName, toggleElement) {
            const isCurrentlyActive = toggleElement.classList.contains('active');
            const newState = !isCurrentlyActive;

            siteData.settings.sectionsEnabled[sectionName] = newState;

            toggleElement.classList.toggle('active', newState);
            toggleElement.parentElement.classList.toggle('active', newState);

            if (sectionName === 'testimonials') {
                const testimonialsSection = document.getElementById('testimonials-section');
                if (testimonialsSection) {
                    testimonialsSection.style.display = newState ? 'block' : 'none';
                }
            }

            if (forceSaveData()) {
                const message = siteData.language === 'en' ?
                    `Section ${sectionName} ${newState ? 'enabled' : 'disabled'}` :
                    `Section ${sectionName} ${newState ? 'activée' : 'désactivée'}`;
                showNotification(message, 'success');
                logActivity(currentUser.username, `Section ${sectionName} ${newState ? 'activée' : 'désactivée'}`);
            } else {
                showNotification('Échec de sauvegarde de la section', 'error');
                // Revert toggle state
                toggleElement.classList.toggle('active', !newState);
                toggleElement.parentElement.classList.toggle('active', !newState);
            }
        }

        function renderRecruitmentEmails() {
            const container = document.getElementById('recruitmentEmailsList');
            if (container && siteData.settings.recruitmentEmails) {
                container.innerHTML = '';
                siteData.settings.recruitmentEmails.forEach((email, index) => {
                    const emailItem = document.createElement('div');
                    emailItem.className = 'email-item';
                    emailItem.innerHTML = `
                        <span>${email}</span>
                        <button class="btn btn-sm btn-danger functional-btn" onclick="removeRecruitmentEmail(${index})">
                            <i class="fas fa-trash"></i>
                        </button>
                    `;
                    container.appendChild(emailItem);
                });
            }
        }

        function addRecruitmentEmail() {
            const emailInput = document.getElementById('recruitmentEmail');
            const email = emailInput.value.trim();
            
            if (email && email.includes('@')) {
                if (!siteData.settings.recruitmentEmails) {
                    siteData.settings.recruitmentEmails = [];
                }
                
                if (!siteData.settings.recruitmentEmails.includes(email)) {
                    siteData.settings.recruitmentEmails.push(email);
                    emailInput.value = '';
                    renderRecruitmentEmails();
                    showNotification(siteData.language === 'en' ? 'Email added' : 'Email ajouté', 'success');
                    forceSaveData();
                } else {
                    showNotification(siteData.language === 'en' ? 'Email already exists' : 'Email déjà présent', 'warning');
                }
            } else {
                showNotification(siteData.language === 'en' ? 'Invalid email' : 'Email invalide', 'error');
            }
        }

        function removeRecruitmentEmail(index) {
            if (confirm(siteData.language === 'en' ? 'Delete this email?' : 'Supprimer cet email?')) {
                siteData.settings.recruitmentEmails.splice(index, 1);
                renderRecruitmentEmails();
                showNotification(siteData.language === 'en' ? 'Email deleted' : 'Email supprimé', 'success');
                forceSaveData();
            }
        }

        function saveRecruitmentEmails() {
            if (forceSaveData()) {
                showNotification(siteData.language === 'en' ? 'Recruitment emails saved' : 'Emails de recrutement sauvegardés', 'success');
                logActivity(currentUser.username, 'Emails de recrutement mis à jour');
            } else {
                showNotification('Échec de sauvegarde des emails', 'error');
            }
        }

        function renderContactSettings() {
            if (siteData.settings.contact) {
                document.getElementById('contactAddressAlger').value = siteData.settings.contact.addressAlger || '126 Coopérative ESSALEM 2 Birkhadem 16029 - Alger';
                document.getElementById('contactAddressOran').value = siteData.settings.contact.addressOran || '06,07 zone de siéges usto Oran';
                document.getElementById('contactPhoneAlger').value = siteData.settings.contact.phoneAlger || '0770 – 284- 828 / 0770 – 431- 516';
                document.getElementById('contactPhoneOran').value = siteData.settings.contact.phoneOran || '0770 - 177 - 776 / 046 - 821 - 393';
                document.getElementById('contactEmailAdmin').value = siteData.settings.contact.email;
                document.getElementById('googleMapsUrl').value = siteData.settings.contact.googleMapsUrl || '';
                document.getElementById('contactHours').value = siteData.settings.contact.hours || 'Dim-Jeu: 09h00 - 17h00';
            }
        }

        function renderSocialLinksManager() {
            // Les réseaux sociaux sont maintenant gérés dans le HTML avec les détails API
            if (siteData.settings.contact && siteData.settings.contact.socialLinks) {
                document.getElementById('linkedinUrl').value = siteData.settings.contact.socialLinks.linkedin || '';
                document.getElementById('facebookUrl').value = siteData.settings.contact.socialLinks.facebook || '';
                document.getElementById('twitterUrl').value = siteData.settings.contact.socialLinks.twitter || '';
                document.getElementById('instagramUrl').value = siteData.settings.contact.socialLinks.instagram || '';
                document.getElementById('youtubeUrl').value = siteData.settings.contact.socialLinks.youtube || '';
                document.getElementById('tiktokUrl').value = siteData.settings.contact.socialLinks.tiktok || '';
            }
        }

        function saveSocialNetworks() {
            if (!siteData.settings.contact.socialLinks) {
                siteData.settings.contact.socialLinks = {};
            }
            
            siteData.settings.contact.socialLinks.linkedin = document.getElementById('linkedinUrl').value;
            siteData.settings.contact.socialLinks.facebook = document.getElementById('facebookUrl').value;
            siteData.settings.contact.socialLinks.twitter = document.getElementById('twitterUrl').value;
            siteData.settings.contact.socialLinks.instagram = document.getElementById('instagramUrl').value;
            siteData.settings.contact.socialLinks.youtube = document.getElementById('youtubeUrl').value;
            siteData.settings.contact.socialLinks.tiktok = document.getElementById('tiktokUrl').value;
            
            // Mettre à jour les liens dans le footer
            updateFooterSocialLinks();
            
            if (forceSaveData()) {
                showNotification(siteData.language === 'en' ? 'Social networks saved' : 'Réseaux sociaux sauvegardés', 'success');
                logActivity(currentUser.username, 'Réseaux sociaux mis à jour');
            } else {
                showNotification('Échec de sauvegarde des réseaux sociaux', 'error');
            }
        }

        function updateFooterSocialLinks() {
            const footerSocialLinks = document.getElementById('footerSocialLinks');
            if (footerSocialLinks && siteData.settings.contact.socialLinks) {
                const socialButtons = footerSocialLinks.querySelectorAll('.social-btn');
                socialButtons.forEach(btn => {
                    const network = btn.getAttribute('data-network');
                    if (network && siteData.settings.contact.socialLinks[network]) {
                        btn.href = siteData.settings.contact.socialLinks[network];
                    }
                });
            }
        }

        function renderContactMessages() {
            const container = document.getElementById('contactMessagesList');
            if (container) {
                container.innerHTML = '';
                
                if (siteData.contactMessages && siteData.contactMessages.length > 0) {
                    siteData.contactMessages.slice(0, 10).forEach((msg, index) => {
                        const messageItem = document.createElement('div');
                        messageItem.style.cssText = `
                            padding: 24px; 
                            border: 3px solid var(--border); 
                            border-radius: var(--border-radius-lg); 
                            margin-bottom: 20px;
                            background: ${msg.status === 'unread' ? 'linear-gradient(135deg, rgba(0, 86, 179, 0.12) 0%, rgba(0, 168, 150, 0.08) 100%)' : 'var(--bg-alt)'};
                            transition: var(--transition);
                            backdrop-filter: blur(10px);
                            box-shadow: var(--shadow-md);
                        `;
                        messageItem.innerHTML = `
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                <div style="font-weight: 800; color: var(--primary); font-size: var(--font-size-xl);">${msg.name}</div>
                                <span class="status-badge ${msg.status === 'unread' ? 'status-pending' : 'status-processed'}">
                                    <i class="fas fa-${msg.status === 'unread' ? 'envelope' : 'envelope-open'}"></i>
                                    ${msg.status === 'unread' ? (siteData.language === 'en' ? 'Unread' : 'Non lu') : (siteData.language === 'en' ? 'Read' : 'Lu')}
                                </span>
                            </div>
                            <div style="font-size: var(--font-size-base); color: var(--text-light); margin-bottom: 16px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                                <div><strong>${siteData.language === 'en' ? 'Subject:' : 'Sujet:'}</strong> ${msg.subject}</div>
                                <div><strong>Email:</strong> ${msg.email}</div>
                                <div><strong>${siteData.language === 'en' ? 'Date:' : 'Date:'}</strong> ${new Date(msg.timestamp).toLocaleDateString()}</div>
                                ${msg.phone ? `<div><strong>${siteData.language === 'en' ? 'Phone:' : 'Téléphone:'}</strong> ${msg.phone}</div>` : ''}
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.9); padding: 20px; border-radius: var(--border-radius); margin-bottom: 20px; border-left: 6px solid var(--primary); box-shadow: inset var(--shadow-sm);">
                                <p style="color: var(--text-light); font-size: var(--font-size-base); line-height: var(--line-height-loose);">
                                    ${msg.message.length > 200 ? msg.message.substring(0, 200) + '...' : msg.message}
                                </p>
                            </div>
                            <div style="display: flex; gap: 16px; flex-wrap: wrap;">
                                <button class="btn btn-sm btn-primary functional-btn" onclick="replyToMessage('${msg.email}', '${msg.subject}')">
                                    <i class="fas fa-reply"></i> ${siteData.language === 'en' ? 'Reply' : 'Répondre'}
                                </button>
                                <button class="btn btn-sm btn-outline functional-btn" onclick="markAsRead(${index})">
                                    <i class="fas fa-${msg.status === 'unread' ? 'check' : 'undo'}"></i> ${msg.status === 'unread' ? (siteData.language === 'en' ? 'Mark as read' : 'Marquer lu') : (siteData.language === 'en' ? 'Mark as unread' : 'Marquer non lu')}
                                </button>
                                <button class="btn btn-sm btn-danger functional-btn" onclick="deleteMessage(${index})">
                                    <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                                </button>
                            </div>
                        `;
                        
                        messageItem.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-5px)';
                            this.style.boxShadow = 'var(--shadow-lg)';
                            this.style.borderColor = 'var(--primary)';
                        });
                        
                        messageItem.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = 'var(--shadow-md)';
                            this.style.borderColor = 'var(--border)';
                        });
                        
                        container.appendChild(messageItem);
                    });
                } else {
                    container.innerHTML = `<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">${siteData.language === 'en' ? 'No messages received' : 'Aucun message reçu'}</p>`;
                }
            }
        }

        function updateContactStats() {
            if (siteData.contactMessages) {
                const total = siteData.contactMessages.length;
                const unread = siteData.contactMessages.filter(msg => msg.status === 'unread').length;
                
                document.getElementById('totalMessages').textContent = total;
                document.getElementById('unreadMessages').textContent = unread;
            }
        }

        function replyToMessage(email, subject) {
            const replySubject = `Re: ${subject}`;
            window.location.href = `mailto:${email}?subject=${encodeURIComponent(replySubject)}`;
            logActivity(currentUser.username, `Réponse à message: ${email}`);
        }

        function markAsRead(index) {
            if (siteData.contactMessages[index]) {
                siteData.contactMessages[index].status = siteData.contactMessages[index].status === 'unread' ? 'read' : 'unread';
                if (forceSaveData()) {
                    renderContactMessages();
                    updateContactStats();
                } else {
                    showNotification('Échec de sauvegarde du statut', 'error');
                }
            }
        }

        function deleteMessage(index) {
            if (confirm(siteData.language === 'en' ? 'Delete this message?' : 'Supprimer ce message?')) {
                siteData.contactMessages.splice(index, 1);
                if (forceSaveData()) {
                    renderContactMessages();
                    updateContactStats();
                    showNotification(siteData.language === 'en' ? 'Message deleted' : 'Message supprimé', 'success');
                } else {
                    showNotification('Échec de suppression du message', 'error');
                }
            }
        }

        function saveContactSettings() {
            siteData.settings.contact.addressAlger = document.getElementById('contactAddressAlger').value;
            siteData.settings.contact.addressOran = document.getElementById('contactAddressOran').value;
            siteData.settings.contact.phoneAlger = document.getElementById('contactPhoneAlger').value;
            siteData.settings.contact.phoneOran = document.getElementById('contactPhoneOran').value;
            siteData.settings.contact.email = document.getElementById('contactEmailAdmin').value;
            siteData.settings.contact.hours = document.getElementById('contactHours').value;
            siteData.settings.contact.googleMapsUrl = document.getElementById('googleMapsUrl').value;
            
            if (forceSaveData()) {
                showNotification(siteData.language === 'en' ? 'Contact settings saved' : 'Paramètres de contact sauvegardés', 'success');
                logActivity(currentUser.username, 'Paramètres de contact mis à jour');
                
                if (currentPage === 'contact') {
                    executeContactScript();
                }
            } else {
                showNotification('Échec de sauvegarde des paramètres de contact', 'error');
            }
        }

        function updateGradientPreviews() {
            const titlePreview = document.getElementById('titleGradientPreview');
            const sloganPreview = document.getElementById('sloganGradientPreview');
            const descriptionPreview = document.getElementById('descriptionGradientPreview');
            const heroPreview = document.getElementById('heroGradientPreview');
            const footerPreview = document.getElementById('footerGradientPreview');
            
            if (titlePreview) {
                const start = document.getElementById('titleGradientStart').value;
                const end = document.getElementById('titleGradientEnd').value;
                titlePreview.style.background = `linear-gradient(135deg, ${start} 0%, ${end} 100%)`;
            }
            
            if (sloganPreview) {
                const start = document.getElementById('sloganGradientStart').value;
                const end = document.getElementById('sloganGradientEnd').value;
                sloganPreview.style.background = `linear-gradient(135deg, ${start} 0%, ${end} 100%)`;
            }
            
            if (descriptionPreview) {
                const start = document.getElementById('descriptionGradientStart').value;
                const end = document.getElementById('descriptionGradientEnd').value;
                descriptionPreview.style.background = `linear-gradient(135deg, ${start} 0%, ${end} 100%)`;
            }
            
            if (heroPreview) {
                const start = document.getElementById('heroGradientStart').value;
                const end = document.getElementById('heroGradientEnd').value;
                heroPreview.style.background = `linear-gradient(135deg, ${start} 0%, ${end} 100%)`;
            }
            
            if (footerPreview) {
                const start = document.getElementById('footerGradientStart').value;
                const end = document.getElementById('footerGradientEnd').value;
                footerPreview.style.background = `linear-gradient(135deg, ${start} 0%, ${end} 100%)`;
            }
        }

        // NOUVELLES FONCTIONS POUR LA SECTION HERO
        /* ADD: Function to toggle text formatting for Hero title */
        function toggleTitleFormatting(type) {
            if (!siteData.titleFormatting) {
                siteData.titleFormatting = { bold: false, italic: false, underline: false };
            }

            siteData.titleFormatting[type] = !siteData.titleFormatting[type];

            const heroTitle = document.getElementById('heroTitle');
            if (heroTitle) {
                heroTitle.style.fontWeight = siteData.titleFormatting.bold ? '900' : '800';
                heroTitle.style.fontStyle = siteData.titleFormatting.italic ? 'italic' : 'normal';
                heroTitle.style.textDecoration = siteData.titleFormatting.underline ? 'underline' : 'none';
            }

            if (forceSaveData()) {
                showNotification(`Formatage ${type} ${siteData.titleFormatting[type] ? 'activé' : 'désactivé'}`, 'success');
            }
        }

        /* ADD: hero-title-size-control - Function to update Hero title size */
        function updateHeroTitleSize(size) {
            const heroTitle = document.getElementById('heroTitle');
            const sizeValue = document.getElementById('heroTitleSizeValue');

            if (heroTitle) {
                heroTitle.style.fontSize = size + 'px';
            }

            if (sizeValue) {
                sizeValue.textContent = size + 'px';
            }

            if (!siteData.heroSizes) {
                siteData.heroSizes = {};
            }
            siteData.heroSizes.title = size;

            forceSaveData();
        }

        /* ADD: hero-subtitle-style - Function to toggle text formatting for Hero subtitle */
        function toggleSubtitleFormatting(type) {
            if (!siteData.subtitleFormatting) {
                siteData.subtitleFormatting = { bold: false, italic: false, underline: false };
            }

            siteData.subtitleFormatting[type] = !siteData.subtitleFormatting[type];

            const heroSubtitle = document.getElementById('heroSubtitle');
            if (heroSubtitle) {
                heroSubtitle.style.fontWeight = siteData.subtitleFormatting.bold ? '700' : '400';
                heroSubtitle.style.fontStyle = siteData.subtitleFormatting.italic ? 'italic' : 'normal';
                heroSubtitle.style.textDecoration = siteData.subtitleFormatting.underline ? 'underline' : 'none';
            }

            if (forceSaveData()) {
                showNotification(`Formatage sous-titre ${type} ${siteData.subtitleFormatting[type] ? 'activé' : 'désactivé'}`, 'success');
            }
        }

        /* ADD: hero-subtitle-size-control - Function to update Hero subtitle size */
        function updateHeroSubtitleSize(size) {
            const heroSubtitle = document.getElementById('heroSubtitle');
            const sizeValue = document.getElementById('heroSubtitleSizeValue');

            if (heroSubtitle) {
                heroSubtitle.style.fontSize = size + 'px';
            }

            if (sizeValue) {
                sizeValue.textContent = size + 'px';
            }

            if (!siteData.heroSizes) {
                siteData.heroSizes = {};
            }
            siteData.heroSizes.subtitle = size;

            forceSaveData();
        }

        function updateSiteTitle() {
            const title = document.getElementById('siteTitle').value;
            siteData.settings.title = title;

            // Mettre à jour le titre de la page
            document.title = title;

            // Mettre à jour les éléments de la page
            const heroTitle = document.getElementById('heroTitle');
            if (heroTitle) {
                heroTitle.textContent = title;
                // Réappliquer le gradient si défini
                if (siteData.titleGradient) {
                    heroTitle.style.background = siteData.titleGradient.gradient;
                    heroTitle.style.webkitBackgroundClip = 'text';
                    heroTitle.style.webkitTextFillColor = 'transparent';
                    heroTitle.style.backgroundClip = 'text';
                }
                // Réappliquer le formatage si défini
                if (siteData.titleFormatting) {
                    heroTitle.style.fontWeight = siteData.titleFormatting.bold ? '900' : '800';
                    heroTitle.style.fontStyle = siteData.titleFormatting.italic ? 'italic' : 'normal';
                    heroTitle.style.textDecoration = siteData.titleFormatting.underline ? 'underline' : 'none';
                }
            }

            if (forceSaveData()) {
                showNotification('Titre du site mis à jour', 'success');
                logActivity(currentUser.username, 'Titre du site modifié');
            } else {
                showNotification('Échec de sauvegarde du titre', 'error');
            }
        }

        function updateSiteSlogan() {
            const slogan = document.getElementById('siteSlogan').value;
            siteData.settings.slogan = slogan;
            
            // Mettre à jour les éléments de la page
            const heroSubtitle = document.getElementById('heroSubtitle');
            if (heroSubtitle) {
                heroSubtitle.textContent = slogan;
                // Réappliquer le gradient si défini
                if (siteData.sloganGradient) {
                    heroSubtitle.style.background = siteData.sloganGradient.gradient;
                    heroSubtitle.style.webkitBackgroundClip = 'text';
                    heroSubtitle.style.webkitTextFillColor = 'transparent';
                    heroSubtitle.style.backgroundClip = 'text';
                }
            }
            
            if (forceSaveData()) {
                showNotification('Slogan du site mis à jour', 'success');
                logActivity(currentUser.username, 'Slogan du site modifié');
            } else {
                showNotification('Échec de sauvegarde du slogan', 'error');
            }
        }

        function updateSiteDescription() {
            const description = document.getElementById('siteDescription').value;
            siteData.settings.description = description;
            
            if (forceSaveData()) {
                showNotification('Description du site mise à jour', 'success');
                logActivity(currentUser.username, 'Description du site modifiée');
            } else {
                showNotification('Échec de sauvegarde de la description', 'error');
            }
        }

        function applyTitleGradient() {
            const start = document.getElementById('titleGradientStart').value;
            const end = document.getElementById('titleGradientEnd').value;
            
            siteData.titleGradient = {
                start: start,
                end: end,
                gradient: `linear-gradient(135deg, ${start} 0%, ${end} 100%)`
            };
            
            // Appliquer le gradient au titre hero
            const heroTitle = document.getElementById('heroTitle');
            if (heroTitle) {
                heroTitle.style.background = siteData.titleGradient.gradient;
                heroTitle.style.webkitBackgroundClip = 'text';
                heroTitle.style.webkitTextFillColor = 'transparent';
                heroTitle.style.backgroundClip = 'text';
            }
            
            if (forceSaveData()) {
                showNotification('Dégradé titre appliqué', 'success');
                logActivity(currentUser.username, 'Dégradé titre modifié');
            } else {
                showNotification('Échec d\'application du dégradé titre', 'error');
            }
        }

        function applySloganGradient() {
            const start = document.getElementById('sloganGradientStart').value;
            const end = document.getElementById('sloganGradientEnd').value;
            
            siteData.sloganGradient = {
                start: start,
                end: end,
                gradient: `linear-gradient(135deg, ${start} 0%, ${end} 100%)`
            };
            
            // Appliquer le gradient au slogan hero
            const heroSubtitle = document.getElementById('heroSubtitle');
            if (heroSubtitle) {
                heroSubtitle.style.background = siteData.sloganGradient.gradient;
                heroSubtitle.style.webkitBackgroundClip = 'text';
                heroSubtitle.style.webkitTextFillColor = 'transparent';
                heroSubtitle.style.backgroundClip = 'text';
            }
            
            if (forceSaveData()) {
                showNotification('Dégradé slogan appliqué', 'success');
                logActivity(currentUser.username, 'Dégradé slogan modifié');
            } else {
                showNotification('Échec d\'application du dégradé slogan', 'error');
            }
        }

        function applyDescriptionGradient() {
            const start = document.getElementById('descriptionGradientStart').value;
            const end = document.getElementById('descriptionGradientEnd').value;
            
            siteData.descriptionGradient = {
                start: start,
                end: end,
                gradient: `linear-gradient(135deg, ${start} 0%, ${end} 100%)`
            };
            
            if (forceSaveData()) {
                showNotification('Dégradé description appliqué', 'success');
                logActivity(currentUser.username, 'Dégradé description modifié');
            } else {
                showNotification('Échec d\'application du dégradé description', 'error');
            }
        }

        function applyHeroGradient() {
            const start = document.getElementById('heroGradientStart').value;
            const end = document.getElementById('heroGradientEnd').value;
            
            siteData.heroBackground = {
                type: 'gradient',
                gradient: `linear-gradient(135deg, ${start} 0%, ${end} 100%)`
            };
            
            const heroBackground = document.getElementById('heroBackground');
            if (heroBackground) {
                heroBackground.style.background = siteData.heroBackground.gradient;
                heroBackground.classList.remove('has-image', 'has-video');
            }
            
            if (forceSaveData()) {
                showNotification('Dégradé hero appliqué', 'success');
                logActivity(currentUser.username, 'Dégradé hero modifié');
            } else {
                showNotification('Échec d\'application du dégradé hero', 'error');
            }
        }

        function applyFooterGradient() {
            const start = document.getElementById('footerGradientStart').value;
            const end = document.getElementById('footerGradientEnd').value;
            
            siteData.footerBackground = {
                type: 'gradient',
                gradient: `linear-gradient(135deg, ${start} 0%, ${end} 100%)`
            };
            
            const footerBackground = document.getElementById('footerBackground');
            if (footerBackground) {
                footerBackground.style.background = siteData.footerBackground.gradient;
                footerBackground.classList.remove('has-image', 'has-video');
            }
            
            if (forceSaveData()) {
                showNotification('Dégradé footer appliqué', 'success');
                logActivity(currentUser.username, 'Dégradé footer modifié');
            } else {
                showNotification('Échec d\'application du dégradé footer', 'error');
            }
        }

        function setHeroBackground(type) {
            if (type === 'gradient') {
                applyHeroGradient();
            }
        }

        function setFooterBackground(type) {
            if (type === 'gradient') {
                applyFooterGradient();
            }
        }

        function removeHeroBackground() {
            if (confirm(siteData.language === 'en' ? 'Remove hero background?' : 'Supprimer le fond hero?')) {
                delete siteData.heroBackground;
                
                const heroBackground = document.getElementById('heroBackground');
                if (heroBackground) {
                    heroBackground.style.background = 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)';
                    heroBackground.classList.remove('has-image', 'has-video');
                }
                
                const heroVideo = document.getElementById('heroVideo');
                if (heroVideo) {
                    heroVideo.style.display = 'none';
                }
                
                if (forceSaveData()) {
                    showNotification('Fond hero supprimé', 'success');
                    logActivity(currentUser.username, 'Fond hero supprimé');
                } else {
                    showNotification('Échec de suppression du fond hero', 'error');
                }
            }
        }

        function removeFooterBackground() {
            if (confirm(siteData.language === 'en' ? 'Remove footer background?' : 'Supprimer le fond footer?')) {
                delete siteData.footerBackground;
                
                const footerBackground = document.getElementById('footerBackground');
                if (footerBackground) {
                    footerBackground.style.background = 'linear-gradient(135deg, #1e293b 0%, #0f1419 100%)';
                    footerBackground.classList.remove('has-image', 'has-video');
                }
                
                const footerVideo = document.getElementById('footerVideo');
                if (footerVideo) {
                    footerVideo.style.display = 'none';
                }
                
                if (forceSaveData()) {
                    showNotification('Fond footer supprimé', 'success');
                    logActivity(currentUser.username, 'Fond footer supprimé');
                } else {
                    showNotification('Échec de suppression du fond footer', 'error');
                }
            }
        }

        function setupTinyMCE() {
            if (typeof tinymce !== 'undefined') {
                tinymce.init({
                    selector: '#pageContentTinyMCE',
                    height: 400,
                    menubar: false,
                    plugins: [
                        'advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview',
                        'anchor', 'searchreplace', 'visualblocks', 'code', 'fullscreen',
                        'insertdatetime', 'media', 'table', 'help', 'wordcount'
                    ],
                    toolbar: 'undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help',
                    content_style: 'body { font-family: Inter, sans-serif; font-size: 14px; }',
                    skin: document.body.classList.contains('dark-mode') ? 'oxide-dark' : 'oxide',
                    content_css: document.body.classList.contains('dark-mode') ? 'dark' : 'default'
                });
            }
        }

        function renderAdminContent() {
            // Mettre à jour le nom d'utilisateur affiché
            const currentUserElement = document.getElementById('currentUser');
            if (currentUserElement) {
                currentUserElement.textContent = currentUser.username;
            }

            renderAdminServices();
            renderAdminClients();
            renderAdminTestimonials();
            renderAdminJobs();
            renderAdminUsers();
            renderAdminPages();
            renderAdminCvDatabase();
            populateCVJobFilter();
            updateAdminSettings();
        }

        function updateAdminSettings() {
            document.getElementById('siteTitle').value = siteData.settings.title;
            document.getElementById('siteSlogan').value = siteData.settings.slogan;
            document.getElementById('siteDescription').value = siteData.settings.description;
            document.getElementById('defaultLanguage').value = siteData.settings.defaultLanguage;
            document.getElementById('enableMultilingual').checked = siteData.settings.enableMultilingual;
            document.getElementById('enableDarkMode').checked = siteData.settings.darkMode;
            document.getElementById('primaryColor').value = siteData.settings.primaryColor;
            document.getElementById('secondaryColor').value = siteData.settings.secondaryColor;
            document.getElementById('maintenanceMode').checked = siteData.settings.maintenanceMode;
            document.getElementById('maintenanceMessage').value = siteData.settings.maintenanceMessage;

            document.getElementById('adminLogoPreview').src = siteData.settings.logo;
            
            // Mettre à jour les valeurs des couleurs
            document.getElementById('primaryColorValue').textContent = siteData.settings.primaryColor;
            document.getElementById('secondaryColorValue').textContent = siteData.settings.secondaryColor;
            
            if (siteData.brochure) {
                document.getElementById('adminBrochureInfo').innerHTML = `<i class="fas fa-file-pdf"></i> ${siteData.brochure.name}`;
            }
        }

        function updateAnalytics() {
            document.getElementById('totalServices').textContent = siteData.services.filter(s => s.active).length;
            document.getElementById('totalClients').textContent = siteData.clients.filter(c => c.active).length;
            document.getElementById('totalJobs').textContent = siteData.jobs.filter(j => j.active).length;
            document.getElementById('totalApplications').textContent = siteData.cvDatabase ? siteData.cvDatabase.length : 0;

            if (siteData.consentLogs) {
                const accepted = siteData.consentLogs.filter(log => log.action === 'accepted').length;
                const declined = siteData.consentLogs.filter(log => log.action === 'declined').length;
                const pending = Math.max(0, 10 - accepted - declined);

                document.getElementById('consentAccepted').textContent = accepted;
                document.getElementById('consentDeclined').textContent = declined;
                document.getElementById('consentPending').textContent = pending;
            }

            drawSimpleChart('applicationsChart', 'bar');
            drawSimpleChart('jobTypesChart', 'pie');
        }

        function drawSimpleChart(canvasId, type) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (type === 'bar') {
                const data = [5, 8, 12, 7, 15, 10];
                const maxValue = Math.max(...data);
                const barWidth = canvas.width / data.length - 10;
                
                data.forEach((value, index) => {
                    const barHeight = (value / maxValue) * (canvas.height - 40);
                    const x = index * (barWidth + 10) + 5;
                    const y = canvas.height - barHeight - 20;
                    
                    ctx.fillStyle = '#008fb3';
                    ctx.fillRect(x, y, barWidth, barHeight);
                    
                    ctx.fillStyle = '#64748b';
                    ctx.font = '12px Inter';
                    ctx.textAlign = 'center';
                    ctx.fillText(value, x + barWidth/2, y - 5);
                });
            } else if (type === 'pie') {
                const data = [
                    { label: 'CDI', value: 60, color: '#008fb3' },
                    { label: 'CDD', value: 25, color: '#e63946' },
                    { label: 'Stage', value: 15, color: '#00a896' }
                ];
                
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                const radius = Math.min(centerX, centerY) - 20;
                
                let currentAngle = 0;
                data.forEach(segment => {
                    const sliceAngle = (segment.value / 100) * 2 * Math.PI;
                    
                    ctx.beginPath();
                    ctx.moveTo(centerX, centerY);
                    ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                    ctx.closePath();
                    ctx.fillStyle = segment.color;
                    ctx.fill();
                    
                    currentAngle += sliceAngle;
                });
            }
        }

        function renderAdminServices() {
            const container = document.getElementById('adminServicesList');
            if (container) {
                container.innerHTML = '';
                siteData.services.forEach((service, index) => {
                    const serviceItem = document.createElement('div');
                    serviceItem.style.cssText = `
                        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                        border: 2px solid var(--border); 
                        border-radius: var(--border-radius-lg); 
                        padding: 25px;
                        margin-bottom: 20px;
                        transition: var(--transition);
                        box-shadow: var(--shadow-md);
                        backdrop-filter: blur(5px);
                    `;
                    serviceItem.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                            <h4 style="display: flex; align-items: center; gap: 12px; font-size: var(--font-size-xl); font-weight: 800;">${service.icon} ${service.title.fr}</h4>
                            <span class="status-badge ${service.active ? 'status-active' : 'status-inactive'}">
                                <i class="fas fa-${service.active ? 'check' : 'times'}"></i>
                                ${service.active ? (siteData.language === 'en' ? 'Active' : 'Actif') : (siteData.language === 'en' ? 'Inactive' : 'Inactif')}
                            </span>
                        </div>
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 20px; margin-bottom: 20px;">
                            <img src="${service.image}" alt="${service.title.fr}" style="width: 140px; height: 90px; object-fit: cover; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);" loading="lazy">
                            <div>
                                <p style="color: var(--text-light); margin-bottom: 12px; line-height: var(--line-height-loose); font-weight: 500;">${service.description.fr}</p>
                                ${service.description.en ? `<p style="color: var(--text-lighter); font-size: var(--font-size-sm); font-style: italic; border-left: 3px solid var(--primary); padding-left: 12px;">EN: ${service.description.en}</p>` : ''}
                            </div>
                        </div>
                        <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                            <button class="btn btn-sm btn-outline functional-btn" onclick="editService(${index})">
                                <i class="fas fa-edit"></i> ${siteData.language === 'en' ? 'Edit' : 'Modifier'}
                            </button>
                            <button class="btn btn-sm btn-warning functional-btn" onclick="toggleService(${index})">
                                <i class="fas fa-toggle-${service.active ? 'on' : 'off'}"></i> ${service.active ? (siteData.language === 'en' ? 'Disable' : 'Désactiver') : (siteData.language === 'en' ? 'Enable' : 'Activer')}
                            </button>
                            <button class="btn btn-sm btn-danger functional-btn" onclick="deleteService(${index})">
                                <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                            </button>
                        </div>
                    `;
                    
                    serviceItem.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-5px)';
                        this.style.boxShadow = 'var(--shadow-lg)';
                        this.style.borderColor = 'var(--primary)';
                    });
                    
                    serviceItem.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'var(--shadow-md)';
                        this.style.borderColor = 'var(--border)';
                    });
                    
                    container.appendChild(serviceItem);
                });
            }
        }

        function renderAdminClients() {
            const container = document.getElementById('adminClientsList');
            if (container) {
                container.innerHTML = '';
                siteData.clients.forEach((client, index) => {
                    const clientItem = document.createElement('div');
                    /* FIX: event-delegation - Ajout de classe pour délégation */
                    clientItem.className = 'client-item';
                    clientItem.style.cssText = `
                        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
                        border: 2px solid var(--border);
                        border-radius: var(--border-radius-lg);
                        padding: 25px;
                        margin-bottom: 20px;
                        transition: var(--transition);
                        box-shadow: var(--shadow-md);
                        backdrop-filter: blur(5px);
                    `;
                    clientItem.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                            <h4 style="font-size: var(--font-size-xl); font-weight: 800;">${client.name}</h4>
                            <span class="status-badge ${client.active ? 'status-active' : 'status-inactive'}">
                                <i class="fas fa-${client.active ? 'check' : 'times'}"></i>
                                ${client.active ? (siteData.language === 'en' ? 'Active' : 'Actif') : (siteData.language === 'en' ? 'Inactive' : 'Inactif')}
                            </span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <img src="${client.logo}" alt="${client.name}" style="max-width: 200px; max-height: 100px; object-fit: contain; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);" loading="lazy">
                        </div>
                        <div style="display: flex; gap: 12px; margin-top: 16px; justify-content: center;">
                            <button class="btn btn-sm btn-outline functional-btn" onclick="editClient(${index})">
                                <i class="fas fa-edit"></i> ${siteData.language === 'en' ? 'Edit' : 'Modifier'}
                            </button>
                            <button class="btn btn-sm btn-warning functional-btn" onclick="toggleClient(${index})">
                                <i class="fas fa-toggle-${client.active ? 'on' : 'off'}"></i> ${client.active ? (siteData.language === 'en' ? 'Disable' : 'Désactiver') : (siteData.language === 'en' ? 'Enable' : 'Activer')}
                            </button>
                            <button class="btn btn-sm btn-danger functional-btn" onclick="deleteClient(${index})">
                                <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                            </button>
                        </div>
                    `;
                    /* FIX: event-delegation - Suppression des listeners individuels, gérés globalement */

                    container.appendChild(clientItem);
                });
            }
        }

        function renderAdminTestimonials() {
            const container = document.getElementById('adminTestimonialsList');
            if (container) {
                container.innerHTML = '';
                siteData.testimonials.forEach((testimonial, index) => {
                    const testimonialItem = document.createElement('div');
                    /* FIX: event-delegation - Ajout de classe pour délégation */
                    testimonialItem.className = 'testimonial-item';
                    testimonialItem.style.cssText = `
                        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
                        border: 2px solid var(--border);
                        border-radius: var(--border-radius-lg);
                        padding: 25px;
                        margin-bottom: 20px;
                        transition: var(--transition);
                        box-shadow: var(--shadow-md);
                        backdrop-filter: blur(5px);
                    `;
                    testimonialItem.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                            <h4 style="font-size: var(--font-size-xl); font-weight: 800;">${testimonial.name}</h4>
                            <span class="status-badge ${testimonial.active ? 'status-active' : 'status-inactive'}">
                                <i class="fas fa-${testimonial.active ? 'check' : 'times'}"></i>
                                ${testimonial.active ? (siteData.language === 'en' ? 'Active' : 'Actif') : (siteData.language === 'en' ? 'Inactive' : 'Inactif')}
                            </span>
                        </div>
                        <div style="display: flex; gap: 20px; align-items: center; margin-bottom: 16px;">
                            <img src="${testimonial.avatar}" alt="${testimonial.name}" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid var(--primary);" loading="lazy">
                            <div style="flex-grow: 1;">
                                <p style="font-weight: 600; margin-bottom: 8px; color: var(--text-dark);">${testimonial.position.fr}</p>
                                ${testimonial.position.en ? `<p style="font-size: var(--font-size-sm); color: var(--text-lighter); margin-bottom: 8px; font-style: italic;">EN: ${testimonial.position.en}</p>` : ''}
                                <div style="color: var(--warning); font-size: var(--font-size-lg);">
                                    ${'★'.repeat(testimonial.rating)}${'☆'.repeat(5 - testimonial.rating)}
                                </div>
                            </div>
                        </div>
                        <div style="background: var(--bg-alt); padding: 16px; border-radius: var(--border-radius); margin-bottom: 16px; border-left: 4px solid var(--primary);">
                            <p style="font-style: italic; color: var(--text-light); margin-bottom: 8px; line-height: var(--line-height-loose);">"${testimonial.text.fr}"</p>
                            ${testimonial.text.en ? `<p style="font-style: italic; color: var(--text-lighter); font-size: var(--font-size-sm); border-left: 2px solid var(--accent); padding-left: 12px;">EN: "${testimonial.text.en}"</p>` : ''}
                        </div>
                        <div style="display: flex; gap: 12px; justify-content: center;">
                            <button class="btn btn-sm btn-outline functional-btn" onclick="editTestimonial(${index})">
                                <i class="fas fa-edit"></i> ${siteData.language === 'en' ? 'Edit' : 'Modifier'}
                            </button>
                            <button class="btn btn-sm btn-warning functional-btn" onclick="toggleTestimonial(${index})">
                                <i class="fas fa-toggle-${testimonial.active ? 'on' : 'off'}"></i> ${testimonial.active ? (siteData.language === 'en' ? 'Disable' : 'Désactiver') : (siteData.language === 'en' ? 'Enable' : 'Activer')}
                            </button>
                            <button class="btn btn-sm btn-danger functional-btn" onclick="deleteTestimonial(${index})">
                                <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                            </button>
                        </div>
                    `;
                    /* FIX: event-delegation - Suppression des listeners individuels, gérés globalement */

                    container.appendChild(testimonialItem);
                });
            }
        }

        function renderAdminJobs() {
            const container = document.getElementById('adminJobsList');
            if (container) {
                container.innerHTML = '';
                siteData.jobs.forEach((job, index) => {
                    const jobItem = document.createElement('div');
                    jobItem.style.cssText = `
                        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                        border: 2px solid var(--border); 
                        border-radius: var(--border-radius-lg); 
                        padding: 25px; 
                        margin-bottom: 20px;
                        transition: var(--transition);
                        box-shadow: var(--shadow-md);
                        backdrop-filter: blur(5px);
                    `;
                    jobItem.innerHTML = `
                        /* FIX: Removed Premium and New badges from dashboard job list */
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                            <h4 style="font-size: var(--font-size-xl); font-weight: 800; display: flex; align-items: center; gap: 12px;">
                                ${job.title.fr}
                            </h4>
                            <span class="status-badge ${job.active ? 'status-active' : 'status-inactive'}">
                                <i class="fas fa-${job.active ? 'check' : 'times'}"></i>
                                ${job.active ? (siteData.language === 'en' ? 'Active' : 'Actif') : (siteData.language === 'en' ? 'Inactive' : 'Inactif')}
                            </span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 20px;">
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>Type:</strong><br>
                                <span style="background: var(--primary); color: white; padding: 4px 12px; border-radius: var(--border-radius-full); font-size: var(--font-size-xs); margin-top: 4px; display: inline-block; font-weight: 700;">${job.type.toUpperCase()}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>${siteData.language === 'en' ? 'Location:' : 'Localisation:'}</strong><br>
                                <span style="color: var(--text-light);">${job.location}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>${siteData.language === 'en' ? 'Created by:' : 'Créé par:'}</strong><br>
                                <span style="color: var(--primary); font-weight: 600;">${job.createdBy || 'admin'}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>${siteData.language === 'en' ? 'Date:' : 'Date:'}</strong><br>
                                <span style="color: var(--text-light);">${new Date(job.createdAt).toLocaleDateString()}</span>
                            </div>
                        </div>
                        <div style="background: rgba(0, 86, 179, 0.05); padding: 16px; border-radius: var(--border-radius); margin-bottom: 16px; border-left: 4px solid var(--primary);">
                            <p style="color: var(--text-light); margin-bottom: 8px; line-height: var(--line-height-loose);">${job.description.fr}</p>
                            ${job.description.en ? `<p style="color: var(--text-lighter); font-size: var(--font-size-sm); font-style: italic; border-left: 2px solid var(--accent); padding-left: 12px; margin-top: 8px;">EN: ${job.description.en}</p>` : ''}
                        </div>
                        <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                            <button class="btn btn-sm btn-outline functional-btn" onclick="editJob(${index})">
                                <i class="fas fa-edit"></i> ${siteData.language === 'en' ? 'Edit' : 'Modifier'}
                            </button>
                            <button class="btn btn-sm btn-warning functional-btn" onclick="toggleJob(${index})">
                                <i class="fas fa-toggle-${job.active ? 'on' : 'off'}"></i> ${job.active ? (siteData.language === 'en' ? 'Disable' : 'Désactiver') : (siteData.language === 'en' ? 'Enable' : 'Activer')}
                            </button>
                            <button class="btn btn-sm btn-danger functional-btn" onclick="deleteJob(${index})">
                                <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                            </button>
                            <button class="btn btn-sm btn-success functional-btn" onclick="viewJobApplications(${job.id})">
                                <i class="fas fa-users"></i> ${siteData.language === 'en' ? 'Applications' : 'Candidatures'} (${siteData.cvDatabase ? siteData.cvDatabase.filter(cv => cv.jobId === job.id).length : 0})
                            </button>
                        </div>
                    `;
                    
                    jobItem.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-5px)';
                        this.style.boxShadow = 'var(--shadow-lg)';
                        this.style.borderColor = 'var(--primary)';
                    });
                    
                    jobItem.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'var(--shadow-md)';
                        this.style.borderColor = 'var(--border)';
                    });
                    
                    container.appendChild(jobItem);
                });
            }
        }

        function renderAdminUsers() {
            const container = document.getElementById('adminUsersList');
            if (container) {
                container.innerHTML = '';
                siteData.users.forEach((user, index) => {
                    if (user.role !== 'admin') { // Ne pas afficher l'admin dans la liste
                        const userItem = document.createElement('div');
                        userItem.style.cssText = `
                            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                            border: 2px solid var(--border); 
                            border-radius: var(--border-radius-lg); 
                            padding: 25px; 
                            margin-bottom: 20px;
                            transition: var(--transition);
                            box-shadow: var(--shadow-md);
                            backdrop-filter: blur(5px);
                        `;
                        userItem.innerHTML = `
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                <h4 style="font-size: var(--font-size-xl); font-weight: 800; display: flex; align-items: center; gap: 12px;">
                                    <i class="fas fa-user-circle" style="color: var(--primary);"></i>
                                    ${user.username} 
                                    <span style="background: ${user.role === 'recruiter' ? 'var(--accent)' : user.role === 'reader' ? 'var(--warning)' : 'var(--info)'}; color: white; padding: 4px 12px; border-radius: var(--border-radius-full); font-size: var(--font-size-xs); font-weight: 700; text-transform: uppercase;">${user.role}</span>
                                </h4>
                                <span class="status-badge ${user.active ? 'status-active' : 'status-inactive'}">
                                    <i class="fas fa-${user.active ? 'check' : 'times'}"></i>
                                    ${user.active ? (siteData.language === 'en' ? 'Active' : 'Actif') : (siteData.language === 'en' ? 'Inactive' : 'Inactif')}
                                </span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px;">
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Email:</strong><br>
                                    <span style="color: var(--text-light);">${user.email}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Last login:' : 'Dernière connexion:'}</strong><br>
                                    <span style="color: var(--text-light);">${user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : (siteData.language === 'en' ? 'Never' : 'Jamais')}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Created on:' : 'Créé le:'}</strong><br>
                                    <span style="color: var(--text-light);">${user.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'N/A'}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Created offers:' : 'Offres créées:'}</strong><br>
                                    <span style="color: var(--primary); font-weight: 600;">${siteData.jobs.filter(j => j.createdBy === user.username).length}</span>
                                </div>
                            </div>
                            <div style="background: rgba(0, 86, 179, 0.05); padding: 16px; border-radius: var(--border-radius); margin-bottom: 16px; border-left: 4px solid var(--primary);">
                                <strong style="color: var(--primary);">Permissions:</strong>
                                <p style="color: var(--text-light); margin-top: 8px; font-size: var(--font-size-sm);">
                                    ${roleDescriptions[siteData.language][user.role]}
                                </p>
                            </div>
                            <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                                <button class="btn btn-sm btn-outline functional-btn" onclick="editUser(${index})">
                                    <i class="fas fa-edit"></i> ${siteData.language === 'en' ? 'Edit' : 'Modifier'}
                                </button>
                                <button class="btn btn-sm btn-warning functional-btn" onclick="toggleUser(${index})">
                                    <i class="fas fa-toggle-${user.active ? 'on' : 'off'}"></i> ${user.active ? (siteData.language === 'en' ? 'Disable' : 'Désactiver') : (siteData.language === 'en' ? 'Enable' : 'Activer')}
                                </button>
                                <button class="btn btn-sm btn-outline functional-btn" onclick="resetUserPassword(${index})">
                                    <i class="fas fa-key"></i> ${siteData.language === 'en' ? 'Reset Password' : 'Reset Mot de Passe'}
                                </button>
                                <button class="btn btn-sm btn-danger functional-btn" onclick="deleteUser(${index})">
                                    <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                                </button>
                                <button class="btn btn-sm btn-success functional-btn" onclick="viewUserActivity('${user.username}')">
                                    <i class="fas fa-history"></i> ${siteData.language === 'en' ? 'Activity' : 'Activité'}
                                </button>
                            </div>
                        `;
                        
                        userItem.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-5px)';
                            this.style.boxShadow = 'var(--shadow-lg)';
                            this.style.borderColor = 'var(--primary)';
                        });
                        
                        userItem.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = 'var(--shadow-md)';
                            this.style.borderColor = 'var(--border)';
                        });
                        
                        container.appendChild(userItem);
                    }
                });
            }

            // Render audit log
            renderAuditLog();
        }

        function renderAuditLog() {
            const auditContainer = document.getElementById('adminAuditLog');
            if (auditContainer) {
                auditContainer.innerHTML = '';
                
                if (siteData.activityLog && siteData.activityLog.length > 0) {
                    // Filtrer selon le filtre sélectionné
                    const filter = document.getElementById('auditFilter') ? document.getElementById('auditFilter').value : 'all';
                    let filteredLogs = siteData.activityLog;
                    
                    if (filter !== 'all') {
                        filteredLogs = siteData.activityLog.filter(log => 
                            log.action.toLowerCase().includes(filter.toLowerCase())
                        );
                    }
                    
                    filteredLogs.slice(0, 50).forEach(log => {
                        const logItem = document.createElement('div');
                        logItem.style.cssText = `
                            padding: 20px; 
                            border-bottom: 1px solid var(--border); 
                            display: flex; 
                            justify-content: space-between; 
                            align-items: center;
                            transition: var(--transition);
                            border-radius: var(--border-radius);
                            margin-bottom: 8px;
                            background: linear-gradient(135deg, rgba(0, 86, 179, 0.03) 0%, rgba(0, 168, 150, 0.02) 100%);
                            backdrop-filter: blur(2px);
                        `;
                        logItem.innerHTML = `
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <div style="width: 50px; height: 50px; border-radius: 50%; background: var(--gradient-primary); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: var(--font-size-lg); box-shadow: var(--shadow-sm);">
                                    ${log.username.charAt(0).toUpperCase()}
                                </div>
                                <div>
                                    <div style="font-weight: 700; color: var(--primary); margin-bottom: 4px; font-size: var(--font-size-base);">${log.username}</div>
                                    <div style="color: var(--text-light); font-weight: 500;">${log.action}</div>
                                    ${log.page ? `<span style="background: var(--bg-alt); padding: 3px 10px; border-radius: var(--border-radius-sm); font-size: var(--font-size-xs); color: var(--text-lighter); margin-top: 4px; display: inline-block;">${log.page}</span>` : ''}
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="color: var(--text-light); font-size: var(--font-size-sm); font-weight: 600;">${new Date(log.timestamp).toLocaleDateString()}</div>
                                <div style="color: var(--text-lighter); font-size: var(--font-size-xs);">${new Date(log.timestamp).toLocaleTimeString()}</div>
                            </div>
                        `;
                        
                        logItem.addEventListener('mouseenter', function() {
                            this.style.background = 'linear-gradient(135deg, rgba(0, 86, 179, 0.08) 0%, rgba(0, 168, 150, 0.05) 100%)';
                            this.style.transform = 'translateX(5px)';
                            this.style.boxShadow = 'var(--shadow-sm)';
                        });
                        
                        logItem.addEventListener('mouseleave', function() {
                            this.style.background = 'linear-gradient(135deg, rgba(0, 86, 179, 0.03) 0%, rgba(0, 168, 150, 0.02) 100%)';
                            this.style.transform = 'translateX(0)';
                            this.style.boxShadow = 'none';
                        });
                        
                        auditContainer.appendChild(logItem);
                    });
                } else {
                    auditContainer.innerHTML = `<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">${siteData.language === 'en' ? 'No activity recorded' : 'Aucune activité enregistrée'}</p>`;
                }
            }
        }

        function renderAdminPages() {
            const container = document.getElementById('adminPagesList');
            if (container) {
                container.innerHTML = '';
                if (siteData.customPages && siteData.customPages.length > 0) {
                    siteData.customPages.forEach((page, index) => {
                        const pageItem = document.createElement('div');
                        pageItem.style.cssText = `
                            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                            border: 2px solid var(--border); 
                            border-radius: var(--border-radius-lg); 
                            padding: 25px; 
                            margin-bottom: 20px;
                            transition: var(--transition);
                            box-shadow: var(--shadow-md);
                            backdrop-filter: blur(5px);
                        `;
                        pageItem.innerHTML = `
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                <h4 style="font-size: var(--font-size-xl); font-weight: 800;">${page.title}</h4>
                                <span class="status-badge status-active">
                                    <i class="fas fa-check"></i>
                                    ${page.status || (siteData.language === 'en' ? 'Published' : 'Publié')}
                                </span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px;">
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>URL:</strong><br>
                                    <span style="color: var(--primary); font-weight: 600;">/${page.slug}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Menu:</strong><br>
                                    <span style="color: var(--text-light);">${page.location || (siteData.language === 'en' ? 'Main' : 'Principal')}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Author:' : 'Auteur:'}</strong><br>
                                    <span style="color: var(--text-light);">${page.author || 'admin'}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Created on:' : 'Créé le:'}</strong><br>
                                    <span style="color: var(--text-light);">${new Date(page.createdAt).toLocaleDateString()}</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                                <button class="btn btn-sm btn-outline functional-btn" onclick="editPage(${index})">
                                    <i class="fas fa-edit"></i> ${siteData.language === 'en' ? 'Edit' : 'Modifier'}
                                </button>
                                <button class="btn btn-sm btn-success functional-btn" onclick="viewPage(${index})">
                                    <i class="fas fa-eye"></i> ${siteData.language === 'en' ? 'View' : 'Voir'}
                                </button>
                                <button class="btn btn-sm btn-primary functional-btn" onclick="duplicatePage(${index})">
                                    <i class="fas fa-copy"></i> ${siteData.language === 'en' ? 'Duplicate' : 'Dupliquer'}
                                </button>
                                <button class="btn btn-sm btn-danger functional-btn" onclick="deletePage(${index})">
                                    <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                                </button>
                            </div>
                        `;
                        
                        pageItem.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-5px)';
                            this.style.boxShadow = 'var(--shadow-lg)';
                            this.style.borderColor = 'var(--primary)';
                        });
                        
                        pageItem.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = 'var(--shadow-md)';
                            this.style.borderColor = 'var(--border)';
                        });
                        
                        container.appendChild(pageItem);
                    });
                } else {
                    container.innerHTML = `<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">${siteData.language === 'en' ? 'No custom pages' : 'Aucune page personnalisée'}</p>`;
                }
            }
        }

        /* FIX: uniformize-filter-keys */
        /* ADD: apply-admin-filters */
        function applyAdminFilters() {
            renderAdminCvDatabase();
        }

        function getAdminFilteredCandidates() {
            let candidates = siteData.cvDatabase || [];

            // Barre de recherche
            const searchTerm = document.getElementById('adminSearchBar')?.value.toLowerCase() || '';
            if (searchTerm) {
                candidates = candidates.filter(cv =>
                    cv.applicantName?.toLowerCase().includes(searchTerm) ||
                    cv.jobTitle?.toLowerCase().includes(searchTerm) ||
                    cv.diplome?.toLowerCase().includes(searchTerm) ||
                    cv.domaine?.toLowerCase().includes(searchTerm)
                );
            }

            // Filtre par Offre d'emploi
            const offreId = document.getElementById('adminOffreFilter')?.value || 'all';
            if (offreId !== 'all') {
                candidates = candidates.filter(cv => cv.jobId == offreId);
            }

            // Filtre Statut
            const status = document.getElementById('adminStatusFilter')?.value || 'all';
            if (status === 'pending') candidates = candidates.filter(cv => !cv.processed);
            else if (status === 'processed') candidates = candidates.filter(cv => cv.processed);

            // Filtre Domaine (multi-sélection)
            const domaines = Array.from(document.getElementById('adminDomaineFilter')?.selectedOptions || []).map(o => o.value);
            if (domaines.length > 0) {
                candidates = candidates.filter(cv => cv.domaine && domaines.some(d => cv.domaine.toLowerCase().includes(d.toLowerCase())));
            }

            // Filtre Diplôme (multi-sélection)
            const diplomes = Array.from(document.getElementById('adminDiplomeFilter')?.selectedOptions || []).map(o => o.value);
            if (diplomes.length > 0) {
                candidates = candidates.filter(cv => cv.applicantDiploma && diplomes.some(d => cv.applicantDiploma.toLowerCase().includes(d.toLowerCase())));
            }

            // Filtre Permis (multi-sélection)
            const permis = Array.from(document.getElementById('adminPermisFilter')?.selectedOptions || []).map(o => o.value);
            if (permis.length > 0) {
                candidates = candidates.filter(cv => cv.licenseTypes && cv.licenseTypes.some(lt => permis.includes(lt)));
            }

            // Filtre Wilaya (multi-sélection)
            const wilayas = Array.from(document.getElementById('adminWilayaFilter')?.selectedOptions || []).map(o => o.value);
            if (wilayas.length > 0) {
                candidates = candidates.filter(cv => cv.wilaya && wilayas.includes(cv.wilaya));
            }

            // Filtre Âge
            const ageMin = parseInt(document.getElementById('adminAgeMin')?.value) || 0;
            const ageMax = parseInt(document.getElementById('adminAgeMax')?.value) || 999;
            if (ageMin > 0 || ageMax < 999) {
                candidates = candidates.filter(cv => {
                    const age = parseInt(cv.applicantAge) || 0;
                    return age >= ageMin && age <= ageMax;
                });
            }

            // Filtre Préavis
            const preavis = document.getElementById('adminPreavisFilter')?.value || 'all';
            if (preavis !== 'all') {
                candidates = candidates.filter(cv => cv.preavis === preavis);
            }

            // Filtre Expérience
            const expMin = parseInt(document.getElementById('adminExperienceMin')?.value) || 0;
            const expMax = parseInt(document.getElementById('adminExperienceMax')?.value) || 999;
            if (expMin > 0 || expMax < 999) {
                candidates = candidates.filter(cv => {
                    const exp = parseInt(cv.yearsExperience) || 0;
                    return exp >= expMin && exp <= expMax;
                });
            }

            // Update count
            const countElement = document.getElementById('adminFilterCountNumber');
            if (countElement) countElement.textContent = candidates.length;

            return candidates;
        }

        function resetAdminFilters() {
            document.getElementById('adminSearchBar').value = '';
            document.getElementById('adminOffreFilter').value = 'all';
            document.getElementById('adminStatusFilter').value = 'all';
            document.getElementById('adminDomaineFilter').selectedIndex = -1;
            document.getElementById('adminDiplomeFilter').selectedIndex = -1;
            document.getElementById('adminPermisFilter').selectedIndex = -1;
            document.getElementById('adminWilayaFilter').selectedIndex = -1;
            document.getElementById('adminAgeMin').value = '';
            document.getElementById('adminAgeMax').value = '';
            document.getElementById('adminPreavisFilter').value = 'all';
            document.getElementById('adminExperienceMin').value = '';
            document.getElementById('adminExperienceMax').value = '';
            applyAdminFilters();
        }

        function exportAdminFilteredCandidates(format) {
            const filtered = getAdminFilteredCandidates();
            if (filtered.length === 0) {
                showNotification('Aucune candidature à exporter', 'warning');
                return;
            }

            if (format === 'pdf') {
                exportCandidatesPDF(filtered, 'Admin');
            } else if (format === 'excel') {
                exportCandidatesExcel(filtered, 'Admin');
            }
        }

        function renderAdminCvDatabase(filterJobId = null) {
            const container = document.getElementById('adminCvDatabase');
            if (container) {
                container.innerHTML = '';

                // Use filtered candidates from getAdminFilteredCandidates()
                let cvsToDisplay = getAdminFilteredCandidates();
                if (filterJobId && filterJobId !== 'all') {
                    cvsToDisplay = cvsToDisplay.filter(cv => cv.jobId == filterJobId);
                }

                if (cvsToDisplay.length > 0) {
                    cvsToDisplay.forEach((cv, index) => {
                        const cvItem = document.createElement('div');
                        cvItem.style.cssText = `
                            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                            border: 2px solid var(--border); 
                            border-radius: var(--border-radius-lg); 
                            padding: 25px; 
                            margin-bottom: 20px;
                            transition: var(--transition);
                            box-shadow: var(--shadow-md);
                            backdrop-filter: blur(5px);
                        `;
                        cvItem.innerHTML = `
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                <h4 style="font-size: var(--font-size-xl); font-weight: 800; display: flex; align-items: center; gap: 12px;">
                                    <i class="fas fa-user-tie" style="color: var(--primary);"></i>
                                    ${cv.applicantName}
                                </h4>
                                <span class="status-badge ${cv.processed ? 'status-processed' : 'status-pending'}">
                                    <i class="fas fa-${cv.processed ? 'check' : 'clock'}"></i>
                                    ${cv.processed ? (siteData.language === 'en' ? 'Processed' : 'Traité') : (siteData.language === 'en' ? 'Pending' : 'En attente')}
                                </span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px;">
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Position:' : 'Poste:'}</strong><br>
                                    <span style="color: var(--primary); font-weight: 600;">${cv.jobTitle}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Email:</strong><br>
                                    <span style="color: var(--text-light);">${cv.applicantEmail}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Phone:' : 'Téléphone:'}</strong><br>
                                    <span style="color: var(--text-light);">${cv.applicantPhone || (siteData.language === 'en' ? 'Not provided' : 'Non renseigné')}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>${siteData.language === 'en' ? 'Date:' : 'Date:'}</strong><br>
                                    <span style="color: var(--text-light);">${new Date(cv.appliedAt).toLocaleDateString()}</span>
                                </div>
                            </div>
                            ${cv.expectedSalary ? `
                                <div style="background: rgba(0, 168, 150, 0.08); padding: 16px; border-radius: var(--border-radius); margin-bottom: 16px; border-left: 4px solid var(--accent);">
                                    <strong style="color: var(--accent);">Informations supplémentaires:</strong>
                                    <div style="margin-top: 8px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                                        <div><strong>Salaire souhaité:</strong> ${cv.expectedSalary} DA</div>
                                        <div><strong>En poste:</strong> ${cv.currentlyEmployed === 'yes' ? 'Oui' : 'Non'}</div>
                                        <div><strong>Dernier poste:</strong> ${cv.lastJobDate}</div>
                                        <div><strong>Type contrat:</strong> ${cv.lastContractType}</div>
                                    </div>
                                </div>
                            ` : ''}
                            <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                                <!-- ADD: auto-generate-pdf - PDF Summary download button (appears first) -->
                                <button class="btn btn-sm btn-accent functional-btn" onclick="downloadApplicationPdfSummary(siteData.cvDatabase.find(c => c.id === ${cv.id}))" style="background: linear-gradient(135deg, #00a896 0%, #028090 100%); color: white; border: none;">
                                    <i class="fas fa-file-pdf"></i> ${siteData.language === 'en' ? 'Summary PDF' : 'Résumé PDF'}
                                </button>
                                <button class="btn btn-sm btn-outline functional-btn" onclick="previewCV(${cv.id})">
                                    <i class="fas fa-eye"></i> ${siteData.language === 'en' ? 'View CV' : 'Voir CV'}
                                </button>
                                <button class="btn btn-sm btn-primary functional-btn" onclick="contactApplicant('${cv.applicantEmail}')">
                                    <i class="fas fa-envelope"></i> ${siteData.language === 'en' ? 'Contact' : 'Contacter'}
                                </button>
                                <button class="btn btn-sm btn-success functional-btn" onclick="markAsProcessed(${cv.id})">
                                    <i class="fas fa-check"></i> ${siteData.language === 'en' ? 'Mark processed' : 'Marquer traité'}
                                </button>
                                <button class="btn btn-sm btn-warning functional-btn" onclick="downloadCV(${cv.id})">
                                    <i class="fas fa-download"></i> ${siteData.language === 'en' ? 'Download CV' : 'Télécharger CV'}
                                </button>
                                <button class="btn btn-sm btn-danger functional-btn" onclick="deleteApplication(${cv.id})">
                                    <i class="fas fa-trash"></i> ${siteData.language === 'en' ? 'Delete' : 'Supprimer'}
                                </button>
                            </div>
                        `;
                        
                        cvItem.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-5px)';
                            this.style.boxShadow = 'var(--shadow-lg)';
                            this.style.borderColor = 'var(--primary)';
                        });
                        
                        cvItem.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = 'var(--shadow-md)';
                            this.style.borderColor = 'var(--border)';
                        });
                        
                        container.appendChild(cvItem);
                    });
                } else {
                    container.innerHTML = `<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">${siteData.language === 'en' ? 'No applications received' : 'Aucune candidature reçue'}</p>`;
                }
            }
        }

        // Populate job filter dropdown
        function populateCVJobFilter() {
            const filterSelect = document.getElementById('cvJobFilter');
            if (!filterSelect) return;

            // Keep "All offers" option
            filterSelect.innerHTML = '<option value="all" data-fr="Toutes les offres" data-en="All offers" data-ar="Toutes les offres">Toutes les offres</option>';

            // Add each job that has applications
            const jobsWithApplications = new Set();
            if (siteData.cvDatabase) {
                siteData.cvDatabase.forEach(cv => {
                    if (cv.jobId) jobsWithApplications.add(cv.jobId);
                });
            }

            // Add job options
            jobsWithApplications.forEach(jobId => {
                const job = siteData.jobs.find(j => j.id == jobId);
                if (job) {
                    const option = document.createElement('option');
                    option.value = jobId;
                    option.textContent = `${job.title.fr} (${siteData.cvDatabase.filter(cv => cv.jobId == jobId).length})`;
                    filterSelect.appendChild(option);
                }
            });

            translatePage(siteData.language);
        }

        // Filter CVs by selected job
        function filterCVsByJob() {
            const filterSelect = document.getElementById('cvJobFilter');
            const selectedJobId = filterSelect ? filterSelect.value : 'all';
            renderAdminCvDatabase(selectedJobId === 'all' ? null : selectedJobId);
        }

        /* FIX: Prevent duplicate form setup */
        let adminFormsSetup = false;
        let adminFileUploadsSetup = false;

        function setupAdminForms() {
            if (adminFormsSetup) return;
            adminFormsSetup = true;

            // Service form avec support bilingue
            /* FIX: Use onsubmit instead of addEventListener to prevent duplicate submissions */
            const serviceForm = document.getElementById('serviceForm');
            if (serviceForm) {
                serviceForm.onsubmit = function(e) {
                    e.preventDefault();
                    const title = document.getElementById('serviceTitle').value;
                    const titleEn = document.getElementById('serviceTitleEn').value || title;
                    const icon = document.getElementById('serviceIcon').value || '⚙️';
                    const description = document.getElementById('serviceDescription').value;
                    const descriptionEn = document.getElementById('serviceDescriptionEn').value || description;
                    /* FIX: service-image-upload-preview */
                    const imageInput = document.getElementById('serviceImage');

                    /* FIX: service-image-display-after-save */
                    const processServiceData = (imageDataUrl) => {
                        const serviceData = {
                            id: currentEditingIndex >= 0 ? siteData.services[currentEditingIndex].id : Date.now(),
                            icon: icon,
                            title: { fr: title, en: titleEn },
                            description: { fr: description, en: descriptionEn },
                            image: imageDataUrl || 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=400&h=200&fit=crop',
                            active: true
                        };

                        if (currentEditingIndex >= 0) {
                            siteData.services[currentEditingIndex] = { ...siteData.services[currentEditingIndex], ...serviceData };
                            logActivity(currentUser.username, `Service modifié: ${title}`);
                        } else {
                            siteData.services.push(serviceData);
                            logActivity(currentUser.username, `Service créé: ${title}`);
                        }

                        if (forceSaveData()) {
                            renderAdminServices();
                            closeModal('serviceModal');
                            showNotification(currentEditingIndex >= 0 ?
                                (siteData.language === 'en' ? 'Service updated successfully!' : 'Service modifié avec succès!') :
                                (siteData.language === 'en' ? 'Service added successfully!' : 'Service ajouté avec succès!'), 'success');

                            currentEditingIndex = -1;
                        } else {
                            showNotification('Échec de sauvegarde du service', 'error');
                        }
                    };

                    // Check if user uploaded a new image
                    if (imageInput.files && imageInput.files[0]) {
                        const file = imageInput.files[0];
                        if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                processServiceData(e.target.result);
                            };
                            reader.readAsDataURL(file);
                        } else {
                            showNotification('Veuillez sélectionner une image valide', 'error');
                        }
                    } else {
                        // No new image uploaded, keep existing or use default
                        const existingImage = currentEditingIndex >= 0 ? siteData.services[currentEditingIndex].image : null;
                        processServiceData(existingImage);
                    }
                };
            }

            // Testimonial form avec support bilingue
            /* FIX: Use onsubmit instead of addEventListener to prevent duplicate submissions */
            const testimonialForm = document.getElementById('testimonialForm');
            if (testimonialForm) {
                testimonialForm.onsubmit = function(e) {
                    e.preventDefault();
                    const name = document.getElementById('testimonialName').value;
                    const position = document.getElementById('testimonialPosition').value;
                    const positionEn = document.getElementById('testimonialPositionEn').value || position;
                    const text = document.getElementById('testimonialText').value;
                    const textEn = document.getElementById('testimonialTextEn').value || text;
                    const rating = document.getElementById('testimonialRating').value;
                    
                    const testimonialData = {
                        id: currentEditingIndex >= 0 ? siteData.testimonials[currentEditingIndex].id : Date.now(),
                        name: name,
                        position: { fr: position, en: positionEn },
                        text: { fr: text, en: textEn },
                        rating: parseInt(rating),
                        avatar: 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop',
                        active: true
                    };
                    
                    if (currentEditingIndex >= 0) {
                        siteData.testimonials[currentEditingIndex] = { ...siteData.testimonials[currentEditingIndex], ...testimonialData };
                        logActivity(currentUser.username, `Témoignage modifié: ${name}`);
                    } else {
                        siteData.testimonials.push(testimonialData);
                        logActivity(currentUser.username, `Témoignage créé: ${name}`);
                    }
                    
                    if (forceSaveData()) {
                        renderAdminTestimonials();
                        closeModal('testimonialModal');
                        showNotification(currentEditingIndex >= 0 ? 
                            (siteData.language === 'en' ? 'Testimonial updated successfully!' : 'Témoignage modifié avec succès!') : 
                            (siteData.language === 'en' ? 'Testimonial added successfully!' : 'Témoignage ajouté avec succès!'), 'success');
                        
                        currentEditingIndex = -1;
                        
                        // Redémarrer le carrousel automatique
                        if (currentPage === 'home') {
                            executeHomeScript();
                        }
                    } else {
                        showNotification('Échec de sauvegarde du témoignage', 'error');
                    }
                };
            }

            // Job form avec support bilingue
            /* FIX: Use onsubmit instead of addEventListener to prevent duplicate submissions */
            const jobForm = document.getElementById('jobForm');
            if (jobForm) {
                jobForm.onsubmit = function(e) {
                    e.preventDefault();
                    const title = document.getElementById('jobTitle').value;
                    const titleEn = document.getElementById('jobTitleEn').value || title;
                    const type = document.getElementById('jobType').value;
                    const location = document.getElementById('jobLocation').value;
                    const description = document.getElementById('jobDescription').value;
                    const descriptionEn = document.getElementById('jobDescriptionEn').value || description;
                    const requirements = document.getElementById('jobRequirements').value;
                    const requirementsEn = document.getElementById('jobRequirementsEn').value || requirements;
                    const customQuestion = document.getElementById('jobCustomQuestion').value.trim();
                    const customQuestionEn = document.getElementById('jobCustomQuestionEn').value.trim();

                    /* FIX: Removed auto-assignment of premium and isNew badges */
                    const jobData = {
                        id: currentEditingIndex >= 0 ? siteData.jobs[currentEditingIndex].id : Date.now(),
                        type: type,
                        title: { fr: title, en: titleEn },
                        location: location,
                        description: { fr: description, en: descriptionEn },
                        requirements: { fr: requirements, en: requirementsEn },
                        active: true,
                        createdBy: currentUser.username,
                        createdAt: currentEditingIndex >= 0 ? siteData.jobs[currentEditingIndex].createdAt : new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    };

                    // Add custom question if provided
                    if (customQuestion || customQuestionEn) {
                        jobData.customQuestion = {
                            fr: customQuestion || customQuestionEn,
                            en: customQuestionEn || customQuestion
                        };
                    }
                    
                    /* FIX: Removed duplicate notification - only show one notification per action */
                    if (currentEditingIndex >= 0) {
                        siteData.jobs[currentEditingIndex] = { ...siteData.jobs[currentEditingIndex], ...jobData };
                        logActivity(currentUser.username, `Offre modifiée: ${title}`);
                    } else {
                        siteData.jobs.push(jobData);
                        logActivity(currentUser.username, `Offre créée: ${title}`);
                    }

                    if (forceSaveData()) {
                        renderAdminJobs();
                        if (currentUser.role === 'recruiter' || currentUser.role === 'recruteur') {
                            renderRecruteurContent();
                        }
                        closeModal('jobModal');
                        showNotification(currentEditingIndex >= 0 ?
                            (siteData.language === 'en' ? 'Job offer updated successfully!' : 'Offre modifiée avec succès!') :
                            (siteData.language === 'en' ? 'Job offer created successfully!' : 'Offre créée avec succès!'), 'success');

                        currentEditingIndex = -1;
                    } else {
                        showNotification('Échec de sauvegarde de l\'offre', 'error');
                    }
                };
            }

            // Client form
            /* FIX: Use onsubmit instead of addEventListener to prevent duplicate submissions */
            const clientForm = document.getElementById('clientForm');
            if (clientForm) {
                clientForm.onsubmit = function(e) {
                    e.preventDefault();
                    const name = document.getElementById('clientName').value;
                    const logoInput = document.getElementById('clientLogo');

                    /* FIX: Properly handle client logo upload */
                    const processClientData = (logoDataUrl) => {
                        const clientData = {
                            id: currentEditingIndex >= 0 ? siteData.clients[currentEditingIndex].id : Date.now(),
                            name: name,
                            logo: logoDataUrl || 'https://images.pexels.com/photos/1181467/pexels-photo-1181467.jpeg?auto=compress&cs=tinysrgb&w=200&h=120&fit=crop',
                            active: true
                        };

                        if (currentEditingIndex >= 0) {
                            siteData.clients[currentEditingIndex] = { ...siteData.clients[currentEditingIndex], ...clientData };
                            logActivity(currentUser.username, `Client modifié: ${name}`);
                        } else {
                            siteData.clients.push(clientData);
                            logActivity(currentUser.username, `Client créé: ${name}`);
                        }

                        if (forceSaveData()) {
                            renderAdminClients();
                            closeModal('clientModal');
                            showNotification(currentEditingIndex >= 0 ?
                                (siteData.language === 'en' ? 'Client updated successfully!' : 'Client modifié avec succès!') :
                                (siteData.language === 'en' ? 'Client added successfully!' : 'Client ajouté avec succès!'), 'success');

                            currentEditingIndex = -1;
                        } else {
                            showNotification('Échec de sauvegarde du client', 'error');
                        }
                    };

                    // Check if user uploaded a new logo
                    if (logoInput.files && logoInput.files[0]) {
                        const file = logoInput.files[0];
                        if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                processClientData(e.target.result);
                            };
                            reader.readAsDataURL(file);
                        } else {
                            showNotification('Veuillez sélectionner une image valide', 'error');
                        }
                    } else {
                        // No new logo uploaded, keep existing or use default
                        const existingLogo = currentEditingIndex >= 0 ? siteData.clients[currentEditingIndex].logo : null;
                        processClientData(existingLogo);
                    }
                };
            }

            // Page form
            /* FIX: Use onsubmit instead of addEventListener to prevent duplicate submissions */
            const pageForm = document.getElementById('pageForm');
            if (pageForm) {
                pageForm.onsubmit = function(e) {
                    e.preventDefault();
                    const title = document.getElementById('pageTitle').value;
                    const slug = document.getElementById('pageSlug').value;
                    const location = document.getElementById('pageLocation').value;
                    
                    let content = '';
                    if (typeof tinymce !== 'undefined' && tinymce.get('pageContentTinyMCE')) {
                        content = tinymce.get('pageContentTinyMCE').getContent();
                    }
                    
                    const pageData = {
                        id: currentEditingIndex >= 0 ? siteData.customPages[currentEditingIndex].id : Date.now(),
                        title: title,
                        slug: slug,
                        content: content,
                        location: location,
                        status: 'published',
                        createdAt: currentEditingIndex >= 0 ? siteData.customPages[currentEditingIndex].createdAt : new Date().toISOString(),
                        updatedAt: new Date().toISOString(),
                        author: currentUser.username
                    };
                    
                    if (currentEditingIndex >= 0) {
                        siteData.customPages[currentEditingIndex] = { ...siteData.customPages[currentEditingIndex], ...pageData };
                        logActivity(currentUser.username, `Page modifiée: ${title}`);
                    } else {
                        if (!siteData.customPages) siteData.customPages = [];
                        siteData.customPages.push(pageData);
                        logActivity(currentUser.username, `Page créée: ${title}`);
                    }
                    
                    if (forceSaveData()) {
                        renderAdminPages();
                        closeModal('pageModal');
                        showNotification(currentEditingIndex >= 0 ? 
                            (siteData.language === 'en' ? 'Page updated successfully!' : 'Page modifiée avec succès!') : 
                            (siteData.language === 'en' ? 'Page created successfully!' : 'Page créée avec succès!'), 'success');
                        
                        currentEditingIndex = -1;
                    } else {
                        showNotification('Échec de sauvegarde de la page', 'error');
                    }
                };
            }

            // User form avec nouveau rôle "lecteur"
            /* FIX: Use onsubmit instead of addEventListener to prevent duplicate submissions */
            const userForm = document.getElementById('userForm');
            if (userForm) {
                userForm.onsubmit = function(e) {
                    e.preventDefault();

                    console.log('🔍 [DEBUG] Début création utilisateur');
                    console.log('🔍 [DEBUG] currentUser avant sauvegarde:', JSON.stringify(currentUser));

                    const username = document.getElementById('userName').value;
                    const email = document.getElementById('userEmail').value;
                    const role = document.getElementById('userRole').value;
                    const password = document.getElementById('userPassword').value;

                    const userData = {
                        id: currentEditingIndex >= 0 ? siteData.users[currentEditingIndex].id : Date.now(),
                        username: username,
                        email: email,
                        role: role,
                        password: password,
                        active: true,
                        createdAt: currentEditingIndex >= 0 ? siteData.users[currentEditingIndex].createdAt : new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    };

                    if (currentEditingIndex >= 0) {
                        siteData.users[currentEditingIndex] = { ...siteData.users[currentEditingIndex], ...userData };
                        logActivity(currentUser.username, `Utilisateur modifié: ${username}`);
                    } else {
                        siteData.users.push(userData);
                        logActivity(currentUser.username, `Utilisateur créé: ${username} (${role})`);
                    }

                    console.log('🔍 [DEBUG] currentUser après ajout:', JSON.stringify(currentUser));

                    if (forceSaveData()) {
                        console.log('🔍 [DEBUG] currentUser après forceSaveData:', JSON.stringify(currentUser));

                        // RE-SAUVEGARDER la session après forceSaveData
                        localStorage.setItem('ae2i_current_user', JSON.stringify(currentUser));

                        renderAdminUsers();
                        closeModal('userModal');
                        showNotification(currentEditingIndex >= 0 ?
                            (siteData.language === 'en' ? 'User updated successfully!' : 'Utilisateur modifié avec succès!') :
                            (siteData.language === 'en' ? 'User created successfully!' : 'Utilisateur créé avec succès!'), 'success');

                        currentEditingIndex = -1;

                        console.log('🔍 [DEBUG] currentUser final:', JSON.stringify(currentUser));
                    } else {
                        showNotification('Échec de sauvegarde de l\'utilisateur', 'error');
                    }
                };
            }
        }

        function setupAdminFileUploads() {
            if (adminFileUploadsSetup) return;
            adminFileUploadsSetup = true;

            // Logo upload avec redimensionnement automatique
            const adminLogoInput = document.getElementById('adminLogoInput');
            if (adminLogoInput) {
                adminLogoInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            // Redimensionner l'image pour optimiser l'affichage
                            const img = new Image();
                            img.onload = function() {
                                const canvas = document.createElement('canvas');
                                const ctx = canvas.getContext('2d');
                                
                                // Calculer les dimensions optimales (max 150x50 pour le header)
                                const maxWidth = 150;
                                const maxHeight = 50;
                                let { width, height } = img;
                                
                                if (width > maxWidth) {
                                    height = (height * maxWidth) / width;
                                    width = maxWidth;
                                }
                                if (height > maxHeight) {
                                    width = (width * maxHeight) / height;
                                    height = maxHeight;
                                }
                                
                                canvas.width = width;
                                canvas.height = height;
                                ctx.drawImage(img, 0, 0, width, height);
                                
                                const optimizedDataUrl = canvas.toDataURL('image/png', 0.9);
                                
                                siteData.settings.logo = optimizedDataUrl;
                                document.getElementById('adminLogoPreview').src = optimizedDataUrl;
                                document.getElementById('headerLogo').src = optimizedDataUrl;
                                document.getElementById('footerLogo').src = optimizedDataUrl;
                                
                                if (forceSaveData()) {
                                    showNotification('Logo mis à jour et optimisé', 'success');
                                    logActivity(currentUser.username, 'Logo modifié');
                                } else {
                                    showNotification('Échec de sauvegarde du logo', 'error');
                                }
                            };
                            img.src = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            /* FIX: Hero background upload using createObjectURL for videos to avoid heavy DataURL and multiple notifications */
            const heroBackgroundInput = document.getElementById('heroBackgroundInput');
            if (heroBackgroundInput) {
                heroBackgroundInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const heroBackground = document.getElementById('heroBackground');

                        if (file.type.startsWith('video/')) {
                            // FIX: Use createObjectURL instead of DataURL for videos
                            const videoURL = URL.createObjectURL(file);

                            siteData.heroBackground = {
                                type: 'video',
                                url: videoURL,
                                name: file.name,
                                isObjectURL: true // Flag to know it's an object URL
                            };

                            const heroVideo = document.getElementById('heroVideo');
                            const heroVideoSource = document.getElementById('heroVideoSource');
                            if (heroVideo && heroVideoSource) {
                                // Revoke previous object URL if exists
                                if (heroVideoSource.src && heroVideoSource.src.startsWith('blob:')) {
                                    URL.revokeObjectURL(heroVideoSource.src);
                                }
                                heroVideoSource.src = videoURL;
                                heroVideo.load();
                                heroVideo.style.display = 'block';
                                heroBackground.classList.add('has-video');
                                heroBackground.classList.remove('has-image');
                            }

                            // FIX: Single notification
                            showNotification(siteData.language === 'en' ? 'Hero video updated' : 'Vidéo hero mise à jour', 'success');
                            logActivity(currentUser.username, 'Vidéo hero modifiée');
                        } else if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                // Redimensionner l'image pour optimiser les performances
                                const img = new Image();
                                img.onload = function() {
                                    const canvas = document.createElement('canvas');
                                    const ctx = canvas.getContext('2d');

                                    // Redimensionner pour une largeur max de 1920px
                                    const maxWidth = 1920;
                                    let { width, height } = img;

                                    if (width > maxWidth) {
                                        height = (height * maxWidth) / width;
                                        width = maxWidth;
                                    }

                                    canvas.width = width;
                                    canvas.height = height;
                                    ctx.drawImage(img, 0, 0, width, height);

                                    const optimizedDataUrl = canvas.toDataURL('image/jpeg', 0.8);

                                    siteData.heroBackground = {
                                        type: 'image',
                                        url: optimizedDataUrl,
                                        name: file.name
                                    };

                                    heroBackground.style.backgroundImage = `url(${optimizedDataUrl})`;
                                    heroBackground.classList.add('has-image');
                                    heroBackground.classList.remove('has-video');

                                    const heroVideo = document.getElementById('heroVideo');
                                    if (heroVideo) heroVideo.style.display = 'none';

                                    // FIX: Single notification
                                    if (saveSiteData()) {
                                        showNotification(siteData.language === 'en' ? 'Hero background updated and optimized' : 'Fond hero mis à jour et optimisé', 'success');
                                        logActivity(currentUser.username, 'Fond hero modifié');
                                    }
                                };
                                img.src = e.target.result;
                            };
                            reader.readAsDataURL(file);
                        }
                    }
                });
            }

            // Footer background upload avec redimensionnement
            const footerBackgroundInput = document.getElementById('footerBackgroundInput');
            if (footerBackgroundInput) {
                footerBackgroundInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const footerBackground = document.getElementById('footerBackground');
                            
                            if (file.type.startsWith('video/')) {
                                siteData.footerBackground = {
                                    type: 'video',
                                    url: e.target.result,
                                    name: file.name
                                };
                                
                                const footerVideo = document.getElementById('footerVideo');
                                const footerVideoSource = document.getElementById('footerVideoSource');
                                if (footerVideo && footerVideoSource) {
                                    footerVideoSource.src = e.target.result;
                                    footerVideo.load();
                                    footerVideo.style.display = 'block';
                                    footerBackground.classList.add('has-video');
                                    footerBackground.classList.remove('has-image');
                                }
                            } else if (file.type.startsWith('image/')) {
                                // Redimensionner l'image
                                const img = new Image();
                                img.onload = function() {
                                    const canvas = document.createElement('canvas');
                                    const ctx = canvas.getContext('2d');
                                    
                                    const maxWidth = 1920;
                                    let { width, height } = img;
                                    
                                    if (width > maxWidth) {
                                        height = (height * maxWidth) / width;
                                        width = maxWidth;
                                    }
                                    
                                    canvas.width = width;
                                    canvas.height = height;
                                    ctx.drawImage(img, 0, 0, width, height);
                                    
                                    const optimizedDataUrl = canvas.toDataURL('image/jpeg', 0.8);
                                    
                                    siteData.footerBackground = {
                                        type: 'image',
                                        url: optimizedDataUrl,
                                        name: file.name
                                    };
                                    
                                    footerBackground.style.backgroundImage = `url(${optimizedDataUrl})`;
                                    footerBackground.classList.add('has-image');
                                    footerBackground.classList.remove('has-video');
                                    
                                    const footerVideo = document.getElementById('footerVideo');
                                    if (footerVideo) footerVideo.style.display = 'none';
                                    
                                    if (saveSiteData()) {
                                        showNotification(siteData.language === 'en' ? 'Footer background updated and optimized' : 'Fond footer mis à jour et optimisé', 'success');
                                        logActivity(currentUser.username, 'Fond footer modifié');
                                    }
                                };
                                img.src = e.target.result;
                            }
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            // Autres uploads (favicon, ISO, brochure, galerie)
            const adminFaviconInput = document.getElementById('adminFaviconInput');
            if (adminFaviconInput) {
                adminFaviconInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            // Créer une image pour redimensionner automatiquement
                            const img = new Image();
                            img.onload = function() {
                                // Créer un canvas pour redimensionner l'image
                                const canvas = document.createElement('canvas');
                                const ctx = canvas.getContext('2d');

                                // Définir la taille du favicon (32x32 ou 64x64 pour la qualité)
                                const size = 64;
                                canvas.width = size;
                                canvas.height = size;

                                // Dessiner l'image redimensionnée
                                ctx.drawImage(img, 0, 0, size, size);

                                // Convertir en base64
                                const resizedFavicon = canvas.toDataURL('image/png');

                                siteData.settings.favicon = resizedFavicon;

                                // Mettre à jour le favicon dans le DOM
                                const favicon = document.querySelector('link[rel="icon"]');
                                if (favicon) favicon.href = resizedFavicon;

                                const appleTouchIcon = document.querySelector('link[rel="apple-touch-icon"]');
                                if (appleTouchIcon) appleTouchIcon.href = resizedFavicon;

                                if (saveSiteData()) {
                                    showNotification(siteData.language === 'en' ? 'Favicon updated and resized automatically' : 'Favicon mis à jour et redimensionné automatiquement', 'success');
                                    logActivity(currentUser.username, 'Favicon modifié et redimensionné');
                                }
                            };
                            img.src = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            const adminIsoQrInput = document.getElementById('adminIsoQrInput');
            if (adminIsoQrInput) {
                adminIsoQrInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            siteData.isoQr = e.target.result;

                            /* FIX: Update all ISO QR displays */
                            updateIsoImages();

                            if (saveSiteData()) {
                                showNotification(siteData.language === 'en' ? 'ISO QR Code updated' : 'QR Code ISO mis à jour', 'success');
                                logActivity(currentUser.username, 'QR Code ISO modifié');
                            }
                        };
                        reader.readAsDataURL(file);
                    } else {
                        showNotification('Veuillez sélectionner une image valide', 'error');
                    }
                });
            }

            const adminIsoCertInput = document.getElementById('adminIsoCertInput');
            if (adminIsoCertInput) {
                adminIsoCertInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file && file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            siteData.isoCert = e.target.result;

                            /* FIX: Update all ISO certificate displays */
                            updateIsoImages();

                            if (saveSiteData()) {
                                showNotification(siteData.language === 'en' ? 'ISO Certificate updated' : 'Certificat ISO mis à jour', 'success');
                                logActivity(currentUser.username, 'Certificat ISO modifié');
                            }
                        };
                        reader.readAsDataURL(file);
                    } else {
                        showNotification('Veuillez sélectionner une image valide', 'error');
                    }
                });
            }

            const adminBrochureInput = document.getElementById('adminBrochureInput');
            if (adminBrochureInput) {
                adminBrochureInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            siteData.brochure = {
                                name: file.name,
                                type: file.type,
                                url: e.target.result,
                                uploadedAt: new Date().toISOString()
                            };
                            
                            const brochureInfo = document.getElementById('adminBrochureInfo');
                            if (brochureInfo) {
                                brochureInfo.innerHTML = `<i class="fas fa-file-pdf"></i> ${file.name}`;
                            }
                            
                            if (saveSiteData()) {
                                showNotification('Brochure mise à jour', 'success');
                                logActivity(currentUser.username, 'Brochure mise à jour');
                            }
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            const adminGalleryInput = document.getElementById('adminGalleryInput');
            if (adminGalleryInput) {
                adminGalleryInput.addEventListener('change', function(e) {
                    const files = Array.from(e.target.files);
                    if (!siteData.gallery) siteData.gallery = [];
                    
                    files.forEach(file => {
                        if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                siteData.gallery.push({
                                    id: Date.now() + Math.random(),
                                    name: file.name,
                                    url: e.target.result,
                                    uploadedAt: new Date().toISOString()
                                });
                                saveSiteData();
                            };
                            reader.readAsDataURL(file);
                        }
                    });
                    
                    showNotification(`${files.length} image(s) ajoutée(s) à la galerie`, 'success');
                    logActivity(currentUser.username, `${files.length} images ajoutées à la galerie`);
                });
            }

            // Restore backup
            const restoreInput = document.getElementById('restoreInput');
            if (restoreInput) {
                restoreInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file && file.type === 'application/json') {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            try {
                                const backupData = JSON.parse(e.target.result);
                                siteData = { ...siteData, ...backupData };
                                
                                if (saveSiteData()) {
                                    showNotification('Sauvegarde restaurée avec succès', 'success');
                                    logActivity(currentUser.username, 'Sauvegarde restaurée');
                                    setTimeout(() => location.reload(), 1000);
                                }
                            } catch (error) {
                                showNotification('Erreur lors de la restauration', 'error');
                            }
                        };
                        reader.readAsText(file);
                    }
                });
            }

            // Setup gradient color pickers
            ['titleGradientStart', 'titleGradientEnd', 'heroGradientStart', 'heroGradientEnd', 'footerGradientStart', 'footerGradientEnd'].forEach(id => {
                const picker = document.getElementById(id);
                if (picker) {
                    picker.addEventListener('change', updateGradientPreviews);
                }
            });
        }

        // CRUD Functions OPÉRATIONNELLES
        function openServiceModal() { 
            currentEditingIndex = -1;
            currentEditingType = 'service';
            openModal('serviceModal'); 
        }
        
        function openClientModal() { 
            currentEditingIndex = -1;
            currentEditingType = 'client';
            openModal('clientModal'); 
        }
        
        function openTestimonialModal() { 
            currentEditingIndex = -1;
            currentEditingType = 'testimonial';
            openModal('testimonialModal'); 
        }
        
        function openJobModal() {
            currentEditingIndex = -1;
            currentEditingType = 'job';
            // Clear custom question fields for new job
            document.getElementById('jobCustomQuestion').value = '';
            document.getElementById('jobCustomQuestionEn').value = '';
            openModal('jobModal');
        }
        
        function openPageModal() { 
            currentEditingIndex = -1;
            currentEditingType = 'page';
            openModal('pageModal');
            
            // Réinitialiser TinyMCE
            if (typeof tinymce !== 'undefined' && tinymce.get('pageContentTinyMCE')) {
                tinymce.get('pageContentTinyMCE').setContent('<h1>Nouvelle Page</h1><p>Contenu de votre nouvelle page...</p>');
            }
        }
        
        function openUserModal() { 
            currentEditingIndex = -1;
            currentEditingType = 'user';
            openModal('userModal'); 
        }

        function updateRoleDescription() {
            const roleSelect = document.getElementById('userRole');
            const descriptionDiv = document.getElementById('roleDescription');
            
            if (roleSelect && descriptionDiv) {
                const selectedRole = roleSelect.value;
                if (selectedRole && roleDescriptions[siteData.language][selectedRole]) {
                    descriptionDiv.innerHTML = `
                        <i class="fas fa-info-circle" style="color: var(--primary); margin-right: 8px;"></i>
                        <strong>Description du rôle:</strong><br>
                        ${roleDescriptions[siteData.language][selectedRole]}
                    `;
                    descriptionDiv.style.display = 'block';
                } else {
                    descriptionDiv.style.display = 'none';
                }
            }
        }

        function editService(index) {
            const service = siteData.services[index];
            currentEditingIndex = index;
            currentEditingType = 'service';
            document.getElementById('serviceTitle').value = service.title.fr;
            document.getElementById('serviceTitleEn').value = service.title.en || '';
            document.getElementById('serviceIcon').value = service.icon;
            document.getElementById('serviceDescription').value = service.description.fr;
            document.getElementById('serviceDescriptionEn').value = service.description.en || '';
            openModal('serviceModal');
        }

        function toggleService(index) {
            siteData.services[index].active = !siteData.services[index].active;
            if (saveSiteData()) {
                renderAdminServices();
                showNotification('Service mis à jour', 'success');
                logActivity(currentUser.username, `Service ${siteData.services[index].active ? 'activé' : 'désactivé'}: ${siteData.services[index].title.fr}`);
            }
        }

        function deleteService(index) {
            if (confirm('Supprimer ce service? Cette action est irréversible.')) {
                const service = siteData.services[index];
                siteData.services.splice(index, 1);
                if (saveSiteData()) {
                    renderAdminServices();
                    showNotification('Service supprimé', 'success');
                    logActivity(currentUser.username, `Service supprimé: ${service.title.fr}`);
                }
            }
        }

        function editClient(index) {
            const client = siteData.clients[index];
            currentEditingIndex = index;
            currentEditingType = 'client';
            document.getElementById('clientName').value = client.name;
            openModal('clientModal');
        }

        function toggleClient(index) {
            siteData.clients[index].active = !siteData.clients[index].active;
            if (saveSiteData()) {
                renderAdminClients();
                showNotification('Client mis à jour', 'success');
                logActivity(currentUser.username, `Client ${siteData.clients[index].active ? 'activé' : 'désactivé'}: ${siteData.clients[index].name}`);
            }
        }

        function deleteClient(index) {
            if (confirm('Supprimer ce client? Cette action est irréversible.')) {
                const client = siteData.clients[index];
                siteData.clients.splice(index, 1);
                if (saveSiteData()) {
                    renderAdminClients();
                    showNotification('Client supprimé', 'success');
                    logActivity(currentUser.username, `Client supprimé: ${client.name}`);
                }
            }
        }

        function editTestimonial(index) {
            const testimonial = siteData.testimonials[index];
            currentEditingIndex = index;
            currentEditingType = 'testimonial';
            document.getElementById('testimonialName').value = testimonial.name;
            document.getElementById('testimonialPosition').value = testimonial.position.fr;
            document.getElementById('testimonialPositionEn').value = testimonial.position.en || '';
            document.getElementById('testimonialText').value = testimonial.text.fr;
            document.getElementById('testimonialTextEn').value = testimonial.text.en || '';
            document.getElementById('testimonialRating').value = testimonial.rating;
            openModal('testimonialModal');
        }

        function toggleTestimonial(index) {
            siteData.testimonials[index].active = !siteData.testimonials[index].active;
            if (saveSiteData()) {
                renderAdminTestimonials();
                showNotification('Témoignage mis à jour', 'success');
                logActivity(currentUser.username, `Témoignage ${siteData.testimonials[index].active ? 'activé' : 'désactivé'}: ${siteData.testimonials[index].name}`);
                
                // Redémarrer le carrousel automatique
                if (currentPage === 'home') {
                    executeHomeScript();
                }
            }
        }

        function deleteTestimonial(index) {
            if (confirm('Supprimer ce témoignage? Cette action est irréversible.')) {
                const testimonial = siteData.testimonials[index];
                siteData.testimonials.splice(index, 1);
                if (saveSiteData()) {
                    renderAdminTestimonials();
                    showNotification('Témoignage supprimé', 'success');
                    logActivity(currentUser.username, `Témoignage supprimé: ${testimonial.name}`);
                    
                    // Redémarrer le carrousel automatique
                    if (currentPage === 'home') {
                        executeHomeScript();
                    }
                }
            }
        }

        function editJob(index) {
            const job = siteData.jobs[index];
            currentEditingIndex = index;
            currentEditingType = 'job';
            document.getElementById('jobTitle').value = job.title.fr;
            document.getElementById('jobTitleEn').value = job.title.en || '';
            document.getElementById('jobType').value = job.type;
            document.getElementById('jobLocation').value = job.location;
            document.getElementById('jobDescription').value = job.description.fr;
            document.getElementById('jobDescriptionEn').value = job.description.en || '';
            document.getElementById('jobRequirements').value = job.requirements.fr;
            document.getElementById('jobRequirementsEn').value = job.requirements.en || '';
            // Load custom question if exists
            document.getElementById('jobCustomQuestion').value = job.customQuestion ? job.customQuestion.fr : '';
            document.getElementById('jobCustomQuestionEn').value = job.customQuestion ? job.customQuestion.en : '';
            openModal('jobModal');
        }

        function toggleJob(index) {
            siteData.jobs[index].active = !siteData.jobs[index].active;
            if (saveSiteData()) {
                renderAdminJobs();
                showNotification('Offre mise à jour', 'success');
                logActivity(currentUser.username, `Offre ${siteData.jobs[index].active ? 'activée' : 'désactivée'}: ${siteData.jobs[index].title.fr}`);
            }
        }

        function deleteJob(index) {
            if (confirm('Supprimer cette offre? Cette action est irréversible.')) {
                const job = siteData.jobs[index];
                siteData.jobs.splice(index, 1);
                if (saveSiteData()) {
                    renderAdminJobs();
                    showNotification('Offre supprimée', 'success');
                    logActivity(currentUser.username, `Offre supprimée: ${job.title.fr}`);
                }
            }
        }

        function editUser(index) {
            const user = siteData.users[index];
            currentEditingIndex = index;
            currentEditingType = 'user';
            document.getElementById('userName').value = user.username;
            document.getElementById('userEmail').value = user.email;
            document.getElementById('userRole').value = user.role;
            document.getElementById('userPassword').value = ''; // Ne pas pré-remplir le mot de passe
            updateRoleDescription();
            openModal('userModal');
        }

        function toggleUser(index) {
            siteData.users[index].active = !siteData.users[index].active;
            if (saveSiteData()) {
                renderAdminUsers();
                showNotification('Utilisateur mis à jour', 'success');
                logActivity(currentUser.username, `Utilisateur ${siteData.users[index].active ? 'activé' : 'désactivé'}: ${siteData.users[index].username}`);
            }
        }

        function resetUserPassword(index) {
            const newPassword = Math.random().toString(36).slice(-8);
            siteData.users[index].password = newPassword;
            if (saveSiteData()) {
                showNotification(`Nouveau mot de passe pour ${siteData.users[index].username}: ${newPassword}`, 'info', 10000);
                logActivity(currentUser.username, `Mot de passe réinitialisé pour ${siteData.users[index].username}`);
            }
        }

        function deleteUser(index) {
            if (confirm('Supprimer cet utilisateur? Cette action est irréversible.')) {
                const user = siteData.users[index];
                siteData.users.splice(index, 1);
                if (saveSiteData()) {
                    renderAdminUsers();
                    showNotification('Utilisateur supprimé', 'success');
                    logActivity(currentUser.username, `Utilisateur supprimé: ${user.username}`);
                }
            }
        }

        function editPage(index) {
            const page = siteData.customPages[index];
            currentEditingIndex = index;
            currentEditingType = 'page';
            document.getElementById('pageTitle').value = page.title;
            document.getElementById('pageSlug').value = page.slug;
            document.getElementById('pageLocation').value = page.location || 'main';
            
            // Charger le contenu dans TinyMCE
            if (typeof tinymce !== 'undefined' && tinymce.get('pageContentTinyMCE')) {
                tinymce.get('pageContentTinyMCE').setContent(page.content);
            }
            
            openModal('pageModal');
        }

        function viewPage(index) {
            const page = siteData.customPages[index];
            showNotification(`Affichage de la page: ${page.title}`, 'info');
            // Ici on pourrait ouvrir la page dans un nouvel onglet
        }

        function duplicatePage(index) {
            const page = siteData.customPages[index];
            const duplicatedPage = {
                ...page,
                id: Date.now(),
                title: `${page.title} (Copie)`,
                slug: `${page.slug}-copy`,
                createdAt: new Date().toISOString(),
                author: currentUser.username
            };
            
            siteData.customPages.push(duplicatedPage);
            if (saveSiteData()) {
                renderAdminPages();
                showNotification('Page dupliquée avec succès', 'success');
                logActivity(currentUser.username, `Page dupliquée: ${page.title}`);
            }
        }

        function deletePage(index) {
            if (confirm('Supprimer cette page? Cette action est irréversible.')) {
                const page = siteData.customPages[index];
                siteData.customPages.splice(index, 1);
                if (saveSiteData()) {
                    renderAdminPages();
                    showNotification('Page supprimée', 'success');
                    logActivity(currentUser.username, `Page supprimée: ${page.title}`);
                }
            }
        }

        function previewCV(cvId) {
            const cv = siteData.cvDatabase.find(c => c.id === cvId);
            if (cv) {
                document.getElementById('cvPreviewContent').innerHTML = `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                        <div>
                            <h3 style="color: var(--primary); font-weight: 800; margin-bottom: 20px; font-size: var(--font-size-2xl);">${cv.applicantName}</h3>
                            <p><strong>Email:</strong> ${cv.applicantEmail}</p>
                            <p><strong>Téléphone:</strong> ${cv.applicantPhone || 'Non renseigné'}</p>
                            ${cv.applicantPosition ? `<p><strong>Poste actuel:</strong> ${cv.applicantPosition}</p>` : ''}
                            ${cv.expectedSalary ? `<p><strong>Salaire souhaité:</strong> ${cv.expectedSalary} DA</p>` : ''}
                        </div>
                        <div>
                            <p><strong>Poste:</strong> <span style="color: var(--primary); font-weight: 600;">${cv.jobTitle}</span></p>
                            <p><strong>Date:</strong> ${new Date(cv.appliedAt).toLocaleDateString()}</p>
                            <p><strong>Statut:</strong> <span class="status-badge ${cv.processed ? 'status-processed' : 'status-pending'}">${cv.processed ? 'Traité' : 'En attente'}</span></p>
                            ${cv.processedBy ? `<p><strong>Traité par:</strong> ${cv.processedBy}</p>` : ''}
                            ${cv.currentlyEmployed ? `<p><strong>En poste:</strong> ${cv.currentlyEmployed === 'yes' ? 'Oui' : 'Non'}</p>` : ''}
                            ${cv.lastJobDate ? `<p><strong>Dernier poste:</strong> ${cv.lastJobDate}</p>` : ''}
                            ${cv.lastContractType ? `<p><strong>Type contrat:</strong> ${cv.lastContractType}</p>` : ''}
                        </div>
                    </div>
                    <div style="margin-top: 24px;">
                        <h4 style="color: var(--primary); font-weight: 700; margin-bottom: 16px;">CV:</h4>
                        <div style="background: var(--bg-alt); padding: 24px; border-radius: var(--border-radius-lg); margin-top: 12px; text-align: center; border: 3px dashed var(--border);">
                            <i class="fas fa-file-pdf" style="font-size: 60px; color: var(--danger); margin-bottom: 12px;"></i>
                            <p style="font-weight: 600; margin-bottom: 8px;">${cv.applicantCV ? cv.applicantCV.name : 'CV non disponible'}</p>
                            ${cv.applicantCV ? `<p style="font-size: var(--font-size-sm); color: var(--text-light);">Taille: ${(cv.applicantCV.size / 1024).toFixed(1)} KB</p>` : ''}
                        </div>
                    </div>
                `;
                openModal('cvPreviewModal');
            }
        }

        function contactApplicant(email) {
            window.location.href = `mailto:${email}?subject=Votre candidature chez AE2I Algérie`;
            logActivity(currentUser.username, `Contact candidat: ${email}`);
        }

        function markAsProcessed(cvId) {
            const cv = siteData.cvDatabase.find(c => c.id === cvId);
            if (cv) {
                cv.processed = true;
                cv.processedAt = new Date().toISOString();
                cv.processedBy = currentUser.username;
                if (saveSiteData()) {
                    renderAdminCvDatabase();
                    populateCVJobFilter();
                    showNotification('Candidature marquée comme traitée', 'success');
                    logActivity(currentUser.username, `Candidature traitée: ${cv.applicantName}`);
                }
            }
        }

        function downloadCV(cvId) {
            const cv = siteData.cvDatabase.find(c => c.id === cvId);
            if (cv && cv.applicantCV) {
                showNotification(`Téléchargement du CV de ${cv.applicantName}`, 'info');
                logActivity(currentUser.username, `CV téléchargé: ${cv.applicantName}`);
            }
        }

        function deleteApplication(cvId) {
            if (confirm('Supprimer cette candidature? Cette action est irréversible.')) {
                const cvIndex = siteData.cvDatabase.findIndex(c => c.id === cvId);
                if (cvIndex >= 0) {
                    const cv = siteData.cvDatabase[cvIndex];
                    siteData.cvDatabase.splice(cvIndex, 1);
                    if (saveSiteData()) {
                        renderAdminCvDatabase();
                        populateCVJobFilter();
                        showNotification('Candidature supprimée', 'success');
                        logActivity(currentUser.username, `Candidature supprimée: ${cv.applicantName}`);
                    }
                }
            }
        }

        function viewJobApplications(jobId) {
            const applications = siteData.cvDatabase.filter(cv => cv.jobId === jobId);
            showNotification(`${applications.length} candidature(s) pour cette offre`, 'info');
        }

        function viewUserActivity(username) {
            const userLogs = siteData.activityLog.filter(log => log.username === username);
            showNotification(`${userLogs.length} action(s) enregistrée(s) pour ${username}`, 'info');
        }

        // Export functions pour CV
        function exportAllCVs() {
            if (!siteData.cvDatabase || siteData.cvDatabase.length === 0) {
                showNotification('Aucun CV à exporter', 'warning');
                return;
            }

            showNotification(`Préparation de l'export de ${siteData.cvDatabase.length} CV...`, 'info');
            logActivity(currentUser.username, `Export de ${siteData.cvDatabase.length} CV`);
        }

        function exportCVDatabase(format) {
            if (!siteData.cvDatabase || siteData.cvDatabase.length === 0) {
                showNotification('Aucune donnée à exporter', 'warning');
                return;
            }

            if (format === 'csv') {
                let csv = 'Nom,Email,Téléphone,Poste,Date candidature,Statut,Traité par,Salaire souhaité,En poste,Dernier poste,Type contrat\n';
                siteData.cvDatabase.forEach(cv => {
                    csv += `"${cv.applicantName}","${cv.applicantEmail}","${cv.applicantPhone || ''}","${cv.jobTitle}","${new Date(cv.appliedAt).toLocaleDateString()}","${cv.processed ? 'Traité' : 'En attente'}","${cv.processedBy || ''}","${cv.expectedSalary || ''}","${cv.currentlyEmployed || ''}","${cv.lastJobDate || ''}","${cv.lastContractType || ''}"\n`;
                });
                
                const csvBlob = new Blob([csv], { type: 'text/csv' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(csvBlob);
                link.download = `ae2i_cv_database_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            } else {
                const dataStr = JSON.stringify(siteData.cvDatabase, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `ae2i_cv_database_${new Date().toISOString().split('T')[0]}.json`;
                link.click();
            }
            
            showNotification(`Base de données CV exportée (${format.toUpperCase()})`, 'success');
            logActivity(currentUser.username, `Base de données CV exportée (${format})`);
        }

        // Settings functions OPÉRATIONNELLES
        function updateSiteInfo() {
            siteData.settings.title = document.getElementById('siteTitle').value;
            siteData.settings.slogan = document.getElementById('siteSlogan').value;
            siteData.settings.description = document.getElementById('siteDescription').value;
            
            // Mettre à jour le titre de la page
            document.title = siteData.settings.title;
            
            // Mettre à jour les éléments de la page
            document.getElementById('heroTitle').textContent = siteData.settings.title;
            document.getElementById('heroSubtitle').textContent = siteData.settings.slogan;
            
            if (saveSiteData()) {
                showNotification('Informations du site mises à jour', 'success');
                logActivity(currentUser.username, 'Informations du site modifiées');
            }
        }

        function updateLanguageSettings() {
            siteData.settings.defaultLanguage = document.getElementById('defaultLanguage').value;
            siteData.settings.enableMultilingual = document.getElementById('enableMultilingual').checked;
            
            if (saveSiteData()) {
                showNotification('Paramètres de langue mis à jour', 'success');
                logActivity(currentUser.username, 'Paramètres de langue modifiés');
            }
        }

        function updateThemeSettings() {
            siteData.settings.darkMode = document.getElementById('enableDarkMode').checked;
            siteData.settings.primaryColor = document.getElementById('primaryColor').value;
            siteData.settings.secondaryColor = document.getElementById('secondaryColor').value;

            // Appliquer les couleurs et générer les variations
            const primary = siteData.settings.primaryColor;
            const secondary = siteData.settings.secondaryColor;

            document.documentElement.style.setProperty('--primary', primary);
            document.documentElement.style.setProperty('--primary-light', lightenColor(primary, 10));
            document.documentElement.style.setProperty('--primary-dark', darkenColor(primary, 10));
            document.documentElement.style.setProperty('--secondary', secondary);
            document.documentElement.style.setProperty('--secondary-light', lightenColor(secondary, 10));
            document.documentElement.style.setProperty('--secondary-dark', darkenColor(secondary, 10));
            document.documentElement.style.setProperty('--accent', lightenColor(primary, 15));
            document.documentElement.style.setProperty('--accent-light', lightenColor(primary, 25));
            document.documentElement.style.setProperty('--accent-dark', darkenColor(primary, 5));

            // Mettre à jour les gradients
            document.documentElement.style.setProperty('--gradient-primary', `linear-gradient(135deg, ${primary} 0%, ${darkenColor(primary, 10)} 100%)`);
            document.documentElement.style.setProperty('--gradient-secondary', `linear-gradient(135deg, ${secondary} 0%, ${darkenColor(secondary, 10)} 100%)`);
            document.documentElement.style.setProperty('--gradient-accent', `linear-gradient(135deg, ${lightenColor(primary, 15)} 0%, ${darkenColor(primary, 5)} 100%)`);

            if (saveSiteData()) {
                showNotification('Thème mis à jour', 'success');
                logActivity(currentUser.username, 'Thème modifié');
            }
        }

        function lightenColor(hex, percent) {
            const num = parseInt(hex.replace('#', ''), 16);
            const r = Math.min(255, ((num >> 16) & 0xff) + Math.round(255 * percent / 100));
            const g = Math.min(255, ((num >> 8) & 0xff) + Math.round(255 * percent / 100));
            const b = Math.min(255, (num & 0xff) + Math.round(255 * percent / 100));
            return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)}`;
        }

        function darkenColor(hex, percent) {
            const num = parseInt(hex.replace('#', ''), 16);
            const r = Math.max(0, ((num >> 16) & 0xff) - Math.round(255 * percent / 100));
            const g = Math.max(0, ((num >> 8) & 0xff) - Math.round(255 * percent / 100));
            const b = Math.max(0, (num & 0xff) - Math.round(255 * percent / 100));
            return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)}`;
        }

        function updateAdminProfile() {
            const adminUser = siteData.users.find(u => u.role === 'admin');
            if (adminUser) {
                const newName = document.getElementById('adminName').value;
                const newEmail = document.getElementById('adminEmail').value;
                const newPassword = document.getElementById('adminPassword').value;
                
                adminUser.username = newName;
                adminUser.email = newEmail;
                if (newPassword) {
                    adminUser.password = newPassword;
                }
                
                if (saveSiteData()) {
                    showNotification('Profil administrateur mis à jour', 'success');
                    logActivity(currentUser.username, 'Profil administrateur modifié');
                }
            }
        }

        function updateMaintenanceMessage() {
            siteData.settings.maintenanceMessage = document.getElementById('maintenanceMessage').value;
            if (saveSiteData()) {
                showNotification('Message de maintenance mis à jour', 'success');
                logActivity(currentUser.username, 'Message de maintenance modifié');
            }
        }

        // Maintenance functions
        function createBackup() {
            const backup = {
                timestamp: new Date().toISOString(),
                version: '1.0',
                data: siteData
            };
            
            const dataStr = JSON.stringify(backup, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `ae2i_backup_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showNotification('Sauvegarde créée et téléchargée', 'success');
            logActivity(currentUser.username, 'Sauvegarde créée');
        }

        function clearCache() {
            if (confirm('Vider le cache local? Cette action rechargera la page.')) {
                localStorage.clear();
                sessionStorage.clear();
                showNotification('Cache vidé', 'success');
                logActivity(currentUser.username, 'Cache vidé');
                setTimeout(() => location.reload(), 1000);
            }
        }

        function runPerformanceCheck() {
            const startTime = performance.now();
            
            // Simuler une analyse de performance
            setTimeout(() => {
                const endTime = performance.now();
                const loadTime = endTime - startTime;
                
                document.getElementById('loadTime').textContent = `${loadTime.toFixed(2)}ms`;
                
                // Simuler l'utilisation mémoire
                if (performance.memory) {
                    const memoryMB = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                    document.getElementById('memoryUsage').textContent = `${memoryMB} MB`;
                }
                
                showNotification('Analyse de performance terminée', 'success');
                logActivity(currentUser.username, 'Analyse de performance effectuée');
            }, 500);
        }

        // Analytics functions
        function generateGlobalReport() {
            const report = {
                timestamp: new Date().toISOString(),
                services: {
                    total: siteData.services.length,
                    active: siteData.services.filter(s => s.active).length
                },
                clients: {
                    total: siteData.clients.length,
                    active: siteData.clients.filter(c => c.active).length
                },
                jobs: {
                    total: siteData.jobs.length,
                    active: siteData.jobs.filter(j => j.active).length,
                    byType: {
                        cdi: siteData.jobs.filter(j => j.type === 'cdi').length,
                        cdd: siteData.jobs.filter(j => j.type === 'cdd').length,
                        stage: siteData.jobs.filter(j => j.type === 'stage').length
                    }
                },
                applications: {
                    total: siteData.cvDatabase ? siteData.cvDatabase.length : 0,
                    processed: siteData.cvDatabase ? siteData.cvDatabase.filter(cv => cv.processed).length : 0
                },
                consent: {
                    accepted: siteData.consentLogs ? siteData.consentLogs.filter(log => log.action === 'accepted').length : 0,
                    declined: siteData.consentLogs ? siteData.consentLogs.filter(log => log.action === 'declined').length : 0
                }
            };
            
            const reportStr = JSON.stringify(report, null, 2);
            const reportBlob = new Blob([reportStr], { type: 'application/json' });
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(reportBlob);
            link.download = `ae2i_rapport_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showNotification('Rapport global généré', 'success');
            logActivity(currentUser.username, 'Rapport global généré');
        }

        function exportAnalytics(format) {
            const data = {
                services: siteData.services,
                clients: siteData.clients,
                jobs: siteData.jobs,
                applications: siteData.cvDatabase,
                activityLog: siteData.activityLog
            };
            
            if (format === 'csv') {
                // Conversion simple en CSV pour les candidatures
                let csv = 'Nom,Email,Poste,Date,Statut,Salaire souhaité,En poste,Dernier poste,Type contrat\n';
                if (siteData.cvDatabase) {
                    siteData.cvDatabase.forEach(cv => {
                        csv += `"${cv.applicantName}","${cv.applicantEmail}","${cv.jobTitle}","${new Date(cv.appliedAt).toLocaleDateString()}","${cv.processed ? 'Traité' : 'En attente'}","${cv.expectedSalary || ''}","${cv.currentlyEmployed || ''}","${cv.lastJobDate || ''}","${cv.lastContractType || ''}"\n`;
                    });
                }
                
                const csvBlob = new Blob([csv], { type: 'text/csv' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(csvBlob);
                link.download = `ae2i_analytics_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            } else {
                const dataStr = JSON.stringify(data, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `ae2i_analytics_${new Date().toISOString().split('T')[0]}.json`;
                link.click();
            }
            
            showNotification(`Analytics exportées (${format.toUpperCase()})`, 'success');
            logActivity(currentUser.username, `Analytics exportées (${format})`);
        }

        function exportConsentData(format) {
            const consentData = siteData.consentLogs || [];
            
            if (format === 'csv') {
                let csv = 'Action,Date,Détails\n';
                consentData.forEach(log => {
                    csv += `"${log.action}","${new Date(log.timestamp).toLocaleDateString()}","${JSON.stringify(log.details).replace(/"/g, '""')}"\n`;
                });
                
                const csvBlob = new Blob([csv], { type: 'text/csv' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(csvBlob);
                link.download = `ae2i_consent_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            } else {
                const dataStr = JSON.stringify(consentData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `ae2i_consent_${new Date().toISOString().split('T')[0]}.json`;
                link.click();
            }
            
            showNotification(`Données de consentement exportées (${format.toUpperCase()})`, 'success');
            logActivity(currentUser.username, `Données de consentement exportées (${format})`);
        }

        function exportAuditLog() {
            const auditData = siteData.activityLog || [];
            
            let csv = 'Utilisateur,Action,Page,Date,Rôle\n';
            auditData.forEach(log => {
                csv += `"${log.username}","${log.action}","${log.page || ''}","${new Date(log.timestamp).toLocaleDateString()}","${log.userRole}"\n`;
            });
            
            const csvBlob = new Blob([csv], { type: 'text/csv' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(csvBlob);
            link.download = `ae2i_audit_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            showNotification('Journal d\'audit exporté', 'success');
            logActivity(currentUser.username, 'Journal d\'audit exporté');
        }

        function anonymizeOldData() {
            if (confirm('Anonymiser les données de plus de 2 ans? Cette action est irréversible.')) {
                const twoYearsAgo = new Date();
                twoYearsAgo.setFullYear(twoYearsAgo.getFullYear() - 2);
                
                let anonymizedCount = 0;
                
                // Anonymiser les candidatures anciennes
                if (siteData.cvDatabase) {
                    siteData.cvDatabase.forEach(cv => {
                        if (new Date(cv.appliedAt) < twoYearsAgo) {
                            cv.applicantName = 'Anonymisé';
                            cv.applicantEmail = 'anonyme@anonyme.com';
                            cv.applicantPhone = 'Anonymisé';
                            cv.anonymized = true;
                            cv.anonymizedAt = new Date().toISOString();
                            anonymizedCount++;
                        }
                    });
                }
                
                // Anonymiser les logs anciens
                if (siteData.activityLog) {
                    siteData.activityLog.forEach(log => {
                        if (new Date(log.timestamp) < twoYearsAgo) {
                            log.username = 'Anonymisé';
                            log.userAgent = 'Anonymisé';
                            anonymizedCount++;
                        }
                    });
                }
                
                if (saveSiteData()) {
                    showNotification(`${anonymizedCount} entrée(s) anonymisée(s)`, 'success');
                    logActivity(currentUser.username, `${anonymizedCount} données anonymisées (conformité Loi 18-07)`);
                }
            }
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE RECRUTEUR DASHBOARD ===== -->
    <script id="recruteur-script">
        function executeRecruteurScript() {
            console.log('👥 Executing recruteur dashboard script');
            renderRecruteurContent();
            setupRecruteurInteractions();
        }

        function renderRecruteurContent() {
            // Update recruiter stats
            const myJobs = siteData.jobs.filter(j => j.createdBy === currentUser.username);
            const myApplications = siteData.cvDatabase.filter(cv => 
                myJobs.some(job => job.id === cv.jobId)
            );
            
            document.getElementById('recruteurMyJobs').textContent = myJobs.length;
            document.getElementById('recruteurApplications').textContent = myApplications.length;
            document.getElementById('recruteurProcessed').textContent = myApplications.filter(cv => cv.processed).length;
            document.getElementById('recruteurPending').textContent = myApplications.filter(cv => !cv.processed).length;

            // Render recruiter jobs
            const jobsList = document.getElementById('recruteurJobsList');
            if (jobsList) {
                jobsList.innerHTML = '';
                myJobs.forEach((job, index) => {
                    const jobItem = document.createElement('div');
                    jobItem.style.cssText = `
                        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                        border: 2px solid var(--border); 
                        border-radius: var(--border-radius-lg); 
                        padding: 20px; 
                        margin-bottom: 16px;
                        transition: var(--transition);
                        backdrop-filter: blur(5px);
                        box-shadow: var(--shadow-md);
                    `;
                    jobItem.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                            <h4 style="font-weight: 800; font-size: var(--font-size-lg);">${job.title.fr}</h4>
                            <span class="status-badge ${job.active ? 'status-active' : 'status-inactive'}">
                                <i class="fas fa-${job.active ? 'check' : 'times'}"></i>
                                ${job.active ? 'Actif' : 'Inactif'}
                            </span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 16px;">
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>Type:</strong><br>
                                <span style="background: var(--accent); color: white; padding: 2px 8px; border-radius: var(--border-radius-sm); font-size: var(--font-size-xs); font-weight: 700;">${job.type.toUpperCase()}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>Localisation:</strong><br>
                                <span style="color: var(--text-light);">${job.location}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>Créé le:</strong><br>
                                <span style="color: var(--text-light);">${new Date(job.createdAt).toLocaleDateString()}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius); text-align: center;">
                                <strong>Candidatures:</strong><br>
                                <span style="color: var(--primary); font-weight: 700;">${myApplications.filter(cv => cv.jobId === job.id).length}</span>
                            </div>
                        </div>
                        <p style="color: var(--text-light); margin-bottom: 16px; line-height: var(--line-height-loose);">${job.description.fr}</p>
                        <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                            <button class="btn btn-sm btn-outline functional-btn" onclick="editRecruteurJob(${job.id})">
                                <i class="fas fa-edit"></i> Modifier
                            </button>
                            <button class="btn btn-sm btn-warning functional-btn" onclick="toggleRecruteurJob(${job.id})">
                                <i class="fas fa-toggle-${job.active ? 'on' : 'off'}"></i> ${job.active ? 'Désactiver' : 'Activer'}
                            </button>
                            <button class="btn btn-sm btn-danger functional-btn" onclick="deleteRecruteurJob(${job.id})">
                                <i class="fas fa-trash"></i> Supprimer
                            </button>
                        </div>
                    `;
                    
                    jobItem.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-3px)';
                        this.style.boxShadow = 'var(--shadow-lg)';
                        this.style.borderColor = 'var(--accent)';
                    });
                    
                    jobItem.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'var(--shadow-md)';
                        this.style.borderColor = 'var(--border)';
                    });
                    
                    jobsList.appendChild(jobItem);
                });

                if (myJobs.length === 0) {
                    jobsList.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">Aucune offre créée</p>';
                }
            }

            // Render applications
            renderRecruteurApplications();
        }

        function renderRecruteurApplications() {
            const candidatures = document.getElementById('recruteurCandidatures');

            if (candidatures) {
                candidatures.innerHTML = '';

                // Use new advanced filtering function
                const filteredApplications = getRecruteurFilteredCandidates();

                filteredApplications.forEach(cv => {
                    const cvItem = document.createElement('div');
                    cvItem.style.cssText = `
                        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                        border: 2px solid var(--border); 
                        border-radius: var(--border-radius-lg); 
                        padding: 20px; 
                        margin-bottom: 16px;
                        transition: var(--transition);
                        backdrop-filter: blur(5px);
                        box-shadow: var(--shadow-md);
                    `;
                    cvItem.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                            <h4 style="font-weight: 800; font-size: var(--font-size-lg);">${cv.applicantName}</h4>
                            <span class="status-badge ${cv.processed ? 'status-processed' : 'status-pending'}">
                                <i class="fas fa-${cv.processed ? 'check' : 'clock'}"></i>
                                ${cv.processed ? 'Traité' : 'En attente'}
                            </span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-bottom: 16px;">
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                <strong>Poste:</strong><br>
                                <span style="color: var(--primary); font-weight: 600;">${cv.jobTitle}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                <strong>Email:</strong><br>
                                <span style="color: var(--text-light);">${cv.applicantEmail}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                <strong>Téléphone:</strong><br>
                                <span style="color: var(--text-light);">${cv.applicantPhone || 'Non renseigné'}</span>
                            </div>
                            <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                <strong>Date:</strong><br>
                                <span style="color: var(--text-light);">${new Date(cv.appliedAt).toLocaleDateString()}</span>
                            </div>
                        </div>
                        ${cv.expectedSalary ? `
                            <div style="background: rgba(0, 168, 150, 0.08); padding: 16px; border-radius: var(--border-radius-lg); margin-bottom: 16px; border-left: 4px solid var(--accent);">
                                <strong style="color: var(--accent);">Informations supplémentaires:</strong>
                                <div style="margin-top: 8px; display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 8px; font-size: var(--font-size-sm);">
                                    <div><strong>Salaire:</strong> ${cv.expectedSalary} DA</div>
                                    <div><strong>En poste:</strong> ${cv.currentlyEmployed === 'yes' ? 'Oui' : 'Non'}</div>
                                    <div><strong>Dernier poste:</strong> ${cv.lastJobDate}</div>
                                    <div><strong>Type contrat:</strong> ${cv.lastContractType}</div>
                                </div>
                            </div>
                        ` : ''}
                        <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                            <!-- ADD: auto-generate-pdf - PDF Summary download button for Recruteur dashboard -->
                            <button class="btn btn-sm btn-accent functional-btn" onclick="downloadApplicationPdfSummary(siteData.cvDatabase.find(c => c.id === ${cv.id}))" style="background: linear-gradient(135deg, #00a896 0%, #028090 100%); color: white; border: none;">
                                <i class="fas fa-file-pdf"></i> Résumé PDF
                            </button>
                            <button class="btn btn-sm btn-outline functional-btn" onclick="previewCV(${cv.id})">
                                <i class="fas fa-eye"></i> Voir détails
                            </button>
                            <button class="btn btn-sm btn-primary functional-btn" onclick="contactApplicant('${cv.applicantEmail}')">
                                <i class="fas fa-envelope"></i> Contacter
                            </button>
                            <button class="btn btn-sm btn-success functional-btn" onclick="markAsProcessed(${cv.id})">
                                <i class="fas fa-check"></i> Marquer traité
                            </button>
                            <button class="btn btn-sm btn-warning functional-btn" onclick="downloadCV(${cv.id})">
                                <i class="fas fa-download"></i> Télécharger CV
                            </button>
                        </div>
                    `;
                    
                    cvItem.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-3px)';
                        this.style.boxShadow = 'var(--shadow-lg)';
                        this.style.borderColor = 'var(--accent)';
                    });
                    
                    cvItem.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'var(--shadow-md)';
                        this.style.borderColor = 'var(--border)';
                    });
                    
                    candidatures.appendChild(cvItem);
                });

                if (filteredApplications.length === 0) {
                    candidatures.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">Aucune candidature trouvée</p>';
                }
            }
        }

        /* ADD: candidate-filter-by-response - JavaScript pour filtrage multi-critères RECRUTEUR */
        function setupRecruteurInteractions() {
            // Update user info
            document.getElementById('recruteurCurrentUser').textContent = currentUser.username;

            // Setup all filters with instant filtering
            const searchBar = document.getElementById('recruteurSearchBar');
            const statusFilter = document.getElementById('recruteurStatusFilter');
            const domaineFilter = document.getElementById('recruteurDomaineFilter');
            const diplomeFilter = document.getElementById('recruteurDiplomeFilter');
            const permisFilter = document.getElementById('recruteurPermisFilter');
            const wilayaFilter = document.getElementById('recruteurWilayaFilter');
            const ageMin = document.getElementById('recruteurAgeMin');
            const ageMax = document.getElementById('recruteurAgeMax');
            const preavisFilter = document.getElementById('recruteurPreavisFilter');
            const experienceMin = document.getElementById('recruteurExperienceMin');
            const experienceMax = document.getElementById('recruteurExperienceMax');

            // Attach event listeners for instant filtering
            if (searchBar) searchBar.addEventListener('input', applyRecruteurFilters);
            if (statusFilter) statusFilter.addEventListener('change', applyRecruteurFilters);
            if (domaineFilter) domaineFilter.addEventListener('change', applyRecruteurFilters);
            if (diplomeFilter) diplomeFilter.addEventListener('change', applyRecruteurFilters);
            if (permisFilter) permisFilter.addEventListener('change', applyRecruteurFilters);
            if (wilayaFilter) wilayaFilter.addEventListener('change', applyRecruteurFilters);
            if (ageMin) ageMin.addEventListener('input', applyRecruteurFilters);
            if (ageMax) ageMax.addEventListener('input', applyRecruteurFilters);
            if (preavisFilter) preavisFilter.addEventListener('change', applyRecruteurFilters);
            if (experienceMin) experienceMin.addEventListener('input', applyRecruteurFilters);
            if (experienceMax) experienceMax.addEventListener('input', applyRecruteurFilters);
        }

        function applyRecruteurFilters() {
            renderRecruteurApplications();
        }

        function getRecruteurFilteredCandidates() {
            const myJobs = siteData.jobs.filter(j => j.createdBy === currentUser.username);
            let candidates = siteData.cvDatabase.filter(cv => myJobs.some(job => job.id === cv.jobId));

            // Barre de recherche
            const searchTerm = document.getElementById('recruteurSearchBar')?.value.toLowerCase() || '';
            if (searchTerm) {
                candidates = candidates.filter(cv =>
                    cv.applicantName?.toLowerCase().includes(searchTerm) ||
                    cv.jobTitle?.toLowerCase().includes(searchTerm) ||
                    cv.diplome?.toLowerCase().includes(searchTerm) ||
                    cv.domaine?.toLowerCase().includes(searchTerm)
                );
            }

            // Filtre Statut
            const status = document.getElementById('recruteurStatusFilter')?.value || 'all';
            if (status === 'pending') candidates = candidates.filter(cv => !cv.processed);
            else if (status === 'processed') candidates = candidates.filter(cv => cv.processed);

            // Filtre Domaine (multi-sélection)
            const domaines = Array.from(document.getElementById('recruteurDomaineFilter')?.selectedOptions || []).map(o => o.value);
            if (domaines.length > 0) {
                candidates = candidates.filter(cv => cv.domaine && domaines.includes(cv.domaine.toLowerCase()));
            }

            // Filtre Diplôme (multi-sélection)
            const diplomes = Array.from(document.getElementById('recruteurDiplomeFilter')?.selectedOptions || []).map(o => o.value);
            if (diplomes.length > 0) {
                candidates = candidates.filter(cv => cv.applicantDiploma && diplomes.some(d => cv.applicantDiploma.toLowerCase().includes(d.toLowerCase())));
            }

            // Filtre Permis (multi-sélection)
            const permis = Array.from(document.getElementById('recruteurPermisFilter')?.selectedOptions || []).map(o => o.value);
            if (permis.length > 0) {
                candidates = candidates.filter(cv => cv.licenseTypes && cv.licenseTypes.some(lt => permis.includes(lt)));
            }

            // Filtre Wilaya (multi-sélection)
            const wilayas = Array.from(document.getElementById('recruteurWilayaFilter')?.selectedOptions || []).map(o => o.value);
            if (wilayas.length > 0) {
                candidates = candidates.filter(cv => cv.wilaya && wilayas.includes(cv.wilaya));
            }

            // Filtre Âge
            const ageMin = parseInt(document.getElementById('recruteurAgeMin')?.value) || 0;
            const ageMax = parseInt(document.getElementById('recruteurAgeMax')?.value) || 999;
            if (ageMin > 0 || ageMax < 999) {
                candidates = candidates.filter(cv => {
                    const age = parseInt(cv.applicantAge) || 0;
                    return age >= ageMin && age <= ageMax;
                });
            }

            // Filtre Préavis
            const preavis = document.getElementById('recruteurPreavisFilter')?.value || 'all';
            if (preavis !== 'all') {
                candidates = candidates.filter(cv => cv.preavis === preavis);
            }

            // Filtre Expérience
            const expMin = parseInt(document.getElementById('recruteurExperienceMin')?.value) || 0;
            const expMax = parseInt(document.getElementById('recruteurExperienceMax')?.value) || 999;
            if (expMin > 0 || expMax < 999) {
                candidates = candidates.filter(cv => {
                    const exp = parseInt(cv.yearsExperience) || 0;
                    return exp >= expMin && exp <= expMax;
                });
            }

            // Update count
            const countElement = document.getElementById('recruteurFilterCountNumber');
            if (countElement) countElement.textContent = candidates.length;

            return candidates;
        }

        function resetRecruteurFilters() {
            document.getElementById('recruteurSearchBar').value = '';
            document.getElementById('recruteurStatusFilter').value = 'all';
            document.getElementById('recruteurDomaineFilter').selectedIndex = -1;
            document.getElementById('recruteurDiplomeFilter').selectedIndex = -1;
            document.getElementById('recruteurPermisFilter').selectedIndex = -1;
            document.getElementById('recruteurWilayaFilter').selectedIndex = -1;
            document.getElementById('recruteurAgeMin').value = '';
            document.getElementById('recruteurAgeMax').value = '';
            document.getElementById('recruteurPreavisFilter').value = 'all';
            document.getElementById('recruteurExperienceMin').value = '';
            document.getElementById('recruteurExperienceMax').value = '';
            applyRecruteurFilters();
        }

        function exportRecruteurFilteredCandidates(format) {
            const filtered = getRecruteurFilteredCandidates();
            if (filtered.length === 0) {
                showNotification('Aucune candidature à exporter', 'warning');
                return;
            }

            if (format === 'pdf') {
                exportCandidatesPDF(filtered, 'Recruteur');
            } else if (format === 'excel') {
                exportCandidatesExcel(filtered, 'Recruteur');
            }
        }

        function exportCandidatesPDF(candidates, dashboard) {
            let content = `AE2I - Export Candidatures ${dashboard}\n`;
            content += `Date: ${new Date().toLocaleDateString()}\n`;
            content += `Total: ${candidates.length} candidature(s)\n\n`;
            content += '='.repeat(80) + '\n\n';

            candidates.forEach((cv, idx) => {
                content += `${idx + 1}. ${cv.applicantName}\n`;
                content += `   Poste: ${cv.jobTitle}\n`;
                content += `   Email: ${cv.applicantEmail}\n`;
                content += `   Téléphone: ${cv.applicantPhone || 'N/A'}\n`;
                content += `   Domaine: ${cv.domaine || 'N/A'}\n`;
                content += `   Diplôme: ${cv.diplome || 'N/A'}\n`;
                content += `   Expérience: ${cv.experience || 'N/A'} ans\n`;
                content += `   Statut: ${cv.processed ? 'Traité' : 'En attente'}\n`;
                content += `   Date: ${new Date(cv.appliedAt).toLocaleDateString()}\n`;
                content += '-'.repeat(80) + '\n\n';
            });

            const blob = new Blob([content], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `AE2I_Candidatures_${dashboard}_${new Date().toISOString().split('T')[0]}.txt`;
            link.click();

            showNotification(`Export PDF (${candidates.length} candidatures) réussi`, 'success');
            logActivity(currentUser.username, `Export PDF ${dashboard}: ${candidates.length} candidatures`);
        }

        function exportCandidatesExcel(candidates, dashboard) {
            let csv = 'Nom,Email,Téléphone,Poste,Domaine,Diplôme,Permis,Wilaya,Âge,Expérience,Préavis,Statut,Date\n';
            candidates.forEach(cv => {
                csv += `"${cv.applicantName}","${cv.applicantEmail}","${cv.applicantPhone || ''}","${cv.jobTitle}",`;
                csv += `"${cv.domaine || ''}","${cv.diplome || ''}","${cv.permis || ''}","${cv.wilaya || ''}",`;
                csv += `"${cv.age || ''}","${cv.experience || ''}","${cv.preavis || ''}",`;
                csv += `"${cv.processed ? 'Traité' : 'En attente'}","${new Date(cv.appliedAt).toLocaleDateString()}"\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `AE2I_Candidatures_${dashboard}_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();

            showNotification(`Export Excel (${candidates.length} candidatures) réussi`, 'success');
            logActivity(currentUser.username, `Export Excel ${dashboard}: ${candidates.length} candidatures`);
        }

        /* ADD: auto-generate-pdf - Automatic PDF summary generation for each application */
        function generateApplicationPdfSummary(application, job) {
            try {
                const { jsPDF } = window.jspdf;
                if (!jsPDF) {
                    console.error('jsPDF library not loaded');
                    return null;
                }

                const pdf = new jsPDF();
                const pageWidth = pdf.internal.pageSize.getWidth();
                const pageHeight = pdf.internal.pageSize.getHeight();
                let yPos = 20;
                const lineHeight = 7;
                const margin = 15;
                const maxWidth = pageWidth - (margin * 2);

                // Header with company name
                pdf.setFontSize(18);
                pdf.setFont(undefined, 'bold');
                pdf.setTextColor(0, 86, 179); // Primary color
                pdf.text('AE2I ALGÉRIE', pageWidth / 2, yPos, { align: 'center' });
                yPos += 10;

                pdf.setFontSize(14);
                pdf.text('RÉSUMÉ DE CANDIDATURE', pageWidth / 2, yPos, { align: 'center' });
                yPos += 12;

                // Separator line
                pdf.setDrawColor(0, 86, 179);
                pdf.setLineWidth(0.5);
                pdf.line(margin, yPos, pageWidth - margin, yPos);
                yPos += 10;

                // Date and time of submission
                pdf.setFontSize(10);
                pdf.setFont(undefined, 'normal');
                pdf.setTextColor(100, 100, 100);
                const submissionDate = new Date(application.appliedAt);
                const formattedDate = submissionDate.toLocaleDateString('fr-FR', {
                    year: 'numeric', month: 'long', day: 'numeric'
                });
                const formattedTime = submissionDate.toLocaleTimeString('fr-FR');
                pdf.text(`Date de soumission: ${formattedDate} à ${formattedTime}`, margin, yPos);
                yPos += 8;
                pdf.text(`ID: ${application.id}`, margin, yPos);
                yPos += 12;

                // Function to add a section
                const addSection = (title, content) => {
                    if (yPos > pageHeight - 30) {
                        pdf.addPage();
                        yPos = 20;
                    }

                    pdf.setFontSize(11);
                    pdf.setFont(undefined, 'bold');
                    pdf.setTextColor(0, 86, 179);
                    pdf.text(title, margin, yPos);
                    yPos += lineHeight;

                    pdf.setFontSize(10);
                    pdf.setFont(undefined, 'normal');
                    pdf.setTextColor(50, 50, 50);

                    if (Array.isArray(content)) {
                        content.forEach(line => {
                            if (yPos > pageHeight - 20) {
                                pdf.addPage();
                                yPos = 20;
                            }
                            pdf.text(line, margin + 3, yPos);
                            yPos += lineHeight;
                        });
                    } else {
                        const lines = pdf.splitTextToSize(content, maxWidth - 5);
                        lines.forEach(line => {
                            if (yPos > pageHeight - 20) {
                                pdf.addPage();
                                yPos = 20;
                            }
                            pdf.text(line, margin + 3, yPos);
                            yPos += lineHeight;
                        });
                    }
                    yPos += 3;
                };

                // Application details
                addSection('POSTE VISÉ', job.title.fr);
                addSection('INFORMATIONS PERSONNELLES', [
                    `Nom complet: ${application.applicantName}`,
                    `Prénom: ${application.applicantFirstName}`,
                    `Nom: ${application.applicantLastName}`,
                    `Email: ${application.applicantEmail}`,
                    `Téléphone: ${application.applicantPhone}`,
                    `Âge: ${application.applicantAge} ans`,
                    `Genre: ${application.gender === 'male' ? 'Homme' : application.gender === 'female' ? 'Femme' : 'Autre'}`
                ]);

                addSection('FORMATION', [
                    `Diplôme principal: ${application.applicantDiploma}`,
                    application.applicantDiploma2 ? `Diplôme secondaire: ${application.applicantDiploma2}` : ''
                ].filter(Boolean));

                addSection('EXPÉRIENCE PROFESSIONNELLE', [
                    `Années d\'expérience: ${application.yearsExperience} ans`,
                    `Actuellement en poste: ${application.currentlyEmployed === 'yes' ? 'Oui' : 'Non'}`,
                    `Date de dernier emploi: ${application.lastJobDate}`,
                    `Type de dernier contrat: ${application.lastContractType === 'cdi' ? 'CDI' : application.lastContractType === 'cdd' ? 'CDD' : 'Autre'}`
                ]);

                addSection('DISPONIBILITÉ', [
                    `En préavis: ${application.inNotice ? 'Oui' : 'Non'}`,
                    application.inNotice && application.noticeDays ? `Durée du préavis: ${application.noticeDays} jours` : '',
                    application.inNotice && application.noticeDaysNegotiable ? `Préavis négociable: Oui` : ''
                ].filter(Boolean));

                addSection('PERMIS DE CONDUIRE & VÉHICULE', [
                    `Permis de conduire: ${application.hasDriverLicense === 'yes' ? 'Oui' : 'Non'}`,
                    application.hasDriverLicense === 'yes' && application.licenseTypes.length > 0 ?
                        `Types de permis: ${application.licenseTypes.join(', ')}` : '',
                    application.hasVehicle ? `Véhicule personnel: ${application.hasVehicle === 'yes' ? 'Oui' : 'Non'}` : ''
                ].filter(Boolean));

                addSection('SALAIRE SOUHAITÉ', `${application.expectedSalary} DA`);

                addSection('POSTE SOUHAITÉ', application.applicantPosition || 'Non spécifié');

                // Footer
                yPos = pageHeight - 15;
                pdf.setFontSize(8);
                pdf.setTextColor(150, 150, 150);
                pdf.text(`Document généré automatiquement le ${new Date().toLocaleDateString('fr-FR')}`, pageWidth / 2, yPos, { align: 'center' });
                pdf.text('AE2I Algérie - Confidentiel', pageWidth / 2, yPos + 5, { align: 'center' });

                // Convert to base64
                const pdfBase64 = pdf.output('dataurlstring');

                return {
                    content: pdfBase64,
                    filename: `Resume_${application.applicantLastName}_${application.id}.pdf`,
                    generatedAt: new Date().toISOString()
                };
            } catch (error) {
                console.error('Error generating PDF summary:', error);
                return null;
            }
        }

        /* ADD: pdf-link-with-cv - Function to download PDF summary */
        function downloadPdfSummary(applicationId) {
            const application = siteData.cvDatabase.find(cv => cv.id === applicationId);
            if (!application || !application.pdfSummary) {
                showNotification('PDF résumé non disponible', 'error');
                return;
            }

            try {
                const link = document.createElement('a');
                link.href = application.pdfSummary.content;
                link.download = application.pdfSummary.filename;
                link.click();

                showNotification('Téléchargement du PDF résumé...', 'success');
                logActivity(currentUser.username, `Téléchargement PDF résumé: ${application.applicantName}`);
            } catch (error) {
                console.error('Error downloading PDF summary:', error);
                showNotification('Erreur lors du téléchargement', 'error');
            }
        }

        function openRecruteurJobModal() {
            currentEditingIndex = -1;
            currentEditingType = 'job';
            openModal('jobModal');
        }

        function editRecruteurJob(jobId) {
            const jobIndex = siteData.jobs.findIndex(j => j.id === jobId && j.createdBy === currentUser.username);
            if (jobIndex !== -1) {
                editJob(jobIndex);
            }
        }

        function toggleRecruteurJob(jobId) {
            const jobIndex = siteData.jobs.findIndex(j => j.id === jobId && j.createdBy === currentUser.username);
            if (jobIndex !== -1) {
                toggleJob(jobIndex);
                renderRecruteurContent();
            }
        }

        function deleteRecruteurJob(jobId) {
            const jobIndex = siteData.jobs.findIndex(j => j.id === jobId && j.createdBy === currentUser.username);
            if (jobIndex !== -1) {
                deleteJob(jobIndex);
                renderRecruteurContent();
            }
        }
    </script>

    <!-- ===== SCRIPT SPÉCIFIQUE LECTEUR DASHBOARD (NOUVEAU RÔLE) ===== -->
    <script id="lecteur-script">
        function executeLecteurScript() {
            console.log('👁️ Executing lecteur dashboard script');
            renderLecteurContent();
            setupLecteurInteractions();
        }

        function renderLecteurContent() {
            // Update lecteur stats (lecture seule)
            const totalJobs = siteData.jobs.filter(j => j.active).length;
            const totalApplications = siteData.cvDatabase ? siteData.cvDatabase.length : 0;
            const processedApplications = siteData.cvDatabase ? siteData.cvDatabase.filter(cv => cv.processed).length : 0;
            const pendingApplications = totalApplications - processedApplications;

            document.getElementById('lecteurTotalJobs').textContent = totalJobs;
            document.getElementById('lecteurTotalApplications').textContent = totalApplications;
            document.getElementById('lecteurProcessed').textContent = processedApplications;
            document.getElementById('lecteurPending').textContent = pendingApplications;

            // Render CV database (read-only)
            renderLecteurCvDatabase();
        }

        /* FIX: uniformize-filter-keys */
        /* ADD: apply-lecteur-filters */
        function applyLecteurFilters() {
            renderLecteurCvDatabase();
        }

        function getLecteurFilteredCandidates() {
            let candidates = siteData.cvDatabase || [];

            // Barre de recherche
            const searchTerm = document.getElementById('lecteurSearchBar')?.value.toLowerCase() || '';
            if (searchTerm) {
                candidates = candidates.filter(cv =>
                    cv.applicantName?.toLowerCase().includes(searchTerm) ||
                    cv.jobTitle?.toLowerCase().includes(searchTerm) ||
                    cv.diplome?.toLowerCase().includes(searchTerm) ||
                    cv.domaine?.toLowerCase().includes(searchTerm)
                );
            }

            // Filtre Statut
            const status = document.getElementById('lecteurStatusFilter')?.value || 'all';
            if (status === 'pending') candidates = candidates.filter(cv => !cv.processed);
            else if (status === 'processed') candidates = candidates.filter(cv => cv.processed);

            // Filtre Domaine (multi-sélection)
            const domaines = Array.from(document.getElementById('lecteurDomaineFilter')?.selectedOptions || []).map(o => o.value);
            if (domaines.length > 0) {
                candidates = candidates.filter(cv => cv.domaine && domaines.some(d => cv.domaine.toLowerCase().includes(d.toLowerCase())));
            }

            // Filtre Diplôme (multi-sélection)
            const diplomes = Array.from(document.getElementById('lecteurDiplomeFilter')?.selectedOptions || []).map(o => o.value);
            if (diplomes.length > 0) {
                candidates = candidates.filter(cv => cv.applicantDiploma && diplomes.some(d => cv.applicantDiploma.toLowerCase().includes(d.toLowerCase())));
            }

            // Filtre Permis (multi-sélection)
            const permis = Array.from(document.getElementById('lecteurPermisFilter')?.selectedOptions || []).map(o => o.value);
            if (permis.length > 0) {
                candidates = candidates.filter(cv => cv.licenseTypes && cv.licenseTypes.some(lt => permis.includes(lt)));
            }

            // Filtre Wilaya (multi-sélection)
            const wilayas = Array.from(document.getElementById('lecteurWilayaFilter')?.selectedOptions || []).map(o => o.value);
            if (wilayas.length > 0) {
                candidates = candidates.filter(cv => cv.wilaya && wilayas.includes(cv.wilaya));
            }

            // Filtre Âge
            const ageMin = parseInt(document.getElementById('lecteurAgeMin')?.value) || 0;
            const ageMax = parseInt(document.getElementById('lecteurAgeMax')?.value) || 999;
            if (ageMin > 0 || ageMax < 999) {
                candidates = candidates.filter(cv => {
                    const age = parseInt(cv.applicantAge) || 0;
                    return age >= ageMin && age <= ageMax;
                });
            }

            // Filtre Préavis
            const preavis = document.getElementById('lecteurPreavisFilter')?.value || 'all';
            if (preavis !== 'all') {
                candidates = candidates.filter(cv => cv.preavis === preavis);
            }

            // Filtre Expérience
            const expMin = parseInt(document.getElementById('lecteurExperienceMin')?.value) || 0;
            const expMax = parseInt(document.getElementById('lecteurExperienceMax')?.value) || 999;
            if (expMin > 0 || expMax < 999) {
                candidates = candidates.filter(cv => {
                    const exp = parseInt(cv.yearsExperience) || 0;
                    return exp >= expMin && exp <= expMax;
                });
            }

            // Update count
            const countElement = document.getElementById('lecteurFilterCountNumber');
            if (countElement) countElement.textContent = candidates.length;

            return candidates;
        }

        function resetLecteurFilters() {
            document.getElementById('lecteurSearchBar').value = '';
            document.getElementById('lecteurStatusFilter').value = 'all';
            document.getElementById('lecteurDomaineFilter').selectedIndex = -1;
            document.getElementById('lecteurDiplomeFilter').selectedIndex = -1;
            document.getElementById('lecteurPermisFilter').selectedIndex = -1;
            document.getElementById('lecteurWilayaFilter').selectedIndex = -1;
            document.getElementById('lecteurAgeMin').value = '';
            document.getElementById('lecteurAgeMax').value = '';
            document.getElementById('lecteurPreavisFilter').value = 'all';
            document.getElementById('lecteurExperienceMin').value = '';
            document.getElementById('lecteurExperienceMax').value = '';
            applyLecteurFilters();
        }

        function exportLecteurFilteredCandidates(format) {
            const filtered = getLecteurFilteredCandidates();
            if (filtered.length === 0) {
                showNotification('Aucune candidature à exporter', 'warning');
                return;
            }

            if (format === 'pdf') {
                exportCandidatesPDF(filtered, 'Lecteur');
            } else if (format === 'excel') {
                exportCandidatesExcel(filtered, 'Lecteur');
            }
        }

        function renderLecteurCvDatabase() {
            const container = document.getElementById('lecteurCvDatabase');
            if (container) {
                container.innerHTML = '';

                // Use filtered candidates from getLecteurFilteredCandidates()
                const filteredApplications = getLecteurFilteredCandidates();

                if (filteredApplications && filteredApplications.length > 0) {
                    filteredApplications.forEach(cv => {
                        const cvItem = document.createElement('div');
                        cvItem.style.cssText = `
                            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%); 
                            border: 2px solid var(--border); 
                            border-radius: var(--border-radius-lg); 
                            padding: 20px; 
                            margin-bottom: 16px;
                            transition: var(--transition);
                            backdrop-filter: blur(5px);
                            box-shadow: var(--shadow-md);
                        `;
                        cvItem.innerHTML = `
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                <h4 style="font-weight: 800; font-size: var(--font-size-lg); display: flex; align-items: center; gap: 12px;">
                                    <i class="fas fa-user-tie" style="color: var(--info);"></i>
                                    ${cv.applicantName}
                                </h4>
                                <span class="status-badge ${cv.processed ? 'status-processed' : 'status-pending'}">
                                    <i class="fas fa-${cv.processed ? 'check' : 'clock'}"></i>
                                    ${cv.processed ? 'Traité' : 'En attente'}
                                </span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(800px, 1fr)); gap: 12px; margin-bottom: 16px;">
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Poste:</strong><br>
                                    <span style="color: var(--primary); font-weight: 600;">${cv.jobTitle}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Email:</strong><br>
                                    <span style="color: var(--text-light);">${cv.applicantEmail}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Téléphone:</strong><br>
                                    <span style="color: var(--text-light);">${cv.applicantPhone || 'Non renseigné'}</span>
                                </div>
                                <div style="background: var(--bg-alt); padding: 12px; border-radius: var(--border-radius);">
                                    <strong>Date:</strong><br>
                                    <span style="color: var(--text-light);">${new Date(cv.appliedAt).toLocaleDateString()}</span>
                                </div>
                            </div>
                            ${cv.expectedSalary ? `
                                <div style="background: rgba(29, 53, 87, 0.08); padding: 16px; border-radius: var(--border-radius-lg); margin-bottom: 16px; border-left: 4px solid var(--info);">
                                    <strong style="color: var(--info);">Informations candidat:</strong>
                                    <div style="margin-top: 8px; display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 8px; font-size: var(--font-size-sm);">
                                        <div><strong>Salaire souhaité:</strong> ${cv.expectedSalary} DA</div>
                                        <div><strong>En poste:</strong> ${cv.currentlyEmployed === 'yes' ? 'Oui' : 'Non'}</div>
                                        <div><strong>Dernier poste:</strong> ${cv.lastJobDate}</div>
                                        <div><strong>Type contrat:</strong> ${cv.lastContractType}</div>
                                    </div>
                                </div>
                            ` : ''}
                            <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                                <!-- ADD: auto-generate-pdf - PDF Summary download button for Lecteur dashboard -->
                                <button class="btn btn-sm btn-accent functional-btn" onclick="downloadApplicationPdfSummary(siteData.cvDatabase.find(c => c.id === ${cv.id}))" style="background: linear-gradient(135deg, #00a896 0%, #028090 100%); color: white; border: none;">
                                    <i class="fas fa-file-pdf"></i> Résumé PDF
                                </button>
                                <button class="btn btn-sm btn-outline functional-btn" onclick="previewCV(${cv.id})">
                                    <i class="fas fa-eye"></i> Consulter CV
                                </button>
                                <button class="btn btn-sm btn-warning functional-btn" onclick="downloadCV(${cv.id})">
                                    <i class="fas fa-download"></i> Télécharger CV
                                </button>
                                <div style="background: rgba(233, 196, 106, 0.1); padding: 8px 12px; border-radius: var(--border-radius-sm); font-size: var(--font-size-xs); color: var(--warning); font-weight: 600;">
                                    <i class="fas fa-lock"></i> Accès lecture seule
                                </div>
                            </div>
                        `;
                        
                        cvItem.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-3px)';
                            this.style.boxShadow = 'var(--shadow-lg)';
                            this.style.borderColor = 'var(--info)';
                        });
                        
                        cvItem.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = 'var(--shadow-md)';
                            this.style.borderColor = 'var(--border)';
                        });
                        
                        container.appendChild(cvItem);
                    });

                    if (filteredApplications.length === 0) {
                        container.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">Aucun CV trouvé</p>';
                    }
                } else {
                    container.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 40px; background: var(--bg-alt); border-radius: var(--border-radius-lg);">Aucun CV disponible</p>';
                }
            }
        }

        function setupLecteurInteractions() {
            // Update user info
            document.getElementById('lecteurCurrentUser').textContent = currentUser.username;
            
            // Setup candidature filter
            const candidatureFilter = document.getElementById('lecteurCandidatureFilter');
            if (candidatureFilter) {
                candidatureFilter.addEventListener('change', function() {
                    renderLecteurCvDatabase();
                });
            }
        }

        function exportLecteurCVs() {
            const filter = document.getElementById('lecteurCandidatureFilter') ? document.getElementById('lecteurCandidatureFilter').value : 'all';
            let filteredApplications = siteData.cvDatabase || [];
            
            if (filter === 'pending') {
                filteredApplications = filteredApplications.filter(cv => !cv.processed);
            } else if (filter === 'processed') {
                filteredApplications = filteredApplications.filter(cv => cv.processed);
            }
            
            if (filteredApplications.length === 0) {
                showNotification('Aucun CV à exporter', 'warning');
                return;
            }

            let csv = 'Nom,Email,Téléphone,Poste,Date candidature,Statut,Salaire souhaité,En poste,Dernier poste,Type contrat\n';
            filteredApplications.forEach(cv => {
                csv += `"${cv.applicantName}","${cv.applicantEmail}","${cv.applicantPhone || ''}","${cv.jobTitle}","${new Date(cv.appliedAt).toLocaleDateString()}","${cv.processed ? 'Traité' : 'En attente'}","${cv.expectedSalary || ''}","${cv.currentlyEmployed || ''}","${cv.lastJobDate || ''}","${cv.lastContractType || ''}"\n`;
            });
            
            const csvBlob = new Blob([csv], { type: 'text/csv' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(csvBlob);
            link.download = `ae2i_cv_lecteur_${filter}_${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            showNotification(`${filteredApplications.length} CV exportés (${filter})`, 'success');
            logActivity(currentUser.username, `Export CV lecteur: ${filteredApplications.length} CV (${filter})`);
        }
    </script>

    <!-- ADD: auto-generate-pdf - PDF Summary Generation Function -->
    <script id="pdf-generation-script">
        /* ADD: auto-generate-pdf - Generate a text-based PDF summary of application data */
        function generateApplicationPdfSummary(application, job) {
            const lang = siteData.language || 'fr';
            const title = lang === 'en' ? 'Application Summary' : 'Résumé de Candidature';
            const date = new Date(application.appliedAt).toLocaleDateString(lang === 'en' ? 'en-US' : 'fr-FR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });

            // Build PDF content as structured data
            const pdfContent = {
                title: title,
                generatedAt: date,
                sections: [
                    {
                        heading: lang === 'en' ? 'Personal Information' : 'Informations Personnelles',
                        fields: [
                            { label: lang === 'en' ? 'Last Name' : 'Nom', value: application.applicantLastName },
                            { label: lang === 'en' ? 'First Name' : 'Prénom', value: application.applicantFirstName },
                            { label: 'Email', value: application.applicantEmail },
                            { label: lang === 'en' ? 'Phone' : 'Téléphone', value: application.applicantPhone },
                            { label: lang === 'en' ? 'Age' : 'Âge', value: application.applicantAge },
                            { label: lang === 'en' ? 'Gender' : 'Genre', value: application.gender === 'male' ? (lang === 'en' ? 'Male' : 'Homme') : (lang === 'en' ? 'Female' : 'Femme') }
                        ]
                    },
                    {
                        heading: lang === 'en' ? 'Education & Experience' : 'Formation & Expérience',
                        fields: [
                            { label: lang === 'en' ? 'Diploma' : 'Diplôme', value: application.applicantDiploma },
                            { label: lang === 'en' ? 'Specialization' : 'Spécialité', value: application.applicantDiploma2 || (lang === 'en' ? 'N/A' : 'N/D') },
                            { label: lang === 'en' ? 'Years of Experience' : 'Années d\'expérience', value: application.yearsExperience },
                            { label: lang === 'en' ? 'Current Position' : 'Poste actuel', value: application.applicantPosition || (lang === 'en' ? 'N/A' : 'N/D') }
                        ]
                    },
                    {
                        heading: lang === 'en' ? 'Employment Status' : 'Statut Professionnel',
                        fields: [
                            { label: lang === 'en' ? 'Currently Employed' : 'Actuellement en poste', value: application.currentlyEmployed === 'yes' ? (lang === 'en' ? 'Yes' : 'Oui') : 'Non' },
                            { label: lang === 'en' ? 'Last Job Date' : 'Dernier poste', value: application.lastJobDate },
                            { label: lang === 'en' ? 'Last Contract Type' : 'Type de dernier contrat', value: application.lastContractType.toUpperCase() },
                            { label: lang === 'en' ? 'In Notice Period' : 'En préavis', value: application.inNotice ? (lang === 'en' ? 'Yes' : 'Oui') : 'Non' }
                        ]
                    }
                ]
            };

            // Add notice period details if applicable
            if (application.inNotice && application.noticeDays) {
                pdfContent.sections[2].fields.push({
                    label: lang === 'en' ? 'Notice Period (days)' : 'Préavis (jours)',
                    value: application.noticeDaysNegotiable ?
                        `${application.noticeDays} (${lang === 'en' ? 'Negotiable' : 'Négociable'})` :
                        application.noticeDays
                });
            }

            // Add driver license section
            pdfContent.sections.push({
                heading: lang === 'en' ? 'Driver License & Vehicle' : 'Permis de Conduire & Véhicule',
                fields: [
                    { label: lang === 'en' ? 'Has Driver License' : 'Possède un permis', value: application.hasDriverLicense === 'yes' ? (lang === 'en' ? 'Yes' : 'Oui') : 'Non' }
                ]
            });

            if (application.hasDriverLicense === 'yes') {
                pdfContent.sections[3].fields.push(
                    { label: lang === 'en' ? 'License Types' : 'Types de permis', value: application.licenseTypes && application.licenseTypes.length > 0 ? application.licenseTypes.join(', ') : (lang === 'en' ? 'N/A' : 'N/D') },
                    { label: lang === 'en' ? 'Has Vehicle' : 'Possède un véhicule', value: application.hasVehicle === 'yes' ? (lang === 'en' ? 'Yes' : 'Oui') : application.hasVehicle === 'no' ? 'Non' : (lang === 'en' ? 'N/A' : 'N/D') }
                );
            }

            // Add salary expectation
            pdfContent.sections.push({
                heading: lang === 'en' ? 'Compensation' : 'Rémunération',
                fields: [
                    { label: lang === 'en' ? 'Expected Salary (DA)' : 'Salaire souhaité (DA)', value: Number(application.expectedSalary).toLocaleString() }
                ]
            });

            // Add job information
            pdfContent.sections.push({
                heading: lang === 'en' ? 'Position Applied' : 'Poste Visé',
                fields: [
                    { label: lang === 'en' ? 'Job Title' : 'Titre du poste', value: job.title[lang] || job.title.fr },
                    { label: lang === 'en' ? 'Contract Type' : 'Type de contrat', value: job.type.toUpperCase() },
                    { label: lang === 'en' ? 'Location' : 'Localisation', value: job.location }
                ]
            });

            return pdfContent;
        }

        /* ADD: auto-generate-pdf - Download PDF summary as formatted text file */
        function downloadApplicationPdfSummary(application) {
            if (!application.pdfSummary) {
                showNotification('PDF résumé non disponible', 'warning');
                return;
            }

            const pdf = application.pdfSummary;
            const lang = siteData.language || 'fr';
            let textContent = `${pdf.title}\n`;
            textContent += `${'='.repeat(pdf.title.length)}\n\n`;
            textContent += `${lang === 'en' ? 'Generated on' : 'Généré le'}: ${pdf.generatedAt}\n`;
            textContent += `${lang === 'en' ? 'Candidate' : 'Candidat'}: ${application.applicantName}\n\n`;

            pdf.sections.forEach(section => {
                textContent += `\n${section.heading}\n`;
                textContent += `${'-'.repeat(section.heading.length)}\n`;
                section.fields.forEach(field => {
                    textContent += `${field.label}: ${field.value}\n`;
                });
            });

            textContent += `\n\n${lang === 'en' ? 'CV File' : 'Fichier CV'}: ${application.applicantCV.name}\n`;
            textContent += `\n${lang === 'en' ? 'Document generated by AE2I Recruitment System' : 'Document généré par le Système de Recrutement AE2I'}`;

            /* FIX: pdf-link-with-cv - Use real PDF instead of TXT */
            if (application.pdfSummary.content) {
                const link = document.createElement('a');
                link.href = application.pdfSummary.content;
                link.download = application.pdfSummary.filename;
                link.click();
                showNotification('Téléchargement du PDF résumé...', 'success');
            } else {
                // Fallback to TXT if PDF not available
                const blob = new Blob([textContent], { type: 'text/plain;charset=utf-8' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `Resume_${application.applicantLastName}_${application.applicantFirstName}_${application.id}.txt`;
                link.click();
                showNotification('PDF non disponible, téléchargement TXT', 'warning');
            }

            logActivity(currentUser.username, `Téléchargement PDF résumé: ${application.applicantName}`);
        }
    </script>

    <!-- ===== SCRIPT APPLICATION FORM AVEC NOUVELLES QUESTIONS ===== -->
    <script id="application-script">
        // Setup application form avec nouvelles questions obligatoires
        document.addEventListener('DOMContentLoaded', function() {
            const applicationForm = document.getElementById('applicationForm');
            const closeApplicationModal = document.getElementById('closeApplicationModal');

            /* FIX: Setup driver license radio buttons event listeners */
            const licenseRadios = document.querySelectorAll('input[name="hasDriverLicense"]');
            console.log('Setting up driver license radio buttons, found:', licenseRadios.length);

            licenseRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    console.log('Radio changed, value:', this.value);
                    if (window.toggleDriverLicenseFields) {
                        window.toggleDriverLicenseFields(this.value);
                    } else {
                        console.error('toggleDriverLicenseFields function not found!');
                    }
                });
            });

            if (closeApplicationModal) {
                closeApplicationModal.addEventListener('click', function() {
                    closeModal('applicationModal');
                });
            }

            /* FIX: prevent-double-submit - Enhanced form submission handler with double-submit prevention */
            let isSubmittingApplication = false;

            if (applicationForm) {
                applicationForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    /* FIX: prevent-double-submit - Check if already processing */
                    if (isSubmittingApplication) {
                        console.log('Form submission already in progress...');
                        return;
                    }

                    // Vérifier le consentement
                    if (!checkConsentRequired('forms')) {
                        document.getElementById('consentRequired').style.display = 'block';
                        showNotification('Consentement requis pour soumettre une candidature', 'warning');
                        return;
                    }

                    const jobId = parseInt(this.dataset.jobId);
                    const job = siteData.jobs.find(j => j.id == jobId);

                    if (!job) {
                        showNotification('Erreur: Offre non trouvée', 'error');
                        return;
                    }

                    /* ADD: candidature-validation - Collect all required fields including new ones */
                    const applicantLastName = document.getElementById('applicantLastName').value;
                    const applicantFirstName = document.getElementById('applicantFirstName').value;
                    const applicantName = `${applicantFirstName} ${applicantLastName}`;
                    const applicantEmail = document.getElementById('applicantEmail').value;
                    const applicantPhone = document.getElementById('applicantPhone').value;
                    const applicantPosition = document.getElementById('applicantPosition').value;
                    const applicantCV = document.getElementById('applicantCV').files[0];
                    const applicantDiploma = document.getElementById('applicantDiploma').value;
                    const applicantAge = document.getElementById('applicantAge').value;
                    const applicantDiploma2 = document.getElementById('applicantDiploma2').value;
                    const expectedSalary = document.getElementById('expectedSalary').value;
                    const yearsExperience = document.getElementById('yearsExperience').value;
                    const currentlyEmployed = document.querySelector('input[name="currentlyEmployed"]:checked')?.value;
                    const lastJobDate = document.getElementById('lastJobDate').value;
                    const lastContractType = document.querySelector('input[name="lastContractType"]:checked')?.value;
                    const hasDriverLicense = document.querySelector('input[name="hasDriverLicense"]:checked')?.value;
                    const gender = document.querySelector('input[name="gender"]:checked')?.value;

                    /* ADD: preavis-negociable-visual - Collect notice period data */
                    const inNotice = document.getElementById('inNotice').checked;
                    const noticeDays = document.getElementById('noticeDays').value;
                    const noticeDaysNegotiable = document.getElementById('noticeDaysNegotiable').checked;

                    /* ADD: candidature-validation - Collect driver license details */
                    let licenseTypes = [];
                    if (hasDriverLicense === 'yes') {
                        document.querySelectorAll('input[name="licenseTypes"]:checked').forEach(cb => {
                            licenseTypes.push(cb.value);
                        });
                    }
                    const hasVehicle = document.querySelector('input[name="hasVehicle"]:checked')?.value;

                    // ADD: candidature-validation - Comprehensive validation of all required fields
                    if (!applicantFirstName || !applicantLastName || !applicantEmail || !applicantPhone || !applicantCV ||
                        !applicantDiploma || !applicantAge || !expectedSalary || !yearsExperience ||
                        !currentlyEmployed || !lastJobDate || !lastContractType || !hasDriverLicense || !gender) {
                        showNotification('Veuillez remplir tous les champs obligatoires (*)', 'error');
                        return;
                    }
                    
                    /* FIX: prevent-double-submit - Set processing flag and show loading message */
                    isSubmittingApplication = true;
                    const submitBtn = applicationForm.querySelector('button[type="submit"]');
                    const originalBtnText = submitBtn.innerHTML;
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span data-fr="Envoi en cours..." data-en="Submitting..." data-ar="Envoi en cours...">Envoi en cours...</span>';

                    // Lire le fichier CV
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        /* ADD: candidature-save-pdf - Complete application object with all fields */
                        const application = {
                            id: Date.now(),
                            jobId: jobId,
                            jobTitle: job.title.fr,
                            applicantName: applicantName,
                            applicantFirstName: applicantFirstName,
                            applicantLastName: applicantLastName,
                            applicantEmail: applicantEmail,
                            applicantPhone: applicantPhone,
                            applicantPosition: applicantPosition,
                            applicantDiploma: applicantDiploma,
                            applicantDiploma2: applicantDiploma2,
                            applicantAge: applicantAge,
                            gender: gender,
                            applicantCV: {
                                name: applicantCV.name,
                                size: applicantCV.size,
                                type: applicantCV.type,
                                content: e.target.result
                            },
                            expectedSalary: expectedSalary,
                            yearsExperience: yearsExperience,
                            currentlyEmployed: currentlyEmployed,
                            inNotice: inNotice,
                            noticeDays: noticeDays || null,
                            noticeDaysNegotiable: noticeDaysNegotiable,
                            lastJobDate: lastJobDate,
                            lastContractType: lastContractType,
                            hasDriverLicense: hasDriverLicense,
                            licenseTypes: licenseTypes,
                            hasVehicle: hasVehicle || null,
                            appliedAt: new Date().toISOString(),
                            processed: false,
                            consentGiven: consentStatus.accepted,
                            pdfSummary: null  // Will be generated next
                        };
                        
                        /* ADD: auto-generate-pdf - Generate PDF summary automatically */
                        application.pdfSummary = generateApplicationPdfSummary(application, job);

                        if (!siteData.cvDatabase) siteData.cvDatabase = [];
                        siteData.cvDatabase.push(application);

                        if (saveSiteData()) {
                            const successMsg = siteData.language === 'en' ?
                                `Thank you ${applicantName}! Your application has been submitted successfully.` :
                                `Merci ${applicantName}! Votre candidature a été soumise avec succès.`;

                            showNotification(successMsg, 'success');

                            // Notification pour admin et recruteurs connectés
                            if (currentUser.role === 'admin' || currentUser.role === 'recruiter') {
                                setTimeout(() => {
                                    showCandidateNotification(applicantName, job.title.fr, application.id);
                                }, 2000);
                            }

                            applicationForm.reset();
                            closeModal('applicationModal');

                            logActivity('applicant', `Candidature soumise pour ${job.title.fr} par ${applicantName}`);

                            /* FIX: prevent-double-submit - Reset processing flag and button */
                            isSubmittingApplication = false;
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = originalBtnText;
                        } else {
                            /* FIX: prevent-double-submit - Reset on error */
                            isSubmittingApplication = false;
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = originalBtnText;
                            showNotification('Erreur lors de la sauvegarde', 'error');
                        }
                    };

                    reader.onerror = function() {
                        /* FIX: prevent-double-submit - Reset on file read error */
                        isSubmittingApplication = false;
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = originalBtnText;
                        showNotification('Erreur lors de la lecture du fichier CV', 'error');
                    };

                    reader.readAsDataURL(applicantCV);
                });
            }
        });

        function setupLecteurInteractions() {
            // Update user info
            document.getElementById('lecteurCurrentUser').textContent = currentUser.username;
            
            // Setup candidature filter
            const candidatureFilter = document.getElementById('lecteurCandidatureFilter');
            if (candidatureFilter) {
                candidatureFilter.addEventListener('change', function() {
                    renderLecteurCvDatabase();
                });
            }
        }
    </script>

    <!-- ===== SCRIPT PRINCIPAL D'INITIALISATION ULTRA-AMÉLIORÉ ===== -->
    <script id="main-script">
        // Initialize website
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Initializing AE2I Ultra-Professional Website...');
            
            // Load saved data
            loadSiteData();
            
            // Initialize all systems
            initializeWebsite();
            
            // Setup page-specific functionality
            executeHomeScript();
            
            // Setup form handlers
            setupApplicationForm();
            
            // Setup file uploads
            setupFileUploads();
            
            // Hide loading screen
            /* FIX: remove-loading-screen */
            
            console.log('✅ Website fully initialized with enhanced admin dashboard, prism effects, and ultra-professional design');
        });

        function loadSiteData() {
            try {
                const savedData = localStorage.getItem('ae2i_site_data');
                if (savedData) {
                    const parsed = JSON.parse(savedData);
                    siteData = { ...siteData, ...parsed };
                    console.log('✅ Site data loaded successfully');
                }
                
                // Charger le consentement
                const savedConsent = localStorage.getItem('ae2i_consent');
                if (savedConsent) {
                    consentStatus = JSON.parse(savedConsent);
                }
            } catch (error) {
                console.error('❌ Error loading site data:', error);
            }
        }

        function initializeWebsite() {
            updateTheme();
            updateLanguage();
            renderFooterServices();
            updateContactInfo();
            applyCustomSettings();
            updateSectionVisibility();
        }

        function updateTheme() {
            const savedTheme = localStorage.getItem('ae2i_theme') || siteData.theme;
            if (savedTheme === 'dark' || siteData.settings.darkMode) {
                document.body.classList.add('dark-mode');
                document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        function updateLanguage() {
            siteData.language = siteData.settings.defaultLanguage || siteData.language || 'fr';
            
            // Set HTML lang and dir attributes for the current language
            document.documentElement.lang = siteData.language;
            document.documentElement.dir = siteData.language === 'ar' ? 'rtl' : 'ltr';

            // Mettre à jour les boutons de langue (FR/EN/AR)
            document.querySelectorAll('.language-btn').forEach(btn => {
                const lang = btn.getAttribute('data-lang');
                
                btn.classList.remove('active');
                btn.setAttribute('aria-pressed', 'false');
                if (lang === siteData.language) {
                    btn.classList.add('active');
                    btn.setAttribute('aria-pressed', 'true');
                }
            });
        }

        function updateSectionVisibility() {
            // Masquer les sections désactivées dans la navigation
            if (siteData.settings.sectionsEnabled) {
                Object.keys(siteData.settings.sectionsEnabled).forEach(section => {
                    const navLink = document.querySelector(`a[data-page="${section}"]`);
                    if (navLink) {
                        const listItem = navLink.parentElement;
                        if (siteData.settings.sectionsEnabled[section]) {
                            listItem.style.display = 'block';
                        } else {
                            listItem.style.display = 'none';
                        }
                    }
                });
            }
        }

        function applyCustomSettings() {
            // Appliquer les couleurs personnalisées et toutes les variations
            if (siteData.settings.primaryColor) {
                const primary = siteData.settings.primaryColor;
                document.documentElement.style.setProperty('--primary', primary);
                document.documentElement.style.setProperty('--primary-light', lightenColor(primary, 10));
                document.documentElement.style.setProperty('--primary-dark', darkenColor(primary, 10));
                document.documentElement.style.setProperty('--accent', lightenColor(primary, 15));
                document.documentElement.style.setProperty('--accent-light', lightenColor(primary, 25));
                document.documentElement.style.setProperty('--accent-dark', darkenColor(primary, 5));
                document.documentElement.style.setProperty('--gradient-primary', `linear-gradient(135deg, ${primary} 0%, ${darkenColor(primary, 10)} 100%)`);
                document.documentElement.style.setProperty('--gradient-accent', `linear-gradient(135deg, ${lightenColor(primary, 15)} 0%, ${darkenColor(primary, 5)} 100%)`);
            }
            if (siteData.settings.secondaryColor) {
                const secondary = siteData.settings.secondaryColor;
                document.documentElement.style.setProperty('--secondary', secondary);
                document.documentElement.style.setProperty('--secondary-light', lightenColor(secondary, 10));
                document.documentElement.style.setProperty('--secondary-dark', darkenColor(secondary, 10));
                document.documentElement.style.setProperty('--gradient-secondary', `linear-gradient(135deg, ${secondary} 0%, ${darkenColor(secondary, 10)} 100%)`);
            }

            // Appliquer le logo personnalisé
            if (siteData.settings.logo) {
                document.getElementById('headerLogo').src = siteData.settings.logo;
                document.getElementById('footerLogo').src = siteData.settings.logo;
            }

            // Appliquer le titre personnalisé
            if (siteData.settings.title) {
                document.title = siteData.settings.title;
                document.getElementById('heroTitle').textContent = siteData.settings.title;
            }
            
            // Appliquer le slogan personnalisé
            if (siteData.settings.slogan) {
                document.getElementById('heroSubtitle').textContent = siteData.settings.slogan;
            }
            
            // Appliquer les fonds personnalisés
            if (siteData.heroBackground) {
                const heroBackground = document.getElementById('heroBackground');
                if (siteData.heroBackground.type === 'gradient') {
                    heroBackground.style.background = siteData.heroBackground.gradient;
                } else if (siteData.heroBackground.type === 'image') {
                    heroBackground.style.backgroundImage = `url(${siteData.heroBackground.url})`;
                    heroBackground.classList.add('has-image');
                } else if (siteData.heroBackground.type === 'video') {
                    const heroVideo = document.getElementById('heroVideo');
                    const heroVideoSource = document.getElementById('heroVideoSource');
                    if (heroVideo && heroVideoSource) {
                        heroVideoSource.src = siteData.heroBackground.url;
                        heroVideo.load();
                        heroVideo.style.display = 'block';
                        heroBackground.classList.add('has-video');
                    }
                }
            }
            
            if (siteData.footerBackground) {
                const footerBackground = document.getElementById('footerBackground');
                if (siteData.footerBackground.type === 'gradient') {
                    footerBackground.style.background = siteData.footerBackground.gradient;
                } else if (siteData.footerBackground.type === 'image') {
                    footerBackground.style.backgroundImage = `url(${siteData.footerBackground.url})`;
                    footerBackground.classList.add('has-image');
                } else if (siteData.footerBackground.type === 'video') {
                    const footerVideo = document.getElementById('footerVideo');
                    const footerVideoSource = document.getElementById('footerVideoSource');
                    if (footerVideo && footerVideoSource) {
                        footerVideoSource.src = siteData.footerBackground.url;
                        footerVideo.load();
                        footerVideo.style.display = 'block';
                        footerBackground.classList.add('has-video');
                    }
                }
            }
            
            // Vérifier le mode maintenance
            if (siteData.settings.maintenanceMode && currentUser.role !== 'admin') {
                document.body.classList.add('maintenance-mode');
                showPage('maintenance');
            }
        }

        function renderFooterServices() {
            const footerServices = document.getElementById('footerServices');
            if (footerServices) {
                footerServices.innerHTML = '';
                const activeServices = siteData.services.filter(s => s.active).slice(0, 4);
                
                activeServices.forEach(service => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="#services" class="nav-link functional-btn" data-page="services"><i class="fas fa-chevron-right"></i> ${service.title[siteData.language] || service.title.fr}</a>`;
                    footerServices.appendChild(li);
                });
            }
        }

        function updateContactInfo() {
            // Update contact information across the site
            if (siteData.settings.contact) {
                const contactElements = {
                    'contactPageAddress': siteData.settings.contact.address,
                    'contactPagePhone': siteData.settings.contact.phone,
                    'contactPageEmail': siteData.settings.contact.email,
                    'footerAddress': siteData.settings.contact.address,
                    'footerPhone': siteData.settings.contact.phone,
                    'footerEmail': siteData.settings.contact.email
                };

                Object.keys(contactElements).forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = contactElements[id];
                    }
                });
            }
        }

        function setupApplicationForm() {
            // Application form is handled in application-script
        }

        function setupFileUploads() {
            // File uploads are handled in admin-script
        }

        // Auto-save functionality OPÉRATIONNELLE
        setInterval(function() {
            if (currentUser.isLoggedIn) {
                saveSiteData();
            }
        }, 30000); // Auto-save every 30 seconds

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case '1':
                        e.preventDefault();
                        showPage('home');
                        break;
                    case '2':
                        e.preventDefault();
                        showPage('about');
                        break;
                    case '3':
                        e.preventDefault();
                        showPage('services');
                        break;
                    case '4':
                        e.preventDefault();
                        showPage('qualite');
                        break;
                    case '5':
                        e.preventDefault();
                        showPage('carriere');
                        break;
                    case '6':
                        e.preventDefault();
                        showPage('contact');
                        break;
                    case 's':
                        if (currentUser.isLoggedIn) {
                            e.preventDefault();
                            if (saveSiteData()) {
                                showNotification('✅ Données sauvegardées manuellement', 'success');
                            }
                        }
                        break;
                }
            }
        });

        // Performance monitoring
        window.addEventListener('load', function() {
            const loadTime = performance.now();
            logActivity('system', `Site chargé en ${loadTime.toFixed(2)}ms`);
            
            // Update performance display
            if (document.getElementById('loadTime')) {
                document.getElementById('loadTime').textContent = `${loadTime.toFixed(2)}ms`;
            }
        });

        // Error handling
        window.addEventListener('error', function(e) {
            console.error('JavaScript Error:', e.error);
            logActivity('system', `Erreur: ${e.message}`);
            
            // Update error count
            if (document.getElementById('errorCount')) {
                const currentCount = parseInt(document.getElementById('errorCount').textContent) || 0;
                document.getElementById('errorCount').textContent = currentCount + 1;
            }
        });

        // Memory usage monitoring
        if (performance.memory) {
            setInterval(() => {
                const memoryMB = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                if (document.getElementById('memoryUsage')) {
                    document.getElementById('memoryUsage').textContent = `${memoryMB} MB`;
                }
            }, 5000);
        }

        // Cache size monitoring
        function updateCacheSize() {
            let totalSize = 0;
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    totalSize += localStorage[key].length;
                }
            }
            
            const sizeKB = (totalSize / 1024).toFixed(2);
            if (document.getElementById('cacheSize')) {
                document.getElementById('cacheSize').textContent = `${sizeKB} KB`;
            }
        }

        // Update cache size every 1000 seconds
        setInterval(updateCacheSize, 100000);

        // Expose all functions globally for onclick handlers
        window.editService = editService;
        window.toggleService = toggleService;
        window.deleteService = deleteService;
        window.editClient = editClient;
        window.toggleClient = toggleClient;
        window.deleteClient = deleteClient;
        window.editTestimonial = editTestimonial;
        window.toggleTestimonial = toggleTestimonial;
        window.deleteTestimonial = deleteTestimonial;
        window.editJob = editJob;
        window.toggleJob = toggleJob;
        window.deleteJob = deleteJob;
        window.viewJobApplications = viewJobApplications;
        window.editPage = editPage;
        window.toggleSection = toggleSection;
        window.viewPage = viewPage;
        window.duplicatePage = duplicatePage;
        window.deletePage = deletePage;
        window.editUser = editUser;
        window.toggleUser = toggleUser;
        window.resetUserPassword = resetUserPassword;
        window.viewUserActivity = viewUserActivity;
        window.deleteUser = deleteUser;
        window.deleteMessage = deleteMessage;
        window.replyToMessage = replyToMessage;
        window.downloadCV = downloadCV;
        window.previewCV = previewCV;
        window.deleteApplication = deleteApplication;
        window.contactApplicant = contactApplicant;
        window.editRecruteurJob = editRecruteurJob;
        window.toggleRecruteurJob = toggleRecruteurJob;
        window.deleteRecruteurJob = deleteRecruteurJob;
        window.viewRecruteurApplications = viewRecruteurApplications;
        window.downloadLecteurCV = downloadLecteurCV;
        window.previewLecteurCV = previewLecteurCV;
        window.updateSiteTitle = updateSiteTitle;
        window.updateSiteSlogan = updateSiteSlogan;
        window.updateSiteDescription = updateSiteDescription;
        window.applyTitleGradient = applyTitleGradient;
        window.applySloganGradient = applySloganGradient;
        window.applyDescriptionGradient = applyDescriptionGradient;
        window.setHeroBackground = setHeroBackground;
        window.applyHeroGradient = applyHeroGradient;
        window.toggleTitleFormatting = toggleTitleFormatting;
        window.updateLanguageSettings = updateLanguageSettings;
        window.updateThemeSettings = updateThemeSettings;
        window.saveContactSettings = saveContactSettings;
        window.saveSocialNetworks = saveSocialNetworks;
        window.saveRecruitmentEmails = saveRecruitmentEmails;
        window.addRecruitmentEmail = addRecruitmentEmail;
        window.updateMaintenanceMessage = updateMaintenanceMessage;
        window.saveConsentSettings = saveConsentSettings;
        window.updateAdminProfile = updateAdminProfile;
        window.clearCache = clearCache;
        window.createBackup = createBackup;
        window.anonymizeOldData = anonymizeOldData;
        window.runPerformanceCheck = runPerformanceCheck;
        window.connectLinkedIn = connectLinkedIn;
        window.disconnectLinkedIn = disconnectLinkedIn;
        window.closeModal = closeModal;
        window.openModal = openModal;
        window.applyMultiFilters = applyMultiFilters;
        window.resetMultiFilters = resetMultiFilters;
        window.toggleMultiFilter = toggleMultiFilter;
        window.setFooterBackground = setFooterBackground;
        window.applyFooterGradient = applyFooterGradient;
        window.openRecruteurJobModal = openRecruteurJobModal;
        window.viewRecruteurApplications = viewRecruteurApplications || function(jobId) {
            console.log('Viewing applications for job:', jobId);
            const applications = siteData.cvDatabase.filter(cv => cv.jobId === jobId);
            console.log('Applications:', applications);
        };
        window.downloadLecteurCV = downloadLecteurCV || downloadCV;
        window.previewLecteurCV = previewLecteurCV || previewCV;
        window.executeRecruteurScript = executeRecruteurScript;
        window.executeLecteurScript = executeLecteurScript;
        window.renderRecruteurContent = renderRecruteurContent;
        window.renderLecteurContent = renderLecteurContent;
        window.setupRecruteurInteractions = setupRecruteurInteractions;
        window.setupLecteurInteractions = setupLecteurInteractions;
        window.openUserModal = openUserModal;
        window.updateRoleDescription = updateRoleDescription;
        window.exportAuditLog = exportAuditLog;
        window.exportLecteurCVs = exportLecteurCVs;
        window.openServiceModal = openServiceModal;
        window.openTestimonialModal = openTestimonialModal;
        window.openJobModal = openJobModal;
        window.openClientModal = openClientModal;
        window.openPageModal = openPageModal;
        window.openApplicationForm = openApplicationForm;
        window.exportAllCVs = exportAllCVs;
        window.exportCVDatabase = exportCVDatabase;
        window.exportAnalytics = exportAnalytics;
        window.exportConsentData = exportConsentData;
        window.generateGlobalReport = generateGlobalReport;
        window.markAsProcessed = markAsProcessed;
        window.markAsRead = markAsRead;
        window.removeHeroBackground = removeHeroBackground;
        window.removeFooterBackground = removeFooterBackground;
        window.removeRecruitmentEmail = removeRecruitmentEmail;

        /* ADD: admin-toggle-socials-persistence - Functions to control social networks visibility with persistence */
        
        /* SECTION: Individual Social Network Toggle */
        function toggleIndividualSocial(network, toggleElement) {
            const isActive = toggleElement.classList.contains('active');

            if (isActive) {
                toggleElement.classList.remove('active');
                // Masquer tous les liens de ce réseau
                document.querySelectorAll(`[data-network="${network}"]`).forEach(el => {
                    if (el !== toggleElement) {
                        el.style.display = 'none';
                    }
                });
                localStorage.setItem(`ae2i_social_${network}`, 'disabled');
                showNotification(`${network} désactivé`, 'info');
            } else {
                toggleElement.classList.add('active');
                // Afficher tous les liens de ce réseau
                document.querySelectorAll(`[data-network="${network}"]`).forEach(el => {
                    if (el !== toggleElement) {
                        el.style.display = '';
                    }
                });
                localStorage.setItem(`ae2i_social_${network}`, 'enabled');
                showNotification(`${network} activé`, 'success');
            }

            logActivity(currentUser.username, `Réseau social ${network} ${isActive ? 'désactivé' : 'activé'}`);
            forceSaveData();
        }

        /* SECTION: Load Social Network States on Init */
        function loadSocialNetworkStates() {
            const networks = ['linkedin', 'twitter', 'facebook', 'instagram', 'youtube', 'tiktok'];

            networks.forEach(network => {
                const state = localStorage.getItem(`ae2i_social_${network}`);

                if (state === 'disabled') {
                    // Désactiver le réseau
                    document.querySelectorAll(`[data-network="${network}"]`).forEach(el => {
                        if (el.classList.contains('toggle-switch')) {
                            el.classList.remove('active');
                        } else {
                            el.style.display = 'none';
                        }
                    });
                }
            });
        }

        function toggleSocialNetworks(toggleElement) {
            toggleElement.classList.toggle('active');
        }

        function applySocialsSettings() {
            const socialsToggle = document.getElementById('socialsToggle');
            const enabled = socialsToggle.classList.contains('active');

            if (!siteData.settings) siteData.settings = {};
            siteData.settings.socialsEnabled = enabled;

            if (saveSiteData()) {
                /* ADD: socials-visibility-update - Apply visibility dynamically */
                applySocialsVisibility(enabled);

                showNotification(
                    enabled ? 'Réseaux sociaux activés' : 'Réseaux sociaux désactivés',
                    'success'
                );
                logActivity(currentUser.username, `Réseaux sociaux ${enabled ? 'activés' : 'désactivés'}`);
            } else {
                showNotification('Erreur lors de la sauvegarde', 'error');
            }
        }

        /* ADD: socials-visibility-update - Apply social networks visibility */
        function applySocialsVisibility(enabled) {
            const socialElements = document.querySelectorAll('.footer-social-links, [class*="social"]');
            socialElements.forEach(el => {
                if (enabled) {
                    el.style.display = '';
                } else {
                    el.style.display = 'none';
                }
            });
        }

        /* ADD: admin-toggle-socials-persistence - Initialize socials state on page load */
        function initializeSocialsState() {
            if (!siteData.settings) siteData.settings = {};

            // Default to enabled if not set
            if (siteData.settings.socialsEnabled === undefined) {
                siteData.settings.socialsEnabled = true;
            }

            // Apply visibility based on saved state
            applySocialsVisibility(siteData.settings.socialsEnabled);

            // Update toggle button in admin if it exists
            const socialsToggle = document.getElementById('socialsToggle');
            if (socialsToggle) {
                if (siteData.settings.socialsEnabled) {
                    socialsToggle.classList.add('active');
                } else {
                    socialsToggle.classList.remove('active');
                }
            }
        }

        /* ADD: admin-database-export-clear - Database management functions */
        function exportCompleteDatabase() {
            try {
                const exportData = {
                    exportDate: new Date().toISOString(),
                    version: '1.0',
                    data: siteData
                };

                const dataStr = JSON.stringify(exportData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `AE2I_Database_Export_${new Date().toISOString().split('T')[0]}.json`;
                link.click();

                showNotification('Base de données exportée avec succès (JSON)', 'success');
                logActivity(currentUser.username, 'Export complet base de données (JSON)');
            } catch (error) {
                console.error('Error exporting database:', error);
                showNotification('Erreur lors de l\'export', 'error');
            }
        }

        function exportCompleteDatabaseZip() {
            try {
                const exportData = {
                    exportDate: new Date().toISOString(),
                    version: '1.0',
                    data: siteData,
                    metadata: {
                        totalApplications: siteData.cvDatabase ? siteData.cvDatabase.length : 0,
                        totalJobs: siteData.jobs ? siteData.jobs.length : 0,
                        totalUsers: siteData.users ? siteData.users.length : 0
                    }
                };

                const dataStr = JSON.stringify(exportData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `AE2I_Database_Complete_${new Date().toISOString().split('T')[0]}.zip.json`;
                link.click();

                showNotification('Base de données exportée avec succès (ZIP format)', 'success');
                logActivity(currentUser.username, 'Export complet base de données (ZIP)');
            } catch (error) {
                console.error('Error exporting database:', error);
                showNotification('Erreur lors de l\'export', 'error');
            }
        }

        function confirmClearDatabase() {
            const lang = siteData.language || 'fr';
            const confirmMessage = lang === 'en' ?
                'WARNING: This action is IRREVERSIBLE!\n\nAre you absolutely sure you want to DELETE ALL DATA?\n\n- All applications will be lost\n- All job offers will be lost\n- All settings will be reset\n\nType "DELETE" to confirm:' :
                'ATTENTION: Cette action est IRRÉVERSIBLE!\n\nÊtes-vous absolument sûr de vouloir SUPPRIMER TOUTES LES DONNÉES?\n\n- Toutes les candidatures seront perdues\n- Toutes les offres seront perdues\n- Tous les paramètres seront réinitialisés\n\nTapez "DELETE" pour confirmer:';

            const userInput = prompt(confirmMessage);

            if (userInput === 'DELETE') {
                const finalConfirm = confirm(
                    lang === 'en' ?
                        'LAST WARNING: You are about to delete everything. Continue?' :
                        'DERNIER AVERTISSEMENT: Vous êtes sur le point de tout supprimer. Continuer?'
                );

                if (finalConfirm) {
                    clearCompleteDatabase();
                }
            } else {
                showNotification(
                    lang === 'en' ? 'Operation cancelled' : 'Opération annulée',
                    'info'
                );
            }
        }

        function clearCompleteDatabase() {
            try {
                // Keep only essential settings
                const lang = siteData.language || 'fr';
                const newSiteData = {
                    settings: {
                        title: siteData.settings.title,
                        logo: siteData.settings.logo,
                        favicon: siteData.settings.favicon,
                        defaultLanguage: lang,
                        socialsEnabled: true
                    },
                    services: [],
                    clients: [],
                    testimonials: [],
                    jobs: [],
                    cvDatabase: [],
                    users: siteData.users || [],
                    activityLog: []
                };

                siteData = newSiteData;

                if (forceSaveData()) {
                    showNotification(
                        lang === 'en' ?
                            'Database cleared successfully. Page will reload.' :
                            'Base de données vidée avec succès. La page va se recharger.',
                        'success'
                    );
                    logActivity(currentUser.username, 'Vidage complet de la base de données');

                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                } else {
                    showNotification('Erreur lors du vidage', 'error');
                }
            } catch (error) {
                console.error('Error clearing database:', error);
                showNotification('Erreur lors du vidage de la base', 'error');
            }
        }

        // Expose new functions to window
        window.toggleSocialNetworks = toggleSocialNetworks;
        window.applySocialsSettings = applySocialsSettings;
        window.exportCompleteDatabase = exportCompleteDatabase;
        window.exportCompleteDatabaseZip = exportCompleteDatabaseZip;
        window.confirmClearDatabase = confirmClearDatabase;

        console.log('🎉 AE2I Enhanced Ultra-Professional Site - Multi-role System with Advanced Features Initialized Successfully');
    </script>
</body>
</html>